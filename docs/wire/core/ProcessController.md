# ProcessController

Source: `wire/core/ProcessController.php`

A Controller for Process* Modules

Intended to be used by templates that call upon Process objects

## other

@method string execute()

## defaultProcessMethodName

The default method called upon when no method is specified in the request

## __construct()

Construct the ProcessController

## setProcess()

Set the Process to execute.

@param Process $process

## setProcessName()

Set the name of the Process to execute.

No need to call this unless you want to override the one auto-determined from the URL.

If overridden, then make sure the name includes the prefix, and don't bother calling the setPrefix() method.

@param string $processName

## setProcessMethodName()

Set the name of the method to execute in the Process

It is only necessary to call this if you want to override the default behavior.
The default behavior is to execute a method called "execute()" OR "executeSegment()" where "Segment" is
the last URL segment in the request URL.

@param string $processMethod

## setPrefix()

Set the class name prefix used by all related Processes

This is prepended to the class name determined from the URL.
For example, if the URL indicates a process name is "PageEdit", then we would need a prefix of "Admin"
to fully resolve the class name.

@param string $prefix

## getProcess()

Determine and return the Process to execute

@return Process

## hasPermission()

Does the current user have permission to execute the given process name?

Note: an empty permission name is accessible only by the superuser

@param string $permissionName

@param bool $throw Whether to throw an Exception if the user does not have permission

@return bool

@throws ProcessControllerPermissionException

## hasMethodPermission()

Does user have permission for the given $method name in the current Process?

@param string $method

@param bool $throw Throw exception if not permission?

@return bool

@throws ProcessControllerPermissionException

## hasUrlSegmentPermission()

Does user have permission for the given urlSegment in the current Process?

@param string $urlSegment

@param bool $throw Throw exception if not permission?

@return bool

@throws ProcessControllerPermissionException

## getProcessMethodName()

Get the name of the method to execute with the Process

@param Process @process

@return string

@throws ProcessControllerPermissionException

## ___execute()

Execute the process and return the resulting content generated by the process

@return string

@throws ProcessController404Exception

## getViewFile()

Given a process and method name, return the first matching valid view file for it

@param Process $process

@param string $method If omitted, 'execute' is assumed

@return string

## jsonMessage()

Generate a message in JSON format, for use with AJAX output

@param string|array $msg Message string or in 3.0.246+ also accepts an array of extra data
  When using an array, please include a 'message' index with text about the error or non-error.

@param bool $error Is this in error message? Default is true, or specify false if not.

@param bool $allowMarkup Allow markup in message? Applies only to $msg string or 'message' index of array (default=false)

@return string JSON encoded string

## isAjax()

Is this an AJAX request?

@return bool
