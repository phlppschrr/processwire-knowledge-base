{
  "items": [
    {
      "title": "ProcessWire CMS documentation",
      "url": "https://processwire.com/docs/",
      "category": "Other",
      "file": "docs.md",
      "summary": null,
      "kind": "page"
    },
    {
      "title": "Getting started with ProcessWire CMS",
      "url": "https://processwire.com/docs/start/",
      "category": "Getting Started",
      "file": "docs/start.md",
      "summary": "Introductory topics on installation as well as some of the basics of ProcessWire’s structure, API and more.InstallationCovers installation of ProcessWire, troubleshooting installation and upgrading from version to version.Learn more →StructureOverview of ProcessWire’s structure in terms of pages, templates and fields. And an outline of the directory structure.Learn more →About the APIWhat the API is, why we think you'll like it, and how it makes ProcessWire a unique platform in the CMS landscape.Learn more →Template filesEvery time a page is loaded on your site, ProcessWire loads its template file, gives it content, and then runs it as a PHP…Learn more →API variablesProcessWire provides various API variables to every template file. These variables provide full access to all site content. This…Learn more →API accessIn ProcessWire there are several ways that you can access the API and we take a look at the most common ones here. Regardless of…Learn more →Output strategiesTemplate files receive content and how they deliver it to the user is what we call the output strategy. There are a few different…Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire installation guide",
      "url": "https://processwire.com/docs/start/install/",
      "category": "Getting Started",
      "file": "docs/start/install.md",
      "summary": "Covers installation of ProcessWire, troubleshooting installation and upgrading from version to version.InstallInformation on how to download and install a new copy of ProcessWire from a ZIP file, from GitHub, or with Composer.Learn more →UpgradeUpgrading ProcessWire is super-simple, but we also recommend that you be familiar with these best practices during upgrades.Learn more →TroubleshootIf you’ve run into an issue during installation or upgrade of ProcessWire, find out how to fix it here.Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire structure (Pages, Templates, Fields)",
      "url": "https://processwire.com/docs/start/structure/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/structure.md",
      "summary": "Overview of ProcessWire’s structure in terms of pages, templates and fields. And an outline of the directory structure.PagesAlmost everything in ProcessWire is represented by a Page. The term “Page” refers to a webpage, though in ProcessWire it’s also…Learn more →TemplatesEvery Page has a template which defines the type of Page and what fields are present on pages using it. Every template may be…Learn more →FieldsFields in ProcessWire are where the content is actually stored. Any field may be one of many storing content for a Page and its…Learn more →File systemAn outline of ProcessWire’s file and directory structure, highlighting the locations where your site’s files go, where the core…Learn more →",
      "kind": "page"
    },
    {
      "title": "Pages in ProcessWire CMS and how they work",
      "url": "https://processwire.com/docs/start/structure/pages/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/structure/pages.md",
      "summary": "Almost everything in ProcessWire is represented by a Page. The term “Page” refers to a webpage, though in ProcessWire it’s also much more. What is a Page?Page typesPage family treePage bucketsPages can reference one anotherAlmost everything in ProcessWire is a PagePage scalabilityWhat is a Page?Page is the primarily type used in ProcessWire, representing everything from the pages on your website to the users that access it. But there's nothing complex about a Page, in fact, it's really very simple.A webpage has a dedicated URL that you can type in your web browser and view. That accurately describes a ProcessWire Page too. A webpage usually has content, so does a Page in ProcessWire. Though in ProcessWire, a Page is not just something for the browser to load or the eyes to look at. It is a dedicated location with a unique URL where content is stored, whether visible to the browser or not.A Page in ProcessWire can be used to output content like a webpage, but it can also be used as a more general storage location for content. Whether it produces output at its dedicated URL or not is up to the web developer.In a standard ProcessWire installation, most pages are both a visible webpage on the front-end, and a storage container for content on the back-end. Very often the content that is stored with the Page is the same content that is output at its dedicated URL on the front-end. Though as we'll find out below, the utility of pages goes far beyond that.Page typesWhat content is stored on any given Page depends on what fields the Page contains. These fields are dictated by the Page's template. The template in essence defines the Page's type. Without a template to define the Page's type, a Page would just be an abstract empty container with no content (which we refer to as a NullPage).The important thing to remember for now is simply that every page has one or more fields defined by the template that it uses. We commonly refer to pages by their template. For instance, we might refer to a Page using the “blog-post” template as a “Blog post”, rather than just a Page.Page family treeAll the pages in a ProcessWire installation exist within a family tree structure. Every Page has a parent Page (except the homepage), and every page can optionally have children. The homepage is the root of the family tree and it has children that are the first level of descendants in that family tree. Those descendants can have their own children, and so on.This family tree structure is consistent with the structure of URLs, where the URL “/” would be the homepage, and the URL “/about/” would be a child of the homepage. The URL “/about/staff/” would be a child of the “/about/” page, which also makes it a grandchild of the homepage.ProcessWire’s API uses methods that are consistent with this family tree structure, so every Page has “parent” and “children” properties/methods that you can access, among several others.Perhaps your parents have defined some aspects of your life. The same goes for pages—any parent Page can define what default order its children (which are also pages) should appear in. This order can be based on any field present in each child Page's content (like a date or title), or it can be a manual order that an editor drags and drops them to.Page bucketsWhile all pages exist within a family tree structure, that's not the only way that pages can be referenced. Pages can be identified and/or loaded based on any property common to them, regardless of where they are in the family tree.It's common for the Page template to be used as the property used to find all pages of the same type, wherever they may be. Though it can actually be any property/field common to any group of pages, anywhere in the family tree. In this manner, pages can work like the “bucket system”.To use a metaphor, think of an outdoor family gathering where everyone that's getting hot is encouraged to jump into the pool for a swim to cool off. That would be our “bucket” of “people that were getting hot and wanted to cool off”. Who is in this bucket (a pool) has everything to do with properties of the people (those getting hot), and nothing to do with parent and child relationships.In ProcessWire, we might ask for a bucket of pages that contains “all product pages” (all pages using the “product” template). Or we might ask for all product pages that also have a price less than 100 Euros. Or we might ask for all that, but the pages must also have a description that includes the word “Apple” somewhere within their description. In ProcessWire, the “bucket” is called a PageArray, which is a unique group of pages that can exist at runtime outside of the family tree structure.In this manner, ProcessWire can behave as a dynamic bucket system, where everything is findable, filterable and sortable, regardless of the underlying family tree structure in the website. The entire site's content is at your fingertips. Any one Page can access any others, just as if they were already present in memory.Pages can reference one anotherAnother highly useful aspect of Pages is that they can cross reference each other in one-to-many, many-to-one, or many-to-many relationships, regardless of where they are in the family tree structure. We call these Page references.A common example of Page references are categories, like those you might use to identify the topics for a blog post. Every blog post can have one or more of these selected to categorize it among other blog posts. For instance, there might be a category named “videos” that you'd select for all blog posts that have an embedded video. A user can click that category to view all posts that contain videos, regardless of dates or whatever else might be organizing the blog posts.Almost everything in ProcessWire is a PageSince every Page can have a defined type (template), the utility of Pages goes far beyond just your website content. It's also what ProcessWire uses to represent individual users, roles, permissions, languages, and more. In addition, they represent every Page in ProcessWire's admin, which is itself a website built in ProcessWire.The benefit of everything being a Page is that this keeps the both the admin UI and the API very simple. Once you know how to work with a Page, you know much of what's needed to work with any other type in ProcessWire. This results in clean consistency with how you work in ProcessWire, whether it's from the API or from the admin UI.Page scalabilityThere is no hard limit to the number of pages you can have in ProcessWire, and they are designed to scale infinitely, within the limits of the database. A given page might be packed with fields, content and files, or it might only have a simple title field. Pages are highly flexible and likely to be your best choice for managing content, no matter how much or little is needed on any given Page.As scale increases, ProcessWire is ready-to-go with pagination of pages, lazy-loading pages, load-on-demand fields/content, caching of page loads and output, and more. ProcessWire is built with the assumption that your scale is large, regardless of how small or large it actually is, so that there is a quality, consistency and ease-of-use that transcends scale.",
      "kind": "page"
    },
    {
      "title": "ProcessWire templates and how they work",
      "url": "https://processwire.com/docs/start/structure/templates/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/structure/templates.md",
      "summary": "Every Page has a template which defines the type of Page and what fields are present on pages using it. Every template may be used by one or more pages.What is a template?Template filesExamples of templatesScalability and customizabilityOther Page settings managed by templatesWhat is a template?Each Page in ProcessWire is a storage container for content, and each Page also has a map for the structure of that content, called the “template.” The primary role of these templates is to define what fields are present on pages using them, but they also do much more.We refer to the template when talking about the type of a Page. For example, a template called “product” might represent a product being sold that has a title, description and price. Every page that uses the \"product\" template would represent a single product having the ability to store each of those fields (title, description, price). When a Page uses the \"product\" template, we would refer to it as a “Product Page”, since the template defines the type of Page that it is.If you are familiar with databases, you can think of the template as the database table that defines the fields for each row (schema), while each Page is one of those rows. While this isn't actually how ProcessWire maps pages and tables to the database, it can be a helpful metaphor in this case.Template filesEach template may also be represented with a PHP file in the /site/templates/ directory of a ProcessWire installation. Each template file is responsible for handling the output of pages that use the corresponding template. To repeat our earlier example, the “product” template would be represented by a file named /site/templates/product.php. That file could output the title, description and price of any product.Template files are only required for pages that must produce output when accessed at their URL. Without a template file to output a Page's content, there's nothing to output, so ProcessWire will produce a \"404 page not found\" error if the URL is accessed from the browser, regardless of whether a Page actually exists at that URL.Even in a default installation, many pages in ProcessWire have no template file. For instance, users, roles and permissions have no corresponding template file by default. That's because those Page types are used for access control, and we don't need or want them to produce any output.Examples of templatesEarlier we used an example of a “product” template, but let’s look at more common examples. It's common in websites to have a template named \"home\" to represent the homepage, and another called \"basic-page\" to represent basic content pages, like those you might use in an “About Us” section. These templates will always have corresponding home.php and basic-page.php template files to handle their output.If the site has a blog, we might have a template named “blog-post” to represent each post in the blog section of the site. If our site as a search engine or contact page, we'll likely use separate templates for those as well, as their content and/or implementation needs are likely to be unique relative to other pages in the site. For instance, our \"search\" template needs to have a template file (search.php) that takes user input and uses it to search on our content, then output links to the matching pages.Scalability and customizabilityYou can create as many templates as you need, and there is no limit to the number of pages you can create using any given template. Likewise, you can assign as many fields as you need to any template. This means the possibilities are endless in terms of custom content types and scalability. ProcessWire makes no assumptions about what your needs are and thus, all content types are custom content types.Needs change over time, and templates are built for this. You can add or remove fields from your template at any time. Those changes are immediately reflected upon any any pages using the template.Other Page settings managed by templatesThe primarily role of a template is to represent a Page's type, defining the fields of pages using it. But templates also define a lot more about the page, when and where needed:Access controlA template can define access control for pages using it. This is used to limit what roles can view, edit, move or delete pages using the template, what roles are allowed to create new pages of that type, and what roles are allowed add new child pages to them. The template can also dictate whether or not that access control gets inherited by its children, grandchildren, and so on.FamilyA template can dictate whether or not pages using it support children, as well as what templates are allowed for those children. Likewise, a template can indicate whether it is allowed to be used for new pages, and if so, where those pages can be created.URLsA template defines the style of URLs used by pages using it, and whether those URLs support pagination, URL segments, trailing slashes, and more. It can also dictate whether pages using it may only be accessed by HTTPS.FilesIf a template has a corresponding template file, it can indicate what its content-type will be on the front-end, whether that is HTML, XML, JSON, plain text, or any other user definable content-type. It can also indicate any other file that should be automatically prepended or appended to its output.CacheA template can be configured to cache its output on the front-end, so that it only reloads its PHP template-file at certain intervals, and delivers cached content the rest of the time. Several other settings accompany the details of how the caching should work.AdvancedA template can be categorized with tags, it can customize the page editor (when an edited page is using the template), it can dictate how required fields are handled, it can control how using it appear in the page list, and more.",
      "kind": "page"
    },
    {
      "title": "ProcessWire fields and how they work (all custom fields)",
      "url": "https://processwire.com/docs/start/structure/fields/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/structure/fields.md",
      "summary": "Fields in ProcessWire are where the content is actually stored. Any field may be one of many storing content for a Page and its output.What are fields?Defining a field’s type (Fieldtype)Collecting input for a field (Inputfield)Fieldtypes and Inputfields are plugin modulesWhat are fields?Fields store a single type of content. For instance, a base ProcessWire installation has a field named \"title\" that contains the Title of each Page. Thus there is one Title field per Page. Most ProcessWire installations also have a field called \"body\" which stores the multi-line Body Copy of a Page.These fields are defined in ProcessWire, and every installation can have a different set of fields. The relevant fields are added to each template in whatever combination and order the site developer chooses. A given field can be added to one or more templates, so fields are reusable across templates.When one goes to edit a Page, they see inputs only for the fields that are present on the Page's template. Fields can easily be added or removed from a template as needs change over time.Defining a field’s type (Fieldtype)Every field has a type, which is referred to as the Fieldtype (1 word). This Fieldtype indicates the type of content that the field is storing. In many cases, the names of the simpler Fieldtypes line up with the names of the HTML inputs they loosely represent. For instance, a multi-line text field would be of type “Textarea”, while a single-line text field would have type of “Text”.Collecting input for a field (Inputfield)Every field in ProcessWire is defined by its Fieldtype, but the Fieldtype doesn't handle the actual input for that field. This is handled instead by the Inputfield (1 word). An Inputfield actually renders the HTML needed to present an input to the user in a form, and then it handles the processing of that input when the form is submitted.Most of the time, the Fieldtype defines what type of Inputfield it requires to collect input for it, so you don't often have to consider it. Though in some cases a Fieldtype will let you select the Inputfield. For instance, the Textarea Fieldtype will let you choose either a regular Textarea, or a Rich-Text Editor (i.e. CKEditor) for input.Fieldtypes and Inputfields are plugin modulesOne thing that makes fields really flexible is that each Fieldtype and Inputfield is actually a type of plugin/module. The ProcessWire core comes with more than a dozen of them, which cover the most common needs. But any number of additional Fieldtype and/or Inputfield modules can be installed as modules, enabling you to store all kinds of different types of content. Many third party Fieldtype modules come with their own Inputfield modules and are installed together.FlexibilityGiven that ProcessWire can have any number of pages, any number of custom content types (templates), any number of fields, and any number of field types and inputs, that makes it extremely flexible to handle just about any content management need.",
      "kind": "page"
    },
    {
      "title": "ProcessWire file system structure",
      "url": "https://processwire.com/docs/start/structure/files/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/structure/files.md",
      "summary": "An outline of ProcessWire’s file and directory structure, highlighting the locations where your site’s files go, where the core files live, where to place modules, and more.ProcessWire follows a simple directory structure which aims to do the following:Keep your site's files and assets completely separate from ProcessWire's, so that you can upgrade your site simply by replacing ProcessWire's core.Minimizes the impact to your root installation directory, so that everything is clean and doesn't create confusion with other applications you may have installed.ProcessWire may be installed anywhere on your web server. While it's most common to install it in your web root (/) the software will run just as well under any directory structure.ProcessWire only creates two directories from your root. This includes /wire and /site. The /wire directory contains the ProcessWire installation and modules, while the /site directory contains everything unique to a given site, including templates, your configuration, stylesheets, scripts, cache files and other assets. This structure is outlined in more detail below.Root installation directory (/)/.htaccessRequired directives to Apache/index.phpBootstrap index file/install.phpInstallation script (you should delete this after installation)Core and modules (/wire/)/wire/core/ProcessWire core/wire/modules/Default plugin modules/wire/templates-admin/Templates, stylesheets and scripts for the admin control panelNote: To upgrade ProcessWire, you simply replace the entire /wire/ directory with that of the new version.All files unique to a given site (/site/)/site/config.phpYour site's configuration file/site/assets/All writable assets including files, images, cache files, logs and temporary files created by ProcessWire./site/install/Installation profile. You should delete this directory after installation./site/modules/Any plugin modules unique to a given site (optional)./site/templates/Template files specific to your site/site/templates/styles/CSS files specific to your site. You may locate this directory elsewhere, and/or rename it, if you prefer./site/templates/scripts/Javascript files specific to your site. You may locate this directory elsewhere, and/or rename it, if you prefer.Note: The /site/templates/ directory is the most used directory in developing a site.",
      "kind": "page"
    },
    {
      "title": "About the ProcessWire API",
      "url": "https://processwire.com/docs/start/api/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/api.md",
      "summary": "What the API is, why we think you'll like it, and how it makes ProcessWire a unique platform in the CMS landscape.Introduction to the APIWhat is an API in a CMS?Why is the API so important?What’s unique about ProcessWire’s API?What makes up the API?API VariablesSelectorsFluent InterfacesModule Plugin ArchitectureHow is the API similar to jQuery?DOM / Site MapMethodsChainingTraversingIntroduction to the APIWhat is an API in a CMS?API means application programming interface. In our context, it most commonly refers to the clearly defined interface (or tools) that the web developer uses to interact with content managed by the CMS. This interaction is most commonly used to produce output (like markup for the front-end of a site). In our case, the interactions can also be to manipulate content, create new content, and so on.ProcessWire is entirely built around the API, and its admin panel is actually a website built using this API. ProcessWire was a headless CMS before there was a term for it. ProcessWire's easy-to-use API can do everything that you can do interactively in the admin, and more.Why is the API so important?When it comes to a CMS, the API is the primary interface and set of tools that the web developer uses is developing a CMS-driven website/application. The web developer most commonly works within the context of output, like HTML, CSS and perhaps Javascript. But when it comes to retrieving or manipulating the actual content, it's between the CMS API and the developer. The quality, consistency and simplicity of using that API, and how well it works in the context of the front-end output, either makes or breaks the development experience.This is where ProcessWire's API comes into play. It focuses on making the development experience a joy while being simple, productive and powerful. It's about working the way you do, getting more done with less time, and having fun in the process.What’s unique about ProcessWire’s API?The ProcessWire API may already be comfortable and familiar for you, even if you've never used it before. To explain why it's both unique and familiar, lets first look at where it came from.When it was originally released, the jQuery javascript library was a paradigm shift. It took what was kind of a tricky and technical (Javascript) and turned it into something that was a joy to use. jQuery could be picked up quickly, and using it made my job fun. Its syntax was so simple, fast and powerful, that it was pure enjoyment for me, a web developer.Prior to jQuery, I knew some Javascript but couldn't do very much with it (PHP was really my focus). jQuery came along and changed all that. To my clients, it made me look like a pro on the front-end. It enabled me to build things I never could have before, and have fun doing it. I could produce a whole lot of results without a lot of time. While it's now more than a decade ago, jQuery changed my world as a web developer.It wasn't long after discovering and learning jQuery that I started longing for a similar experience in a CMS. There were a lot of open source CMSs out there, and I tried them all, but nothing approached the powerful and simple joy of jQuery when it came to web development. I had already been developing custom CMS platforms for many years, and I thought it was time to pursue this project.After more than a year of planning and development, the first open source version of ProcessWire was born. First came the design and planning of the API, then the CMS was built around it. Like jQuery, it's fun, fast, powerful, and a joy to use. It has also proven to be a secure platform for websites and applications, and every bit as sought after of a tool for clients as it is for developers. It's pure enjoyment in a CMS.Now more than eight years since the original open souce release of ProcessWire, this original concept is still our foundation and guide.What makes up the API?ProcessWire’s API consists of a few different components:API VariablesThe API consists of a few variables (via PHP objects) which are provided to your site's template files. These variables enable you to get or modify anything from your content, much in the same way that jQuery enables you to get and modify anything from the DOM.The two most common API variables are $page and $pages. For some sites, this is all that you will ever use. The $page API variables represents the current page being viewed, and $pages represents all the other pages in your site. These can be thought of like the $() object in jQuery.ProcessWire's API variables provide access to all the components in ProcessWire, including all the site's pages, users, templates and fields. They provide a means of finding, getting, creating, modifying, saving and deleting these types of data.You don't even need to build a site or application in ProcessWire in order to use the API. That's because the API can also be accessed by bootstrapping ProcessWire from another PHP script. More about API variablesSelectorsAnother major component of ProcessWire's API are selectors. Like in jQuery, selectors are simple strings of text that specify fields and values. For example, \"name=ryan\" is a simple selector that says: \"find items that have the name ryan.\" These selectors are used throughout ProcessWire to get and find pages (and other types of data). ProcessWire selectors resemble jQuery selectors in many instances, but are also quite different. More about ProcessWire selectorsFluent InterfacesMost of the API objects in ProcessWire are chainable, using a fluent interface. This enables you to accomplish multiple operations on one line, for example:echo $pages->get(\"/products/2010/\") ->find(\"template=faq, body*=Tobiko\") ->first() ->url;Might print something like this: /products/2010/sushi-knives/faq/Of course, you don't have to chain statements like that unless you want to.Module Plugin ArchitectureProcessWire is built around a modular architecture. Modules exist to enable a high level of extensibility and customization to an installation of ProcessWire. Nearly every component and action in ProcessWire is hookable. Much of ProcessWire itself is a collection of plugin modules. More about ModulesHow is the API similar to jQuery?ProcessWire's API is inspired by jQuery and its style and syntax. You'll find a lot of similarities, and you'll also find some differences. The goal behind the ProcessWire API is to provide the level of accessibility and control to your site's pages that jQuery provides to the DOM.There are fundamental differences in the way that PHP and Javascript work, not to mention even greater fundamental differences between an SQL database and the DOM. ProcessWire's API is inspired by jQuery, but it's on a completely different platform and there are as many differences as similarities. Nevertheless, my hope is that if you use jQuery, you'll find ProcessWire's API familiar and surprisingly easy to work with relative to other platforms. Even if you haven't worked with jQuery, the API is designed to be easy and approachable. Its scope is similar than that of jQuery from an API standpoint, though perhaps even easier to learn. Below are a few similarities you'll find between ProcessWire's API and jQuery.DOM / Site MapYou interact with your site's structure via ProcessWire's API in a manner similar to working with the DOM in jQuery. The hierarchy of your site can be thought of like a DOM hierarchy, where every node (page) has a parent and every node may have children, and so on. Likewise, every node (page) can have its own attributes (fields). Depending on the type of node (template) the attributes (fields) will be different.MethodsFor the most part, ProcessWire's API attempts to use the same method naming conventions as jQuery. For example, you may use the find(), children(), siblings(), parent() and parents() methods on any page (aka node) and optionally supply a selector.SelectorsProcessWire takes the idea of attribute selectors from jQuery and lets you apply that methodology to getting and finding pages in your site based on values in their attributes (aka fields). These selectors are a simplified version of what you find in jQuery, but the intention, experience and results are the same. For the most part, the operators used in a selector are the same as the operators used in jQuery selectors. More about SelectorsChainingLike in jQuery, you can chain method calls in ProcessWire if you want to. This is what's called a fluent interface. Sometimes this is convenient and sometimes not, but the option is always there. For example, the following bit of code of grabs the first file from a field named images on the current $page, resizes it to 200px width, and outputs the URL in an <img> tag:<img src='<?=$page->images->first->width(200)->url?>' alt='Example'>TraversingLike in jQuery, most traversing methods return values that can themselves be traversed and compared. For instance, a call to $page->find(...) or $page->children(...) returns an array type that also has its own methods for find(), filter(), first(), has(), add(), filter() and so on.",
      "kind": "page"
    },
    {
      "title": "ProcessWire CMS template files (PHP)",
      "url": "https://processwire.com/docs/start/templates/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/templates.md",
      "summary": "Every time a page is loaded on your site, ProcessWire looks at what template is assigned to the page, loads it, gives it several API variables, and then runs it as a PHP script.This section covers the use of template files and serves as an introduction to using ProcessWire’s API with examples.How do template files work?Basic UsageUsing other types of fieldsCreating markup is your job (most of the time)Finding and loading other pages from your template fileExample: finding all featured pagesBeyond the basicsTaking it furtherAnd further...Full example in contextNext stepsHow do template files work?Every time a page is loaded on your site, ProcessWire looks at what template is assigned to the page, loads it, gives it several API variables, and then runs it as a PHP script. These template files are located in this directory: /site/templates/.These template files can be as simple as a plain HTML file, or they can be as complex as as an entire PHP application. But like most CMS platforms, the most common instance if for templates to contain markup (HTML) with PHP tags inserted where necessary to output content from ProcessWire.Adding a template is as simple as placing a new file (with .php extension) in the directory above, going into ProcessWire admin, and clicking on Templates > New. It will find your template and ask you to select which fields should be added to it. This article describes how you would work with the ProcessWire API in a template file.Basic UsageLets assume we are editing a template file that is just an HTML document. Taking a value from your page in ProcessWire and outputting it from your template file is very simple. Here is an example of a line in a template file that outputs the current page's title:<h1><?=$page->title?></h1>Assuming the page's title field contains the value \"Hello World\", the resulting output of the template would be:<h1>Hello World</h1>The syntax that you saw above uses something called PHP short tags. Most PHP installations support this. However, if your PHP installation does not, then you would have to do this instead:<h1><?php echo $page->title; ?></h1>The $page variable seen in the examples above is one of a few API variables that ProcessWire provides to every template file. But $page is the one that you are likely to use most often. It contains all the fields present on the page being viewed. Every one of those fields can be referenced like the 'title' field above.For example, lets say that you had a field called 'bodycopy' that contained the body copy for your page. You might output it like this in your template:<div id='bodycopy'> <?=$page->bodycopy?> </div>The fields that you can reference from $page depend on what fields you have added to the template in the ProcessWire Admin, under Setup > Templates. The values output depend on what you've typed or pasted into them when editing the page in ProcessWire Admin.Using other types of fieldsMost fields contain simple values like text or numbers, but some fields can contain other types that you should output in a different way. For instance, lets say that you created a field with the 'Page' field type (FieldtypePage). That type of field is designed to hold one or more other pages. This is different from the title and bodycopy fields mentioned above, which just contained text.A similar (but more common) field would be $page->children, which is a built-in variable present on every $page. It holds any child pages (aka subpages).Here is an example of how this type of field works. Lets say that we wanted to output a list of all pages that are children (aka subpages) of the current page, and make them clickable links. First lets see what happens if we use the same strategy as above with the title and bodycopy fields, by putting this in our template:<?=$page->children?>The resulting output might look like this: 5723,4958,5937That's not what we wanted. But ProcessWire doesn't want to make any assumptions about what you want, so you have to be more specific. What we will do is loop through these child pages and output them in a list:<ul><?php foreach($page->children as $child) echo \"<li><a href='$child->url'>$child->title</a></li>\"; ?></ul>The resulting output might look like this:<ul> <li><a href='/about/contact/'>Contact Us</a></li> <li><a href='/about/press/'>Press Releases</a></li> <li><a href='/about/staff/'>Our Staff</a></li> </ul>For even shorter syntax, below is an alternative way to do the same thing, all on one line:<ul><?=$page->children->each(\"<li><a href='{url}'>{title}</a></li>\")?></ul>In this article, most of the time we'll use the longer syntax since it is more standard PHP and thus may be a little easier to follow. However we wanted to let you know that the shorter syntax is available, when or if you find it helpful. Creating markup is your job (most of the time)ProcessWire is designed to be completely document type agnostic, meaning it makes no assumptions about whether you are using it to output HTML, XHTML, HTML5, XML, JSON, any kind of web service, etc. As a result, ProcessWire's core framework never outputs markup, and that's why we generate the HTML markup in the manner shown in the examples above. However, plugin modules are provided with ProcessWire that do output Markup, should you want to use them (or create your own).A relevant example in this case is the MarkupPageArray plugin module, which is installed by default and adds a render() function to all fields that return a PageArray (as many functions in ProcessWire do). So a shortcut to the above example could be:<?php echo $page->children->render(); ?>In most cases, I recommend that you generate the markup yourself rather than using plugins to do it for you... especially when getting started. That way you will get a better understanding of the API and more control over your markup.Finding and loading other pages from your template fileThe API is not limited to just the $page variable and the variables reference will cover all of them for you. But lets look at another common one, which is the $pages variable. The $pages variable is your connection to all the other pages in your site. It provides get() and find() functions that enable you to find and load other pages with ease.For example, lets say that we have an 'address' field on our 'Contact Us' page, and it contains the text of our company's mailing address. We want to display it in the footer throughout our site. Here is what the code to do that might look like:<p>Visit us at: <?php $contact = $pages->get(\"/about/contact/\"); echo $contact->address; ?></p>The above example is intentionally verbose for explanation purposes. A shorter way of doing the same thing could be:<p>Visit us at: <?=$pages->get(\"/about/contact/\")->address?></p>That $pages->get() function will accept a path to a page (like above), a page ID number, or a selector. Assuming it can find a page matching your request, it will return just a single page. If there are more pages that match, it's still just going to return only the first one that it found.The $pages->find() function works like the get() function except that it returns multiple pages. We'll demonstrate it's use in the examples below.Example: finding all featured pagesAs an example, lets say that we wanted to display a list of all pages in the site that have a field called 'featured' with a value of 1 (in ProcessWire, a checkbox field has a value of 1 when checked). We want to display this list of featured pages in the sidebar of our homepage. Here is how we could do that in our homepage template file:<ul><?php $features = $pages->find(\"featured=1\"); foreach($features as $feature) echo \"<li><a href='$feature->url'>$feature->title</a></li>\"; ?></ul>Beyond the basicsSo now we've got a list of featured pages that we're displaying in the sidebar of our homepage. But what if we wanted it to do all of these too:Show 3 pages at the mostOnly show press releasesShow a dateShow a summarySort them newest to oldestTo achieve the above, we'll assume that press release pages have a 'date' and 'summary' field already. Here are a few ways we might find those pages. If they all have the same parent, then either of these statements achieves the same result:$pages->find(\"parent=/about/press/, featured=1, limit=3, sort=-date\");...or...$pages->get(\"/about/press/\")->children(\"featured=1, limit=3, sort=-date\");Looking at the above, we are using a selector to tell the find() or children() functions what to return. Selectors tend to be self explanatory at a glance. This selector literally says \"find the 3 most recent featured press releases.\"Note that the \"sort=-date\" essentially says \"sort by date descending\", whereas \"sort=date\" (without the minus sign) would mean \"sort by date ascending\". Since we want newest to oldest, we would need them sorted descending. To achieve that, we just precede the field name with a minus sign.Taking it furtherLets say that down the road the press releases section grows and now contains multiple categories of press releases, where the press releases are subpages of categories like: /about/press/marketing/ ... /about/press/investing/ ...We can no longer assume that all press releases have the same parent, so we'd have to approach our find a little bit differently:$pages->get(\"/about/press/\")->find(\"featured=1, limit=3, sort=-date\");This is exactly like one of the previous examples, except that the children() has been replaced by a find(). Using the find() function on any given page will traverse all levels of pages within it (children, grandchildren, great grandchildren, and so on), making it suitable for these press releases. Whereas the children() function always just refers to one level – direct children of the page being referenced.And further...But now the client is putting press releases not just in /about/press/, but also in the /products/ section of the site (and who knows where else!). We have to change our strategy to find press releases no matter where they are in the site. To do that, we're going to find our pages by their template rather than their location:$pages->find(\"template=press_release, featured=1, limit=3, sort=-date\");Full example in contextTo complete our example, here it is in context, including display of the date and summary:<ul><?php $features = $pages->find(\"template=press_release, featured=1, limit=3, sort=-date\"); foreach($features as $feature) { echo \"<li>\" . \"<h3><a href='$feature->url'>$feature->title</a></h3>\" . \"<span class='date'>$feature->date</span>\" . \"<p>$feature->summary</p>\" . \"</li>\"; } ?></ul>Next stepsLook at the different output strategies that you can use with your template files.Take a look at the template files included with your ProcessWire installation in /site/templates/. They are live examples commented to help get you going.",
      "kind": "page"
    },
    {
      "title": "ProcessWire API variables",
      "url": "https://processwire.com/docs/start/variables/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/variables.md",
      "summary": "ProcessWire provides various API variables to every template file. These variables provide full access to all site content. This page provides an introduction on how to use them.API variables can be accessed in a few different ways. The most common way is as a variable. Here are a few different ways you might access the same $page API variable (as an example):$page the most common access as a variable.page() accessing as a function can be very convenient, when available.wire('page') This works anywhere, and with any version of ProcessWire.wire()->page This works anywhere too, and is more IDE friendly.$this->page This is how you might access it from within a Wire-derived class.$this->wire('page') A slightly more efficient way you can access from within a Wire-derived class.$this->wire()->page Like the above, but more IDE friendly.$pages->wire()->page API variables can also access all other API variables, by way of their wire() method. In this example, we are accessing the $page API variable from the $pages API variable. So if you have any one API variable, then you actually have them all.Accessing API variables as a function rather than a variable can be more convenient when the variable version may be out of scope, or if your IDE highlights API variables as undefined. So whenever we refer to an API variable, make note that access it however you'd like.This is just an introduction to some of ProcessWire's API variables. Once you are familiar with these, you'll want to use ProcessWire's full API reference instead.Some of ProcessWire’s most common API variables$pageThe $page variable is provided to every template, and it contains all the fields specific to the page being viewed. This includes…Learn more →$pagesWhile the $page variable holds the current page, the $pages variable is where you can get at all the other pages in your site. It…Learn more →$inputThe $input variable is your connection to GET, POST and COOKIE variables, URL segments, page (pagination) numbers, and more.Learn more →$sanitizerThe $sanitizer functions are provided to fill the most common data sanitization needs with sites developed in ProcessWire. Always…Learn more →$sessionThis API variable provides access to read/write of session variables, login and logout of users, redirects, and more.Learn more →$fields$fields is an API variable that contains all the custom page fields in your site. It provides the API functions available in the…Learn more →$userThe $user API variable is your connection to the current user viewing the page.Learn more →$logThe $log API variable enables you to create, manage and filter log entries. Log files are stored in /site/assets/logs/.Learn more →$templatesThe $templates API variable provides access to all of your site’s templates. Use the $templates API variable to retrieve, modify…Learn more →$configThe $config API variable contains all the settings specific to your site configuration. This includes URLs and paths, database…Learn more →",
      "kind": "page"
    },
    {
      "title": "API access",
      "url": "https://processwire.com/docs/start/api-access/",
      "category": "https://processwire.com/docs/start/install/troubleshooting/",
      "file": "docs/start/api-access.md",
      "summary": "In ProcessWire there are several ways that you can access the API and we take a look at the most common ones here. Regardless of what method you use, you are technically accessing what are called API variables.Each API variable has a unique name to distinguish it from others. For instance, the “pages” (plural) API variable provides access to loading and saving pages, the “page” (singular) API variable provides access to the page being viewed, the “input” API variable provides access to user input, and so on. See the API reference for a full list of ProcessWire’s core API variables.There are several different ways to access these API variables. For instance, all of the following accesses to the $page API variable are synonyms of each other, though with different benefits depending on the context:$page when $page in scopepage() when using functions APIwire('page') works anywhere$wire->page when $wire in scope$this->page when in Wire-derived classes$this->wire('page') when in Wire-derived classes (preferred method)You might even come across more but the above are those you are most likely to see at some point.You are always accessing the same exact thingWhichever way you access an API variable, there’s no need for confusion, simply remember that you are always accessing exactly the same thing. The return value from all of the above access methods would be identical.In the same manner, you might have several different shoes that you wear, but it does not matter what shoes you wear because you are always the same person. Changing shoes does not cause you to become confused, thinking you are now a different person. You naturally choose different shoes depending on the context, like wearing boots in the snow, or sandals at the pool. Regardless of what shoes you wear, those shoes are still walking the same person. Likewise, you can choose different ways of accessing the ProcessWire API depending on the context. Though you don’t have to unless you want to—if you are comfortable with one particular access method, it's generally fine to stick with it. But, since you are reading this, I'm guessing you are interested in learning more…However you access the API variables, each has several methods/functions and/or properties that enable you to communicate with the API variable. This part is always the same, regardless of how you’ve accessed a particular API variable. For instance, with the “pages” API variable you might ask it to find pages using the find() method, i.e. $pages->find('selector') or pages()->find('selector'). Or on the “page” API variable, you might ask it for the “title” of the current page from the page title property, i.e. $page->title or page()->title.So now you know—there are several different ways that you can access these API variables, and it doesn’t really matter how you do so. But over time you may find one method preferable over another, depending on the context. The most common context is from your site’s template files. Other contexts include the code of modules and/or PHP classes, or even other applications or scripts that you’ve booted ProcessWire from. We’ll cover all of these contexts here, though most users will likely be focused on the context of template files since that is where most site-specific development occurs.API variables in template files (the most common context)Most users will be accessing API variables exclusively from the context of their site’s template files. The two most common ways to access API variables from template files are directly, like $pages or as a function, like pages(). Sometimes you might also see wire('pages'). They are all the same thing, but we’ll cover them all here and look at the benefits and drawbacks of each.If you’ve seen other API access methods like $this->pages or $this->wire('pages'); those are access methods that you would use from within a PHP class. Meaning, if you see $this as part of the access method, you can ignore it for now because template files are not PHP classes. Only when you get into module development are you likely to use access methods that start with $this.The API as PHP $variablesThe most common way to access the API is from PHP variables like $pages, $user, $input, etc. This has been available all the way since ProcessWire version 1.0. Every template file that ProcessWire renders is provided with all of the defined API variables, ready to access. If new API variables are added by some module, they likewise become available as $variables in your template files.The API as PHP functions()In ProcessWire 3.x you also have the option of accessing the API as PHP functions, i.e. pages(), user(), input(), etc. They access exactly the same thing as their variable counterparts, but are just typed slightly differently in that they are accessed as var() rather than $var, which is a very minor difference. Accessing a property or method from them is identical, i.e. $var->method() and var()->method() are equivalent. However, the function version adds some additional convenience that we’ll take a closer look at here.Enabling the functions APIFirst things first, if you want to use the functions API, you might have to enable it, if it isn’t already. For most new installations, it will already be enabled by default. But for existing installations you may have to add the following to your /site/config.php file:$config->useFunctionsAPI = true;Or if you just want to experiment with it before enabling it for your site, you can include the file below from your template file (or _init.php file) and the Functions API will become immediately available:include_once($paths->core . 'FunctionsAPI.php');Finally, there’s also another option. You can access any functions from the functions API even when it’s not enabled just by prepending the word “wire” to the function name. For instance, rather than calling pages() you would call wirePages(). However, if you are going the route of using functions rather than variables, I suggest just enabling the functions API as the wire[Name] versions are a bit verbose.The reason the functions API might not be enabled by default on your existing installation is because it was not originally available in ProcessWire. If you happened to create your own PHP functions having the same name, it would collide with the functions API. For this reason, it may not be enabled for existing installations unless you specify that it should be in your /site/config.php file. If it’s not already enabled, we recommend that you enable it so that you can take advantage of its conveniences.Benefits of the functions APIFunctions are always in scope (variables are not)When ProcessWire renders your template file, it provides all of the API variables to it. But a best practice when coding anything is: do not repeat yourself. Meaning, don’t write the same blocks of code more than once. Most commonly you do this by bundling that block of code into a function, and then calling that function whenever you need the logic that it provides. The problem is that such functions will not see any of the API $variables (unless you pass them in as arguments)—but they can see the API functions, because they are always in scope.Unlike Javascript, in PHP, variables existing outside the function block are not visible within the function block. Chances are you need one or more API variables in your functions, so you must pass them in as arguments or in use() statements. This is no problem if you know what you are doing (other than more typing) but for people learning PHP, it can be a point of confusion. And for people that know what they are doing, it’s more work. We don’t like more work.By contrast, with the functions API, it does not matter whether your code is in a function or not because the API functions are always accessible (aka in scope), and always accessed the same way. That means fewer variables for you to keep track of (always a good thing), less code for you to type, code that’s potentially easier to read, and almost certainly less confusion, especially for those new to PHP.Functions cannot be accidentally overwritten (variables can be)When using API variables, it’s possible to accidentally overwrite any API variable, and thus break your site. Sometimes it’s not immediately obvious. Take the following as an examples:// oops, we just overwrote the $page API variable foreach($pages->find(\"template=basic-page\") as $page) { … } // oops, we just overwrote the $user API variable foreach($users->find(\"role.name=editor\") as $user) { … } // oops, we just overwrote the $files API var $files = new \\DirectoryIterator(\"/path/\");Given that there are so many API variables, you need to be familiar with all of them ahead of time in order to avoid overwriting them. If you aren’t careful, you can run into trouble since many of the API variables use common names. And when you accidentally overwrite an API variable, it may be difficult to discover you have done so. After all, overwriting a variable in PHP is not considered an error (they are designed to be written to, which is kind of the purpose). Yet in the case of API variables, we never want them to be overwritten. If you later need to access one that’s been overwritten, the side effects of doing so would be an error indeed, and potentially a catastrophic one.By contrast, you cannot overwrite a function once it has been defined. We could not accidentally overwrite the pages() function, for instance. So by standardizing on using API functions like pages() rather than variables like $pages, it’s not a problem if you overwrite an API variable, because you aren’t using them.Functions are self-documenting (variables are not)Most web developers use a software for editing their template files that recognizes PHP and HTML, provides syntax highlighting, auto-completion, various hints and other features. Depending on the case, it might be what’s called an IDE. PhpStorm is one widely used and common example with ProcessWire. Because such software is smart enough to know the ins-and-outs of PHP syntax, it’s also smart enough to highlight common errors like undefined variables, unknown types and more. That’s very useful, but also problematic when it comes to API variables.The problem is that whenever you access an API $variable, the editor will flag it as an error since it can see that the variable has not previously been defined. Of course, the variable actually is defined (at runtime, rather than explicitly), but there’s not really a way for the editor to know that.Ignoring these “undefined” and “unknown” errors is a minor annoyance, but there’s another factor. Even if we turn off those “undefined” and “unknown” inspections, the editor still doesn’t know what the variable is. As far as it knows, $pages (or any other API variable) could be null, a string, an integer, or an instance of anything. It has no idea it is actually an instance of the Pages class. And as a result, it cannot provide us with code hinting, auto completion or argument details when we access anything from that API variable. We are essentially flying blind, using our IDE as if it were just a plain text editor. However, we can overcome that limitation by specifically telling our IDE what each variable is, like this:/** @var Pages $pages */ /** @var WireFileTools $files */ /** @var WireMailTools $mail */ /** @var Sanitizer $sanitizer */ /** @var Page $page */ /** @var User $user */ /** and on and on… */This is fine, but it’s also a pain. Maybe there are other ways to inform our IDE, but the fact is that it’s a lot of extra work, and likely not going to even be apparent to someone new to—or learning—ProcessWire, where it’s even more important.None of these concerns applies when accessing the API as functions. That’s because functions, by nature, are self documenting. Your editor/IDE will know exactly what you are doing as soon as you type pages(), files(), mail(), sanitizer(), page(), etc. You don’t have to do anything other than start typing the function name, and it’ll even know how to finish typing it for you. And once the function is there, it knows all of the methods, arguments, properties and everything there is to know, without you having to tell it anything. It can fill in the blanks for you and identify when you make an error. So accessing the API as functions makes life a lot nicer if you are using a quality code editor or IDE. And if you aren’t yet using such a software, then look into it, you will be in for a real treat.Many API functions have time-and-code saving shortcutsThe most common way to access API functions is by calling them without any arguments between the parenthesis, i.e. pages(). All of the API variables can be accessed as functions in this manner, and they simply return the API variable. This is what we recommend for most cases. But many of the API variables also support optional arguments as well, enabling you to use time-saving shortcuts when/if the desire arrives.For instance, the two most common calls to the $pages API variable are to get() or find() pages, so the pages() function provides these built-in shortcuts: if you give it an argument of a single page ID, path or name, it will behave the same as a $pages->get(…); call, returning that single page with less code, i.e. pages(…); Or, if you give it a selector string (something that can match multiple pages) then it will behave as a $pages->find(…) call, returning those multiple pages, giving you the same result with less typing. Shortcuts can be quite handy at times.Functions provide greater contrast with your own variablesWhen working on any reasonably complex project, you are going to be working with PHP variables quite a bit. Beyond what we mentioned earlier about the dangers of accidentally overwriting API variables, there’s also the factor that accessing the API from functions provides a more obvious and distinct contrast between what are ProcessWire API calls and what are your own variables, ultimately making your code easier to read and maintain.API variables are distinctly different types from your own runtime variables. Yet as far as PHP is concerned—and far as your syntax-highlighting editor is concerned—they are no different from any other variables (other than that it might think they are undefined). But when accessing the API from functions, there is much more obvious distinction between API access calls and your own variables. I personally find this helps a lot with adding clarity to my own template files.The functions API also has adds extra helper functionsThis is a fairly minor point, but beyond just providing access to ProcessWire’s core API variables, enabling the functions API also enables some additional functions that are convenient for website development, such as region(), setting(), and perhaps more down the road. The region() function stores runtime markup, while the setting() function enables you to maintain site-specific settings.Potential drawbacks of the functions APIThe functions API provides a nice convenience for accessing API variables, but there are also a few considerations to be aware of when using the functions API:The functions API is specifically built as a convenience for front-end website or application development. While it can be used anywhere, it is not intended for modules and back-end processes/hooks.For API variables with properties (like $page and $user) It’s simpler to dereference variables in double quoted strings than it is functions.If booting multiple independent ProcessWire instances on the front-end, you have to pay attention what instance is the current instance.The functions API is not enabled by default on existing installations, requiring you to enable it in your $config or use “wire” prefixed versions of the functions.Not all API variables are available as functions. Only those that are likely to be needed on the front-end of a website or application are available as functions. As a result, it’s a very specific list of functions that does not change based on what modules are installed, etc. (this might also be seen as a benefit in clarity for some)API variables provided by 3rd party modules are not available as functions (other than through the wire() function) unless the module developer has opted to create one.Other API access methodsUsing the API with multiple ProcessWire instancesTechnically you can boot multiple different instances of ProcessWire. In a multi-instance environment there may be some ambiguity about what instance API functions and variables are referring to. So when booting multiple instances of ProcessWire, you will want to access your API variables directly from the ProcessWire instance. This will either be $wire (the variable the represents the default instance) or it will be the ProcessWire object returned by your own $pw = new ProcessWire(…); call. In such a case, you would access the $pages API variable or function via $wire->pages or $pw->pages, depending on the names you chose and the instance you intended (we’re using $pw here as an example, but that could be anything that you choose).While somewhat rare to do this from template files, it is technically possible. In such a case, the instance that was present when your template file started rendering should be the same instance that is present on all of your API variables that are currently in scope. In this case, you might prefer to stick with using API variables accessed as literal $variables, as there may be ambiguity about what instance API functions are referring to. However, this can be overcome by calling ProcessWire::setCurrentInstance($wire); where $wire is the object that represents the instance you want it to use. Though for the ideal multi-instance support, your best bet is to access your API variables directly from the $wire variable that represents each ProcessWire instance, i.e. $wire->pages.Using the wire('var') functionAll versions of ProcessWire come with a handy wire() function that provides easy access to the entire API. The wire() function is always in scope, meaning it’ll work anywhere, and is always enabled. Calling this function with no arguments returns the current ProcessWire instance. Or calling it with the name of an API variable, i.e. wire(‘pages’); returns that API variable, ready to use.$items = wire('pages')->find('template=product'); $headline = wire('page')->get('headline|title');While this wire() function can be very handy, it’s one that is best used just on the front-end in template files (and related). Like the other API functions, it’s bound to whatever is the current instance of ProcessWire, so if you are booting multiple instances, a naked wire() call might be somewhat ambiguous. The wire() function also isn’t as self-describing as the other API variable functions, though it is an improvement over the naked API variables in that respect. But I suggest using wire() for occasional needs on the front-end, like when a variable is out of scope. Or better yet, use the functions API. A lot of wire() calls tends to create confusing redundancy (with “wire” everywhere), which is not present when using more specifically named API variables or functions.Accessing API variables from within modules or classesYou cannot access API variables directly in a class (i.e. $pages), because they are out of scope. You can use the API functions like pages() or wire(‘pages’), as they are in scope, but we recommend a different strategy…When you are in a Wire-derived class (such as a ProcessWire module), you should preferably access API variables from $this->var (like $this->pages). That’s because ProcessWire injects dependencies into every Wire-derived object, which ties it to the current instance. Modules are more likely to be shared and thus more likely to end up in a multi-instance environment. Accessing your API variables from $this->var ensures no ambiguity about what instance they getting pulled from.While $this->var works, in most cases we recommend going a step further and instead using $this->wire(‘var’); because it’s slightly more efficient, and sightly safer. That’s because it prevents the possibility of name collisions between API variables and your own class variables. Though if you are being reasonably careful, it doesn’t really matter whether you use $this->var or $this->wire(‘var’); But I like using $this->wire(‘var’) because it’s a little more efficient.Accessing API variables from hooksHooks have the same considerations as classes. You won’t be able to directly access variables like $pages because they are out of scope. However, if your hook function happens to be in a class, then you can access API variables the way that was described in the section before this one. Though there’s also another way. Very often hooks are defined as a function directly on the addHook() statement. Every hook receives a HookEvent object. You can access all of the API variables from the wire() method of the HookEvent. In the example below we are accessing the $log API variable from the HookEvent’s wire() method:$pages->addHookAfter(\"saved\", function(HookEvent $e) { $e->wire(\"log\")->save(\"saved-log\", \"Page {$e->object->path} was saved\"); });This is the recommended way to access API variables from hooks. If your hook function is instead part of a module/class, then it doesn’t matter really whether you access it from the HookEvent or from $this. If your hook is a front-end hook for your own purposes (rather than a shared module) then it’s also just fine to access API variables from the functions API or from the wire() function as well. But for more portable hook code, it's preferable to access API variables directly from the HookEvent ($e) object.Accessing the API from another applicationWhen you are bootstrapping ProcessWire from another application, chances are that application is going to be in a different PHP namespace. So the functions API and even the wire() function might not be available without referencing ProcessWire’s namespace. Though whether other namespaces are involved or not, I recommend accessing the API directly from the ProcessWire instance that you booted. When you bootstrap ProcessWire, it returns the ProcessWire instance to you, and you can access the API variables directly from the instance. In the example below, we’ve named our instance $wire, and thus can access API variables from it:$wire = new ProcessWire(); $items = $wire->pages->get('/products/')->children();",
      "kind": "page"
    },
    {
      "title": "Front-end CMS output in ProcessWire",
      "url": "https://processwire.com/docs/front-end/",
      "category": "Front-end",
      "file": "docs/front-end.md",
      "summary": "Topics on using the ProcessWire API to render output on the front-end of your site with your template files.Output strategiesTemplate files receive content and how they deliver it to the user is what we call the output strategy. There are a few different…Learn more →URL segments and routingURL segments enable your page’s template file to become a URL router or controller to act upon different URLs sent to it.Learn more →Include & bootstrapUse ProcessWire’s API in other PHP apps and shell scripts… It’s easy!Learn more →Front-end editingEdit pages on the front-end of your site with the core PageFrontEdit module.Learn more →PaginationThis module renders navigation for pagination. Such navigation usually appears as a list of \"1, 2, 3, next…\" links at…Learn more →",
      "kind": "page"
    },
    {
      "title": "Output strategies for template files in ProcessWire CMS",
      "url": "https://processwire.com/docs/front-end/output/",
      "category": "Front-end",
      "file": "docs/front-end/output.md",
      "summary": "Template files receive content and how they deliver it to the user is what we call the output strategy. There are a few different options and this section covers each in detail.Direct outputYou already know direct output because it simply means printing output directly, as you might do in any other PHP script.Learn more →Delayed outputDelayed output focuses on rendering the content/markup for all the various regions of our final document ahead of time, but…Learn more →Markup regionsMarkup regions give you the best of both worlds—the simplicity of direct output with the power of delayed output, just using HTML.Learn more →",
      "kind": "page"
    },
    {
      "title": "Using URL segments and routing in ProcessWire CMS",
      "url": "https://processwire.com/docs/front-end/how-to-use-url-segments/",
      "category": "Front-end",
      "file": "docs/front-end/how-to-use-url-segments.md",
      "summary": "URL segments enable your page’s template file to become a URL router or controller to act upon different URLs sent to it.What are URL segments?How do you enable URL segments?Where can you use URL segments?How does a template file identify URL segments?Best practicesUsing $input->urlSegmentStr insteadPage numbers and URL segmentsURL segment whitelistWhat are URL segments?URL segments are the parts of a URL or path delimited by slashes. So if you had the path /path/to/page/ then \"path\", \"to\", and \"page\" would each be a URL segment. But ProcessWire actually uses the term \"URL segments\" to refer to the extra parts of that URL/path that did not resolve to a page.Lets assume that the path /products/tools/hammer/ resolved to an actual page in our site when accessed at that URL. But lets say that we accessed the URL /products/tools/hammer/photos/ and the /photos/ portion at the end does not resolve to a page. Because \"photos\" did not resolve to a page, ProcessWire considers this a URL segment for the \"hammer\" page. If URL segments are enabled for the page's template, then the \"hammer\" page will displayed, despite the fact that we had the \"photos\" segment at the end. Because it is the first URL segment that didn't resolve to a page, it is considered URL segment #1.If there was yet another segment appended to it, like /products/tools/hammer/photos/grip/ then \"photos\" would be URL segment #1 and \"grip\" would be URL segment #2. The \"hammer\" page would still be displayed, but its template file could respond to the different URL segments however it wanted. In this case, the logic in the template file might look for \"photos\" in URL segment #1 and display a photo gallery when present.As you might gather from this example, URL segments enable your page's template file to become a URL router or controller to act upon different URLs sent to it.How do you enable URL segments?URL segments are not enabled by default. They have to be enabled for each template you want them in: Setup > Templates > [your template] > URLs > Enable URL segments. By default, ProcessWire allows up to 4 stacked URL segments before it'll start throwing 404s. You may modify this setting in your /site/config.php file via the $config->maxUrlSegments directive:$config->maxUrlSegments = 4;Where can you use URL segments?You can use URL segments on any page where your template settings allow, regardless of whether it has children or not. Should there be a child page that has the same name as a URL segment that the parent page's template is looking for, the pages in the tree always have precedence. Meaning, URL segments only apply if the requested URL did not resolve to an actual page. As a result, you should avoid using URL segments where you think the page names and URL segments could collide.How does a template file identify URL segments?URL segments can be accessed from the $input API variable:$input->urlSegment($n); // Retrieve the $n'th URL segment (1–3*) $input->urlSegment1; // Retrieve the first: /path/to/page/aaa/ $input->urlSegment2; // Retrieve the second: /path/to/page/aaa/bbb/ $input->urlSegment3; // Retrieve the third: /path/to/page/aaa/bbb/ccc/ $input->urlSegmentStr; // Retrieve all: /path/to/page/aaa/bbb/ccc/Example:if($input->urlSegment1 == 'photos') { // display photo gallery } else if($input->urlSegment1 == 'map') { // display map } else { // display main content }Best practicesWhen you have URL segments enabled for your template, any segments can be used to arrive at the same page. As a result, it is a best practice to respond to the segments you want, and deny all others. We recommend that you trigger a \"404 not found\" error when you come across an unrecognized URL segment. Lets take the example from the previous section and modify it to account for this:// we are only using 1 URL segment, so send a 404 if there's more than 1 if(strlen($input->urlSegment2)) throw new Wire404Exception(); if($input->urlSegment1 == 'photos') { // display photo gallery } else if($input->urlSegment1 == 'map') { // display map } else if(strlen($input->urlSegment1)) { // unknown URL segment, send a 404 throw new Wire404Exception(); } else { // display main content }Another way of doing the same thing is to use PHP's switch statement:// we are only using 1 URL segment, so send a 404 if there's more than 1 if(strlen($input->urlSegment2)) throw new Wire404Exception(); switch($input->urlSegment1) { case '': // Segment 1 is empty so display main content break; case 'photos': // Display photo gallery break; case 'map': // Display map break; default: // Anything else? Throw a 404 throw new Wire404Exception(); }Arguably this method is easier to follow and to add further options, but it is a matter of personal preference.Using $input->urlSegmentStr insteadIf you want to retrieve all URL segments in one string, then $input->urlSegmentStr() does the trick. This is often preferable to retrieving a single URL segment like $input->urlSegment1 because we can automatically exclude the possibility of additional URL segments. If you simply replace the switch statement in the previous example with switch($input->urlSegmentStr) then you can effectively remove the first line of code from the example, which would throw a 404 if a second URL segment was also present.The urlSegmentStr method/property is also convenient if you need to check multiple segments at a time. Note that the urlSegmentStr never contains a leading or trailing slash.if($input->urlSegmentStr() === 'photos/primary') { // display primary photo } else if($input->urlSegmentStr() === 'photos/secondary') { // display secondary photo } else if(strlen($urlSegmentStr)) { // unknown URL segment throw new Wire404Exception(); }Page numbers and URL segmentsWhen using pagination, you may also see page numbers in URLs, like /a/b/c/page2/. The page2 portion is not considered a URL segment and is instead considered a page number. When page numbers are enabled for your template, any URLs matching the page number format will not be counted towards your URL segments. When both URL segments and page numbers are used, the page numbers always appear at the end.URL segment whitelistIf you don't want your template file to have to determine when to throw a 404 for unknown URL segment(s) you can define a whitelist of URL segments. This is done by editing any template (Setup > Templates > your_template) and then clicking on the URLs tab. You'll see a “Which URL Segments do you want to allow?” field where you can directly specify the URL segments you want to allow, or a regular expression to match what's allowed.",
      "kind": "page"
    },
    {
      "title": "Bootstrapping ProcessWire CMS from external scripts",
      "url": "https://processwire.com/docs/front-end/include/",
      "category": "Front-end",
      "file": "docs/front-end/include.md",
      "summary": "Use ProcessWire’s API in other PHP apps and shell scripts… It’s easy!ProcessWire's API and data can be used from other PHP scripts, including command line PHP scripts. This is a simple matter of just including ProcessWire's ./index.php file from any other PHP script.include(\"/path/to/processwire/index.php\");It doesn't matter if your intended use is HTTP or command line... ProcessWire will auto-detect the state from which it was included.Once you've included ProcessWire like in the example above, the API is now available to you, just like in template files. For example, here is how you would retrieve a fictional \"Contact Us\" page from ProcessWire's $pages API variable. Each line below is equivalent, so what syntax best suits your needs:$mypage = $pages->get(\"/about/contact/\"); $mypage = pages()->get(\"/about/contact/\"); $mypage = $wire->pages->get(\"/about/contact/\"); $mypage = wire('pages')->get(\"/about/contact/\");Note that if using pages() or wire('pages') with ProcessWire 3.x, you'll need to call them from the ProcessWire namespace. You can do this by having a namespace ProcessWire; at the top of your PHP file, or by referencing the namespace directly, i.e. \\ProcessWire\\wire('pages')->get(…);You can access all of the same API variables that you can from a template, except that there is no default $page variable accessible from the API since ProcessWire is not handling the web request. Of course, you are welcome to retrieve any page you want from the $pages API variable. Likewise you can modify, save, and delete pages as usual.Creating a ProcessWire command-line scriptHere is an example of a command line shell script called sitemap.sh that outputs all pages in the site in an indented site map. We do this with a very small amount of code by creating a function called listPage that we use recursively:#!/usr/bin/php <?php namespace ProcessWire; include(\"/home/ryan/www/index.php\"); // bootstrap ProcessWire function listPage($page, $level = 0) { echo str_repeat(\" \", $level) . $page->title . \"\\n\"; foreach($page->children as $child) { listPage($child, $level+1); } } listPage($pages->get(\"/\")); // start at homepageNote that you would need to replace the lines containing paths to have the equivalent paths on your machine (lines 1 and 3). You would also make the shell script executable, i.e. chmod +x sitemap.shNext you would run the shell script:./sitemap.shAnd here is what the output looked like when I ran it here:Home About What's Unique? Why ProcessWire? Background Requirements License Developer API Concept What is the API? Directories Template Files Variables $page $pages $input $sanitizer Selectors Syntax Plugin Modules Download Demo Videos ContactIncluding ProcessWire from another PHP scriptProcessWire can be included from any other PHP script in the same manner it was included from the command line script above. Just include ProcessWire's root ./index.php file, and you have full access to it's API.We'll use the same example as in the shell script above, except that we'll use markup to make an HTML5 page with semantic lists and links to each page. We'll call this file sitemap.php and assume it lives in the web root where ProcessWire's index.php file is:<!DOCTYPE html> <html lang=\"en\"> <head> <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" /> <title>Site Map</title> </head> <body> <h1>Site Map</h1> <?php include(\"./index.php\"); // bootstrap ProcessWire function listPage($page, $level = 0) { echo \"<li><a href='$page->url'>$page->title</a>\"; if($page->numChildren) { echo \"<ul>\"; foreach($page->children as $child) listPage($child, $level+1); echo \"</ul>\"; } echo \"</li>\"; } ?> <ul> <?php listPage($pages->get(\"/\")); ?> </ul> </body> </html>You can do anything with ProcessWire's API that you can do from a template, so everything you can do in template files still applies, as does everything in the developer API.",
      "kind": "page"
    },
    {
      "title": "Front-end editing in ProcessWire CMS (PageFrontEdit module)",
      "url": "https://processwire.com/docs/front-end/front-end-editing/",
      "category": "Front-end",
      "file": "docs/front-end/front-end-editing.md",
      "summary": "Edit pages on the front-end of your site with the core PageFrontEdit module.RequirementsEnabling front-end editingOption A: Automatic editingOption B: API method callOption C: HTML edit tagsOption D: HTML edit attributesConfiguring front-end editingRequirementsFront-end editing is available in ProcessWire 3.0 and newer.The PageFrontEdit module must be installed. It is included with the core and can be found at: Admin > Modules > Core > Page > Front-end page editor.Non-superusers must have page-edit and page-front-edit permission in order to make front-end page edits.Enabling front-end editingProcessWire provides a few different options for you here, which we'll cover in detail below. Regardless of which option you choose, front-end editing will only appear when the user has appropriate permissions to the page and field. Required permissions are page-edit and page-edit-front. When a field is editable, hovering it shows a context mouse pointer rather than a regular pointer. To edit the field on the front-end, you must double click it.Option A: Automatic editingWhen the formatted value of the field is retrieved from a $page, it will be editable without you having to write any markup/code for it. This is a good option for fields like a \"body\" copy or \"sidebar\" field, that you might only output once on the page. The main benefit here is that you can make the field editable just by checking a box in the admin. It becomes editable wherever and however you are outputting it. It doesn't matter if it's coming from another page or not, as PW keeps track of it.Avoid using option A for your \"title\" field and similarThe drawback is that the field is editable wherever you output it (to a user with permission to edit), so it's not ideal for fields like \"title\" that might be great in an editable headline, but could be problematic if it also makes appearances in navigation, a <title> tag or in a breadcrumb trail. Though you can do this:// non editable title $page->edit(false); echo \"<title>$page->title</title>\"; ... // editable title $page->edit(true); echo \"<h1>$page->title</h1>\";...but once you are having to do that, it kind of defeats the purpose of using option A, since you are now making API calls to support it. So you'd want to consider if one of the other options might suit your needs better in those situations.Option B: API method callAs you probably know, you can pull the value of any field on a page with $page->field_name; or $page->get('field_name'); – If you want to pull an editable version of that field, you can instead use $page->edit('field_name'); for example:<?php echo $page->edit('body'); ?>Note that $page can be any Page object, it doesn't necessarily have to be the current $page.This API method call option is good for fields that need no manipulation before output. Meaning, it's good for text fields, number fields, dates, and so on. But not worthwhile for things like Files/Images, PageTables, Repeaters or any field that you iterate to output or access object properties from. For those you will want to use <edit> tags or edit attributes, per options C and D.Option C: HTML edit tagsHTML <edit> tags enable you to create editable regions in your markup. Make the <edit>...</edit> tags wrap any markup that you wish, and double clicking whatever is contained within it will open up an editor to that field. For example, here is how you might make an image field named \"photo\" editable:<edit photo> <img src=\"<?=$page->photo->url?>\" /> </edit>Or lets say you wanted to make a Repeater, PageTable or Table field editable:<edit events> <?php foreach($page->events as $event): ?> <div class=\"event\"> <h3><?=$event->title?></h3> <p class=\"date\"><?=$event->date?></p> <p><?=$event->summary?></p> </div> <?php endforeach; ?> </edit>The only difference from the above and what you may already be doing is just the addition of the surrounding <edit> tags. The point I'm trying to get across with the above is that it really doesn't matter what is in the editable region. Surrounding it with the <edit> tags means that double clicking it with open an editor to the \"events\" field. After saving your events field, the editor will close and that region on your page will be automatically updated with the new updated markup.The <edit> tags themselves never appear in the actual output of your site. They are stripped out during page rendering. If the user has no access to edit, then the edit tags are ignored and stripped out.By the way, you can also use some more verbose but alternate syntax for the <edit> tags if you prefer. If your editor does syntax highlighting with your HTML, it may be more consistent (the \"quotes\" are optional of course):<edit field=\"events\"> ... </edit>If your editable region contains multiple fields you want to be edited together, you can specify more than one:<edit field=\"intro,image,events\"> ... </edit>If your field happens to be on some other page other than the one being rendered, you can also specify what page you want to be edited:<edit field=\"events\" page=\"1001\"> ... </edit>The 1001 can be any page ID or path. The above can also be shortened to this if you prefer:<edit field=\"1001.events\"> ... </edit>Or this:<edit 1001.events> ... </edit>If you are using <edit> tags with a field that supports inline editing (like a text or CKEditor field), the inline editor will be used. Otherwise it will open a dialog to the editor.Option D: HTML edit attributesThese work about the same as <edit> tags except they are an attribute you can add to an existing tag in your markup, such as <div>, <span> or whatever you'd like.<div edit=\"events\"> <!-- code to output events --> </div>Or to specify a field from some other page (1001):<div edit=\"1001.events\"> ... </div>Or to specify multiple fields:<div edit=\"intro,image,events\"> ... </div>The \"edit\" attributes are stripped from the markup that gets output, so the only place you will see them is where you place them in your template file(s).Worth noting about option D is that it always uses the dialog editor and does not use the inline editor.Configuring front-end editingAll of the front-end editing features are provided by a module included with the ProcessWire 3.0 core called PageFrontEdit. Once this module is installed, you can use any of the above options. The module is not installed by default.Any time you edit a field in the admin (Setup > Fields) you'll see a \"Front-end editing\" section on the \"Input\" tab (at the bottom). If you don't have PageFrontEdit installed, it gives you a button you can click to automatically install it. When the module is installed, the \"Front-end editing\" section in your field editor shows you all of the options mentioned above but within the context of the field you are editing. If the field does not support one of the options, it is disabled in the copy/paste examples it gives you.By the way, the PageFrontEdit module has a configuration screen that lists all of the fields that you can enable for option A (automatic editing), with checkboxes for each to enable. These checkboxes are not applicable to options B through D mentioned above, just option A.",
      "kind": "page"
    },
    {
      "title": "Pagination in ProcessWire CMS",
      "url": "https://processwire.com/docs/front-end/markup-pager-nav/",
      "category": "Front-end",
      "file": "docs/front-end/markup-pager-nav.md",
      "summary": "This module renders navigation for pagination. Such navigation usually appears as a list of \"1, 2, 3, next…\" links at the bottom of search results.In ProcessWire, this is most commonly used when you want to separate a large list of links into multiple pages, making it easier for the user to browse, and quicker for the server to render. For instance, lets say that you needed to generate a list of links to 100 pages, but only wanted to display 10 per page. This module makes that easy, and it is already hooked into other modules to make it even simpler. Here is an example from the Skyscrapers demo site.Enabling PaginationUsing Pagination in your TemplatesExample #1Example #2Do I have to keep track of the page number?Are there any side effects?Is Pagination Compatible with Template Caching?Styling PaginationCustom Options and Markup (Optional)Custom Options ReferenceEnabling PaginationMake sure the \"Pager\" (MarkupPagerNav) module is installed in Admin > Modules. If it's not installed, click the Install link next to it.Determine what template(s) you want to use pagination with. Go to Admin > Setup > Templates > [Your Template] > URLs, and check the box for: Allow Page Numbers. Save.Pagination should now be enabled and ready to use in your templates.Using Pagination in your TemplatesThe MarkupPagerNav module is designed to automatically paginate the results of any API method that returns more than one page (i.e. a PageArray). The most common example is the $pages->find() method, which we will use in the examples below.Example #1In this example, we will retrieve all pages in the site with an ID greater than 1, limit the results to 10, and sort alphabetically by title. The result would be all pages except for the homepage, retrieving a max of 10 at a time. This is a somewhat contrived example, so you would most likely want to replace the selector in this example with with your own selector. Regardless, you'll always want to specify a \"limit\" equal to the number of results you want to show per page, when using pagination.<?php $results = $pages->find(\"id>1, limit=10, sort=title\"); echo $results->render();We used the built-in render() method above to print a simple list of the pages found. Assuming that there are more pages found than what you specified for the \"limit\", you should see a list of pagination links appear at the end of the list. This works because when pagination is enabled, the render() method automatically prints pagination when it detects that there are more results than what was provided. You might notice that the pagination links are unstyled. There are some CSS styles further in this document that work as a good starting point to paste into your stylesheet.Example #2Most likely you aren't using that built-in render method in the previous example because you are generating your own markup for your search results. Not to worry, generating your pagination is still just as easy. Just call $results->renderPager() rather than $results->render(). That will render just the pagination links, leaving you to generate the markup for your results. In the example below, we use this method, but also print out the pagination at both the top and bottom of the results:<?php $results = $pages->find(\"id>1, limit=10, sort=title\"); $pagination = $results->renderPager(); echo $pagination; echo \"<ul>\"; foreach($results as $result) { echo \"<li><a href='{$result->url}'>{$result->title}</a></li>\"; } echo \"</ul>\"; echo $pagination;Do I have to keep track of the page number?Not unless you want to. ProcessWire will keep track of the page number and automatically adjust the results returned from any method that returns pages and has a limit applied to it. Generally that means you don't have to pay any attention to what the page number is in your template code, unless you want to print it in a headline or <title> tag, for instance. You can always retrieve the current page number from $input->pageNum.Are there any side effects?If your template has page numbers enabled (as this page instructed) then ProcessWire is going to paginate all calls to API functions that return PageArrays where you have specified a limit. This includes:// where \"n\" is any positive number $pages->find(\"limit=n\"); $page->find(\"limit=n\"); $page->children(\"limit=n\"); $page->siblings(\"limit=n\");In my experience, the situations where this would be an undesirable side effect are rare. However, if you are viewing a paginated list on any page number greater than 1, and you find ProcessWire returning the wrong set of pages, then replace your \"limit=n\" selector with the following:$pages->find(\"start=0, limit=n\");That will ensure that ProcessWire does not attempt to paginate the results of that function call when on page numbers greater than 1.Is Pagination Compatible with Template Caching?Yes, pagination may be used with template caching and ProcessWire will cache up to 999 paginated versions of each page.Note that GET and POST vars are not cached (regardless of whether you are using pagination), so if you are paginating results generated from values in GET or POST vars, you should not use template caching.Styling PaginationIf you tried out the examples above, you would have noticed that the pagination was unstyled and thus appeared just like any other unordered list on your site. ProcessWire doesn't make any assumptions about your site's design, so you should style the list in your CSS stylesheet(s) to be consistent with your site. But here are some styles to paste into your stylesheet as a good starting point, or feel free to use them as-is if you prefer..MarkupPagerNav { clear: both; margin: 1em 0; font-family: Arial, sans-serif; } .MarkupPagerNav li { display: inline; list-style: none; margin: 0; } .MarkupPagerNav li a, .MarkupPagerNav li.MarkupPagerNavSeparator { display: block; float: left; padding: 2px 9px; color: #fff; background: #2f4248; margin-right: 3px; font-size: 10px; font-weight: bold; text-transform: uppercase; } .MarkupPagerNav li.MarkupPagerNavOn a, .MarkupPagerNav li a:hover { color: #fff; background: #db1174; text-decoration: none; } .MarkupPagerNav li.MarkupPagerNavSeparator { display: inline; color: #777; background: #d2e4ea; padding-left: 3px; padding-right: 3px; }Custom Options and Markup (Optional)The examples above have ProcessWire generating the HTML5/XHTML markup for your pagination links, and all use the default pagination options. These are typically just fine, but there may be an instance where you want to modify this behavior. To do so, specify an $options array to the renderPager method. You may specify one or more options. The defaults will be used for any options that you omit. Below is an example that might modify the markup output by the renderPager method (though the values shown here are actually the defaults):<?php echo $results->renderPager(array( 'nextItemLabel' => \"Next\", 'previousItemLabel' => \"Prev\", 'listMarkup' => \"<ul class='MarkupPagerNav'>{out}</ul>\", 'itemMarkup' => \"<li class='{class}'>{out}</li>\", 'linkMarkup' => \"<a href='{url}'><span>{out}</span></a>\" ));Below is a reference of all the options available, along with the defaults.Custom Options ReferencenumPageLinksNumber of links (integer) that the pagination navigation should have. Default: 10getVarsArray of GET vars that should appear in the pagination links, or leave empty and populate $input->whitelist (preferred). This is handy with search results that may include custom options that should remain on each paginated page (like sorting order, fields to search, etc.). It is recommended that you populate such GET vars with $input->whitelist($name, $value) rather than specifying them here as an option to MarkupPagerNav. Default: emptybaseUrlThe baseUrl (string) from which the navigiation item links will start. You should omit this unless you are rending pagination results to some other page. Default: blanklistMarkupThe markup (string) used to generate the list container. Place \"{out}\" where the list items will appear. Default: <ul class='MarkupPagerNav'>{out}</ul> itemMarkupThe markup (string) used to generate each pagination list item. \"{class}\" and \"{out}\" must be specified, as in the default. Default: <li class='{class}'>{out}</li> linkMarkupThe markup (string) used to generate each pagination link. \"{url}\" and \"{out}\" must be specified, as in the default. Default: <a href='{url}'><span>{out}</span></a> nextItemLabelThe label (string) used for the \"next\" button. Default: Next previousItemLabelThe label (string) used for the \"previous\" button. Default: Prev separatorItemLabelThe label (string) used for the list \"separator\". Default: … separatorItemClassClass attribute (string) for the \"separator\" list item. Default: MarkupPagerNavSeparator nextItemClassClass attribute (string) used for the \"next\" button list item. Default: MarkupPagerNavNext previousItemClassClass attribute (string) used for the \"previous\" button list item. Default: MarkupPagerNavPrevious lastItemClassClass attribute (string) used for the \"last\" button list item (represented by the last page number). Default: MarkupPagerNavLast currentItemClassClass attribute (string) used for the \"current/active/on\" button list item (the page number being viewed). Default: MarkupPagerNavOn For more information please see the MarkupPagerNav API reference page.",
      "kind": "page"
    },
    {
      "title": "Using selectors in ProcessWire CMS",
      "url": "https://processwire.com/docs/selectors/",
      "category": "Selectors",
      "file": "docs/selectors.md",
      "summary": "Selectors are simple strings of text that specify fields and values. These selectors are used throughout ProcessWire to find pages (and other types of data).For example, name=karena is a simple selector that says: “find items that have the name karena.” Selectors in ProcessWire are loosely based around the idea and syntax of attribute selectors in jQuery.The components of a selectorWhere do you use selectors?Selector fieldsSelector operatorsSelector valuesSpecifying multiple selectorsOR selectors: matching one value or anotherOR selectors, matching one field or anotherAND selectors: matching more than one value in the same fieldOR-groups: matching one group of selectors or anotherSub-selectors: selectors within selectorsSorting the results of a selectorLimiting the number of results returned by a selectorCount selectors – finding matches by quantitySubfield selectorsOwner selectorsFinding pages that use specific templatesFinding pages that have specific parents or ancestorsMatching different subfields from the same (1) row in a multi-value fieldAccess control in selectorsAPI variables in stored selectorsSanitizing user input in selectorsExamples of selectors as used in page templatesThe components of a selectorAn individual selector consists of three parts: the field you are looking for, an operator (like an equals '=' sign), and the value you want to match. For example, a basic selector might be:title=productsIn this example, \"title\" is the field, the equals sign \"=\" is the operator, and \"products\" is the value you want to match. This basic selector would match all pages having a title field of \"products\", regardless of where they exist in the site. You may also specify multiple selectors by separating each with a comma.Where do you use selectors?Selectors are used throughout ProcessWire, typically for getting and finding pages with the $page and $pages variables. Below is a list of the most common functions where selectors are used:$pages->find(\"selector\"); $pages->get(\"selector, path or ID\"); $page->children(\"selector\"); $page->siblings(\"selector\"); $page->find(\"selector\");Any function that accepts a selector will accept multiple selectors split by a comma.While you are less likely to use them, most of the other utility objects in ProcessWire, all of the array types, and several field types also accept selectors:$matches = $templates->find(\"selector\"); $matches = $users->find(\"selector\"); $matches = $fields->find(\"selector\"); $matches = $page->images->find(\"selector\")->not(\"selector\"); // ...and so on...Below we examine the 3 parts of a selector in more detail: fields, operators and values.Selector fieldsThe field portion of a selector may refer to any field of a page. If you want to know what fields you can use for matching, see \"Setup > Fields\" in your ProcessWire admin. All custom fields are typically optimized for fast matches.If you want to match a value in one field or another, you may specify multiple fields separated by a pipe \"|\" symbol, i.e.title|name|headline=productsUsing the above syntax, the selector will match any pages that have a title, name, or headline field of \"products\" or \"Products\". Selector values are not case sensitive unless you configure your MySQL with a case sensitive collation.Selector operatorsThe operator portion of a selector may be one of the following:=Equal toGiven value is the same as value compared to.!=Not equal toGiven value is not the same as value compared to.<Less thanCompared value is less than given value.>Greater thanCompared value is greater than given value.<=Less than or equal toCompared value is less than or equal to given value.>=Greater than or equal toCompared value is greater than or equal to given value.*=Contains phrase/textGiven phrase or word appears in value compared to.~=Contains all wordsAll given whole words appear in compared value, in any order.%=Contains phrase/text likePhrase or word appears in value compared to, using like.^=Starts with phrase/textWord or phrase appears at start of compared value.$=Ends with phrase/textWord or phrase appears at end of compared value.%^=Starts likeWord or phrase appears at beginning of compared value, using like.%$=Ends likeWord or phrase appears at end of compared value, using like.#=Advanced text searchMatch full or partial words and phrases with commands.**+=Contains phrase expandPhrase or word appears in value compared to and expand results.*~*=Contains all partial wordsAll whole or partial words appear in value, in any order.*~~=Contains all words liveAll whole words and last partial word appear in any order.*~%=Contain all words likeAll whole or partial words appear in value using like, in any order.*~+=Contains all words expandAll whole words appear in value and expand results.*~|=Contains any wordsAny given whole words appear in value, in any order.*~|*=Contains any partial wordsAny given whole or partial words appear in value, in any order.*~|%=Contains any words likeAny given whole or partial words appear in value using like, in any order.*~|+=Contains any words expandAny given whole words appear in value and expand results.***=Contains matchAny given whole words match against value.***+=Contains match expandAny given whole words match against value and expand results.*&Bitwise ANDGiven integer results in positive AND against compared value.* Operators with asterisk require ProcessWire 3.0.160 or newer.For more details see, general operators, phrase matching operators and word matching operators. Also note that in ProcessWire 3.0.161 and newer, you can specify more than one operator at a time.Let's take a closer look at the word and phrase matching operators by starting with an example:title|body~=sushi tobikoThe above example would match all pages that have the words \"sushi\" and \"tobiko\" somewhere in either their title or body fields. The words don't need to be next to one another in order to match. Whereas this selector…title|body*=sushi tobiko...would match only those pages that had the exact phrase \"sushi tobiko\" present in either their title or body fields. As it's a phrase match, the words must be next to each other in that order. Here's an alternate method to do the same thing, but with some compromises and benefits:title|body%=sushi tobikoThis works exactly the same way as the *= except that it uses a different method with the database engine. This operator has an advantage over the *= operator when you may need to match very short words or stopwords. As a result, it can match some things that *= and ~= can't.The *= and ~= rely upon MySQL fulltext indexes, which only index words of at least a certain length (configurable, but typically 4 characters). They also don't index common English words called stopwords. So while it's potentially preferable to use *= and ~= for their index, if you aren't getting the results you need, you should consider using %= instead. Interestingly, there are cases where %= can be faster, and there are cases where it can be slower. Though in our experience the difference is often not measurable. Nevertheless, when doing optimization, you may want to test both to find what performs best for your case.The ^= and $= operators use a method similar to the %= operator, and can have potentially more overhead, but can also do something unique. They can match text at the beginning (^=) or end ($=) of a field.Negative operatorsYou'll notice we have a != \"not equal to\" operator. That's great for numbers and fields where we know the entire value, but not particularly handy for large text fields. For example, this would not be useful:body!=sushi tobikoThat would likely match all the pages in the site, unless you had a page that contained only the phrase \"sushi tobiko\" as the entire body field with nothing else in it. So that selector isn't useful, whereas, we can take a different approach to negate the result of any selector by simply preceding the field with an exclamation point \"!\", i.e.!body*=sushi tobikoThis would match all pages that didn't contain the phrase \"sushi tobiko\" somewhere in their body field. Now that is useful.Selector valuesAfter the operator comes the selector value that we want to match. At the basic level, little explanation is needed and the examples in the above section (operators) make that clear. But because selector values can contain nearly anything (including text submitted from user input, like a search for example), we need to take some special care with string-based selector values. If your selector value needs to contain a comma, you should surround your selector value in quotes, i.e.body*=\"sushi, tobiko\"If you don't surround such a selector in quotes, then ProcessWire will assume the comma is starting another selector (see specifying multiple selectors, below). Selector values may not contain double quotes as part of the value to match, unless you escape them with a backslash character \"\\\". Because the need to match double quotes is rare, a simpler approach is just to disallow double quotes from appearing in your selector values by filtering them out of user input. See the $sanitizer->selectorValue() method for a simple way to sanitize strings going into a selector.Selector values may contain single quotes or apostrophes. For that reason, single quotes aren't interchangeable with double quotes for surrounding selector values.You may also specify an either/or value, by separating each of the values that may match with a pipe character \"|\". More details and examples can be found in the \"OR selectors\" section below.Specifying multiple selectorsA selector string can match more than one field. You may specify multiple selectors together by separating each with a comma. For example, the following selector would match all pages with a year of 2010 and the word \"Hanna\" appearing somewhere in the body:year=2010, body*=HannaYou may specify as many selectors as you want as long as each is separated by a comma.OR selectors: matching one value or anotherIn instances where you need to match values in a single field with an either-or expression, the values should be split with the \"or\" operator, which is the pipe character \"|\". The following examples demonstrates its usage:firstname=Mike|Steve id=123|124|125 title*=Red|Blue|GreenEach of the above selectors matches pages that have either of the values specified between the pipe \"|\".OR selectors, matching one field or anotherThis was already described in the selector fields section above, but is repeated here for reference. Field names may be separated by a pipe \"|\" to indicate an OR condition:body|sidebar*=carbonatedThe above selector matches pages that have the word \"carbonated\" in either the body or sidebar fields.AND selectors: matching more than one value in the same fieldThere will be instances where you need to say that a specific field matches more than one selector. This is simple, just specify all the conditions you need to match as separate selectors in the same string. For example:height>500, height<=1000This AND selector matches all pages that have a \"height\" field greater than 500, and less than or equal to 1000.OR-groups: matching one group of selectors or anotherOR-group selectors let you specify multiple expressions and only one of them has to match in order for the selector to match. It's a way of saying \"either this has to match OR that has to match\". This is useful because selectors by default assume AND – meaning everything has to match. While you can use the pipe \"|\" to specify ORs for fields or values or both, the scope of it was just that field=value statement only. ProcessWire 2.5 added OR-groups where you can create multiple selector groups and only one of them has to match. You can specify OR-groups by surrounding selectors in parenthesis.An example demonstrates it best. Lets say that we wanted to find all \"product\" pages that were in stock, and either in a featured date range, or had a highlighted checkbox checked. Previously we would do like this with two separate find operations:$items = $pages->find(\"template=product, stock>0, featured_from<=today, featured_to>=today\"); $items->add($pages->find(\"template=product, stock>0, highlighted=1\"));With OR-groups, we can do it in one find operation:$items = $pages->find(\"template=product, stock>0, (featured_from<=today, featured_to>=today), (highlighted=1)\");Above are two selectors surrounded in parenthesis. Only one of them has to match. You can specify as many of them as you want. This type of OR expression is supported by ProcessWire 2.5 and newer. Think of the parenthesis as a way of saying \"this is optional\". But of course, at least one of your parenthesized selectors has to match in order for the full selector to match.The above usage probably covers 99% of the situations where you might need it. But lets say that you want to have different combinations of OR expressions. You can create named groups that OR with each-other by specifying:foo=(selector1), bar=(selector2), foo=(selector3), bar=(selector4)In the above you'd replace \"foo\" and \"bar\" with names of your choice. And you'd replace the \"selector\" with any selector strings. Those foo/bar names aren't referring to fields, instead they are just named groups that you can name however you want. In that selector, at least one of the \"foo\" named selectors would have to match, and at least one of the \"bar\" named selectors would have to match. If you didn't use the foo/bar named groups here (but still used the parenthesis), then only one of the 4 selectors would be required to match.Please note: OR-groups work with database-driven find operations, but not with in-memory filtering (where they are less useful).Sub-selectors: selectors within selectorsSub-selectors let you put a selector within a selector, enabling you to perform more complex matches that you might have assumed would require separate API calls. These can be used on the 'id' property of any field that maps to a page. The 'id' property is assumed when referring to a page reference or a parent, so it's not necessary to specify it unless you want to, i.e. \"field\" and \"field.id\" mean the same thing in this case.Sub-selectors are specified between [square brackets]. For example, lets say we are matching products and our product template has a \"company\" page field. Each company also has its own page field where all the company locations are identified. Lets say we want to find all products that are made by a company that has more than 5 locations and at least one of those locations has \"Finland\" in the title. Without sub-selectors we would have had to do it like this:$companies = $pages->find(\"template=company, locations>5, locations.title%=Finland\"); $items = $pages->find(\"template=product, company=$companies\");That's easy enough. But with sub-selectors it's even simpler, requiring only one operation:$items = $pages->find(\"template=product, company=[locations>5, locations.title%=Finland]\");When you've got a field=[value] selector, any properties you refer to in \"[value]\" assume the \"field\"; so \"locations\" above is referring to a property of the \"company\" field.Please note: Sub-selectors work with database-driven find operations, but not with in-memory filtering (where they are less useful). Nested sub-selectorsIn ProcessWire 3.x, you can use nested subselectors:template=member, invoice=[status=paid, invoice_row!=[product.color=Red]]Sorting the results of a selectorThere is a reserved-word for selectors called \"sort\" and it may be used to specify what order should be returned by the matches. Here is an example of it's usage:sort=titleThat essentially says to sort the results by their \"title\" field, A-Z. If we want to reverse the sort, we just precede \"title\" with a minus sign, like this:sort=-titleThat would return results sorted by the \"title\" field, Z-A.You may specify multiple fields to sort by. For example, lets say that you wanted to sort first by date descending (newest to oldest) and then by title ascending, you would do this:sort=-date, sort=titleThat way if two results had the same date, the secondary sort would be alphabetical.In newer versions of ProcessWire, you can also specify multiple sorts with one single selector having a value with an OR condition, i.e. sort=date|title. In this case, \"date\" is the first sort and \"title\" is the second. You may add additional levels as needed, i.e. sort=date|title|priceHow results are sorted if you don't specify a \"sort\" in your selectorIn $page->children() and $page->siblings() the results are automatically sorted by the page's default sort field that you specify in the admin. If not specified in the admin, the pages will be sorted by the order they are placed in the admin. This behavior can be overridden by specifying your own sort=property (where property is any property or field name). With $pages->find() and $page->find(), if you don't specify your own sort=property, the results are sorted according to MySQL's text searching relevance. If no text searches are performed in your find(), the results are unsorted. As a result, it is generally a good idea to include a sort=property when using $pages->find(), especially if you care about the order and your find() operation is not text/relevance related.How to force pages to sort by their admin order with $pages->find()Unlike $page->children(), the $pages->find() method does not automatically sort by the order they appear in the site tree. This is because $pages->find() is not limited to finding pages specific to one parent, so it may be pulling pages from multiple places (according to your selector). If your parent page(s) are not already sorting by a specific field, you may still tell the find() to sort by the parent's order by literally specifying sort=sort in your selector. This is the same as saying \"sort by whatever order I dragged the pages to in the admin.\" But note that if the results have multiple parents, the resulting order isn't likely to be that useful.Limiting the number of results returned by a selectorIf you are dealing with a lot of potential results, you may want to limit the number of returned results for pagination or other reasons. In order to specify a limit, use the reserved word \"limit\" as a selector, i.e.limit=50 That selector tells ProcessWire to return 50 (or fewer) results. The starting result is always the first, unless you use the \"start\" reserved word, i.e.start=50, limit=50This tells ProcessWire to return 50 (or less) results starting at the 51st (results 51–100).If you are using a limit selector with pages, and your template has page-numbers (pagination) turned on, ProcessWire will automatically set the \"start\" selector according to the current page/pagination number. So when it comes to pagination, you don't usually have to think about anything other than the \"limit\" selector.Count selectors – finding matches by quantityYou can match pages with multiple-value fields based on the number of values they contain. For instance, you can find all pages with a given number of children, images, page references, files, comments, etc. You do this by appending .count to the field name. This is best demonstrated by an example. The following example would find pages that have at least 1 child and between 3 and 5 images:children.count>0, images.count>=3, images.count<=5 In this next example, we'll assume you have a page reference field called 'categories', and you want to match all pages that have zero (0) categories:categories.count=0Note that a selector like the above will literally match all pages that have a 'categories' field without any selected. It will not match pages that don't have a 'categories' field.The 'children' field is automatically built-in to all ProcessWire pages. It is also the only countable field where you can only specify one count operation per query. To clarify, the first example above demonstrates matching 3 to 5 'images'. You can't do this with children.count since it can only be specified once per query. This limitation may be changed at some point in the future. Subfield selectorsSome field types support selection by subfield, where a subfield holds a value independent of the field's regular value. This is only used with field types that contain more complex data types. Examples include Page fields, Repeaters, Files, Images, Comments and Map Markers, among others. Usage in a selector is quite simple and very similar to the count selectors, mentioned in the previous section. The format goes like this:field.subfield=valueOther than the specification of the \".subfield\", the selector is no different from any other. You may use any operators or selector features that you would use elsewhere. For our first example, lets say we have a field called \"images\" and that you want to find all pages that have at least one image containing the word \"atrium\" in the image description:images.description*=atriumHere is an example of using a subfield selector with a repeater field (or a Page or PageTable field) called buildings that contains various subfields describing the building. Lets say we want to locate all pages that have at least one building greater than 1000 feet, and at least one building built before 1980:buildings.feet_high>1000, buildings.year_built<1980If you instead want to find all pages that have at least one building greater than 1000 feet that also happens to be built before 1980 (matching the same exact building, even if the page has multiple buildings) then you can specify that in the selector by preceding the field name with a \"@\", i.e.@buildings.feet_high>1000, @buildings.year_built<1980For more about this feature see matching the same row from a multi-value field. Owner selectorsOwner selectors let you match aspects of whatever Page reverse references another (whether from a Page field, Repeater field or PageTable field), and make it part of the find() criteria. There is a full dedicated post about about these, including several examples, see: Owner Selectors.Finding pages that use specific templatesYou can specify that your matches should be using a specific template like this (replacing 'name' with the name of your template):template=name…or specify that it can have any one of these templates:template=name1|name2|name3Finding pages that have specific parents or ancestorsTo specify that matches should have a specific parent, specify the parent's path, object or ID. First is an example of using the parent's path:parent=/path/to/parent/An example of using the parent's object (where $parent is an instance of a Page object):parent=$parentAn example of using the parent's ID (where 123 is the ID of the parent):parent=123Of course, you can also do this with any of the above syntaxes if it can be any one of multiple parents:parent=$parent1|$parent2|$parent3Now lets say that you want to find pages that include a particular parent as an ancestor. Meaning, the found pages must include the given parent at some point in the hierarchy between them at the homepage, whether as a parent, grandparent, great-great-grandparent, etc. To do this, use has_parent.has_parent=$parent has_parent=123 has_parent=/path/to/parent/You can specify a Page object, Page ID, or path, like shown above.Lastly, you can always replace the equals sign \"=\" in any of the above examples with \"!=\" to reverse the behavior. You might find it useful to find pages that don't have a given parent or ancestor:parent!=123 has_parent!=/path/to/parent/Matching different subfields from the same (1) row in a multi-value fieldWhile it’s not something you are likely to need on every project, it’s good to know about this advanced feature which lets you match the same (1) row in a multi-value field, just in case you need it sometime.Multi-value fields (such as Page, Repeater, Table, etc.) can have multiple rows of values, like a spreadsheet. A selector typically matches any of them, which is most often exactly what we need. But there may be times where we need to know that we are matching two or more subfields from the same exact row in a multi-value field.Consider this example selector below, which finds pages using the template “house” that matches values from a multi-value Page field named “categories”.template=house, categories.name=modern, categories.featured=1At first glance, we might assume this will match “house” pages that have the “modern” category, and with that category having a “featured” checkbox checked. But our “categories” field can hold more than one category. So a given “house” page might have multiple categories like: modern, multi-level, garage, etc. So are we matching a “modern” category that is “featured”, or are we matching a “modern” category, plus some other category that is featured?What the selector really says is this: find “house” pages that have a “modern” category, and also a category that has the “featured” checkbox checked. It does not say that they both have to be the same category. It only requires that one of the house’s categories is “featured”. And it may or may not be the “modern” category that is featured.What if we only want it to match the “modern” category if it is also “featured”? To do this, we use the “match same item” prefix @ in our field name, like this:template=house, @categories.name=modern, @categories.featured=1Now this selector will only match if the “house” has the category “modern” selected and “modern” has the “featured” checkbox checked.While rare, if you need to do this with more then one row (whether from the same field or a different field), then you’ll want to group your matches by giving them a name, i.e. foo@categories…. I usually just use a letter, like “a” or “b”, but you may use whatever makes the most sense to you. Below is an example:a@categories=modern, a@categories.featured=1, b@architects.locations.name=atlanta, b@architects.locations.showrooms>0Currently matching the same (1) row is known to be supported by multi-value Page, Repeater, and Table fields, and potentially others.Access control in selectorsPages with hidden or unpublished status will not appear in the results from database-querying selectors that can return multiple pages (i.e. functions that return the PageArray type). For instance $pages->find(), $page->children(), etc. In addition, pages that the user does not have access to view (via access control in template settings) will also not appear in the results. All of this is usually expected and desirable behavior. However, there may be instances where you actually want to include hidden, unpublished or non-viewable pages in results. To do this, you can use the \"include\" or \"check_access\" properties in your selectors.include=hidden indicates that you will allow hidden pages to be included in the results.include=unpublished indicates that you will allow both hidden and unpublished pages to be included in the results.include=all indicates that you don't want any exclusions and results may include hidden pages, unpublished pages, or pages that aren't viewable to the user via access control.check_access=0 indicates that you don't want access control to be a factor in the results returned. Results may include pages that the user can't view as a result of template access control settings. Pages that the user can't view only because they are unpublished will not be included. Hidden pages won't be included unless you've also used the include=hidden selector as well. Note that if you are using include=all then there is no reason to use check_access=0 since it is assumed.These are best demonstrated by examples:// results exclude hidden, unpublished or non-viewable pages $pages->find(\"template=skyscraper\"); // results may include hidden pages $pages->find(\"template=skyscraper, include=hidden\"); // results have no exclusions $pages->find(\"template=skyscraper, include=all\"); // results may include pages user can't view $pages->find(\"template=skyscraper, check_access=0\");Note that $pages->get(…); is not subject to this behavior (or access control) and include=all is assumed. This is because requesting a single page is a very specific request, and not typically used for generating navigation. To put it another way, if you are asking for a single specific page, we assume you mean it. If you want to retrieve a single page where include=all is not assumed, then use $pages->findOne(…) instead.The examples above are all focused on including pages in results that wouldn't usually be included, among other pages. But lets say that you want to find only pages that have a hidden, unpublished or locked status. This is a fairly uncommon need, so no need to commit this to memory, but we'll include it for completeness. You can do it by querying the \"status\" property:status=hidden indicates that you only want pages with hidden status to be included in the results.status=unpublished indicates that you only want pages with unpublished status to be included in the results.status=locked indicates that you only want pages with locked status to be included in the results.API variables in stored selectorsWhen used in a selector string, you can dynamically refer to a property/field from the current $page, $user or $session API variables like this: field=[page.id] (including the square brackets) where the field part is the field you want to match, the page part is one of \"page\", \"user\" or \"session\", and the id part can be any field or property available on the $page, $user or $session API variables. For $user and $page, the id part is assumed, so if you want to use [page.id] or [user.id] you can also just use [page] or [user]. Below are a few examples of using this feature in a selector string, through please also read the text the follows.// find pages created by current user $pages->find(\"created_users_id=[user.id]\"); // find pages with current page selected in related_pages field $pages->find(\"related_pages=[page]\"); // find pages matching some field you previously set in $session $pages->find(\"id=[session.last_viewed]\"); // find pages with categories field similar to current page $pages->find(\"categories=[page.categories]\");From the context of PHP code (like above), there's actually little reason to use this feature since you can already directly refer to PHP and API variables in double-quoted selector strings, for example $pages->find(\"related_pages=$page\"); Instead, where this feature becomes useful is when the selector needs to be stored for later processing. This would be the case for anything that needs to be configured, such as a module or field, or any other configuration need that might arise. For these cases, the values in [page], [user] or [session] can indeed be different from $page, $user or $session, because they represent the current values at runtime (when they are processed) rather than the values at the time they were stored.Sanitizing user input in selectorsIf you are supplying user input in selector values (like from a submitted form), you should sanitize the input before placing it in a selector. If you are expecting an integer for example, then type cast it as an int before using it in your selector, i.e.$year = (int) $input->post->year; $matches = $pages->find(\"year=$year\");If your selector value needs to contain more arbitrary strings, like for text matching, you must sanitize the value before sending it to a selector. You may want to use ProcessWire's built in $sanitizer for that purpose, specifically $sanitizer->selectorValue(). The sanitizer will remove any characters from the selector that could be problematic. Here is how to use it from your templates:$keywords = $sanitizer->selectorValue($input->get->keywords); $matches = $pages->find(\"keywords~=$keywords\");Though less common, if you are using a field name provided by user input, you should sanitize it like this with $sanitizer->selectorField():$field = $sanitizer->selectorField($input->get->field); $matches = $pages->find(\"$field=the value you want to match\");Examples of selectors as used in page templatesFind all pages using the skyscraper template$pages->find(\"template=skyscraper\");Find all skyscrapers with a height greater than 500 ft, and less than or equal to 1000 ft.$pages->find(\"template=skyscraper, height>500, height<=1000\");Find all skyscrapers in Chicago with 60+ floors, sorted by floors ascending$pages->get(\"/cities/chicago/\")->find(\"floors>=60, sort=floors\");Find all skyscrapers built before 1950 with 10+ floors, sorted by year descending, then floors descending$pages->find(\"template=skyscraper, year<1950, floors>=10, sort=-year, sort=-floors\");Find all skyscrapers by architects David Childs or Renzo Piano, and sort by height descending$david = $pages->get(\"/architects/david-childs/\"); $renzo = $pages->get(\"/architects/renzo-piano/\"); $pages->find(\"architect=$david|$renzo, sort=-height\");Find all skyscrapers that mention the words \"limestone\" and \"granite\" somewhere in their body copy.$pages->get(\"/cities/\")->find(\"template=skyscraper, body~=limestone granite\");Find all skyscrapers that mention the phrase \"empire state building\" in their body copy.$pages->get(\"/cities/\")->find(\"template=skyscraper, body*=empire state building\");OperatorsA selector like “field=value” consists of three parts—the field (or fields) you are looking for, an operator (like an equals “=”…Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire Selector Operators",
      "url": "https://processwire.com/docs/selectors/operators/",
      "category": "Selectors",
      "file": "docs/selectors/operators.md",
      "summary": "A selector like “field=value” consists of three parts—the field (or fields) you are looking for, an operator (like an equals “=” sign), and the value (or values) you want to match. On this page all of the available operators are covered in depth.Operator indexGeneral operatorsPhrase matching operatorsWord matching operatorsAdvanced operatorsUsing more than one operator at a timeOperator index=Equal toGiven value is the same as value compared to.!=Not equal toGiven value is not the same as value compared to.<Less thanCompared value is less than given value.>Greater thanCompared value is greater than given value.<=Less than or equal toCompared value is less than or equal to given value.>=Greater than or equal toCompared value is greater than or equal to given value.*=Contains phrase/textGiven phrase or word appears in value compared to.~=Contains all wordsAll given whole words appear in compared value, in any order.%=Contains phrase/text likePhrase or word appears in value compared to, using like.^=Starts with phrase/textWord or phrase appears at start of compared value.$=Ends with phrase/textWord or phrase appears at end of compared value.%^=Starts likeWord or phrase appears at beginning of compared value, using like.%$=Ends likeWord or phrase appears at end of compared value, using like.#=Advanced text searchMatch full or partial words and phrases with commands.**+=Contains phrase expandPhrase or word appears in value compared to and expand results.*~*=Contains all partial wordsAll whole or partial words appear in value, in any order.*~~=Contains all words liveAll whole words and last partial word appear in any order.*~%=Contain all words likeAll whole or partial words appear in value using like, in any order.*~+=Contains all words expandAll whole words appear in value and expand results.*~|=Contains any wordsAny given whole words appear in value, in any order.*~|*=Contains any partial wordsAny given whole or partial words appear in value, in any order.*~|%=Contains any words likeAny given whole or partial words appear in value using like, in any order.*~|+=Contains any words expandAny given whole words appear in value and expand results.***=Contains matchAny given whole words match against value.***+=Contains match expandAny given whole words match against value and expand results.*&Bitwise ANDGiven integer results in positive AND against compared value.* Operators with asterisk require ProcessWire 3.0.160 or newer.General operatorsThese operators can generally be used anywhere in ProcessWire and with and kind of data.= Equals$pages->find(\"name=about\");Given value is the same as value compared to.!= Not equals$pages->find(\"id!=1\");Given value is not the same as value compared to.> Greater than$pages->find(\"children.count>0\");Compared value is greater than given value.< Less than$pages->find(\"price<100\");Compared value is less than given value.>= Greater than or equal$pages->find(\"price>=100\");Compared value is greater than or equal to given value.<= Less than or equal$pages->find(\"price<=100\");Compared value is less than or equal to given value.Phrase matching operatorsWhen given search value contains only one word, these operators match that word partially or in full. When given search value contains more than one word, then the words are matched as a phrase, meaning they only match if they appear in the exact order given. So a search for “foo bar” would only match documents that contain those two words alongside each other in that order. The last word in a phrase may be a partial match, meaning a search for “foo bar” would match the literal phrase “foo bar” but also “foo bars”, “foo barn”, “foo barnyard”, etc.*= Contains phrase$pages->find(\"title*=wire tool\");Given phrase or word appears in value compared to. Uses “fulltext” index. Can partial match the last word in given phrase from beginning, meaning a search for “wire tool” can match “wire toolbox” but not “processwire tools”.%= Contains text like$pages->find(\"title%=wire tool\");Given phrase or word appears in value compared to. Matches using “like”. Can partial match first word from end and last word from beginning, meaning a search for “wire tool” can match both “processwire tools” and “wire toolbox”.*+= Contains phrase expand$pages->find(\"title*+=CDN\");Given phrase or word appears in value compared to. Expand to include potentially related terms and word variations. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This behaves exactly the same as the “contains phrase” operator except that it adds in MySQL query expansion (and optionally related words) to include other potentially related results that don't exactly match the phrase. Expanded matches come after exact matches. As an example, a search for \"CDN\" may also match pages about ProCache, even if they don't mention CDNs in the title (the database found the relation since ProCache provides CDN features).^= Starts with$pages->find(\"body^=Lorem Ipsum\");Given word or phrase appears at beginning of compared value. Uses “fulltext” index. Ignores leading HTML markup, punctutation or whitespace in searched documents.%^= Starts like$pages->find(\"body%^=Lorem Ipsum\");Given word or phrase appears at beginning of compared value. Matches using only “like”, bypassing the index for special cases. Does not ignore leading HTML markup or punctuation in searched documents.$= Ends with$pages->find(\"body$=mollit anim id est laborum\");Given word or phrase appears at end of compared value. Uses “fulltext” index. Ignores trailing HTML markup, punctutation or whitespace in searched documents.%$= Ends like$pages->find(\"body%$=mollit anim id est laborum.\");Given word or phrase appears at end of compared value. Matches using only “like”, bypassing the index for special cases. Can be useful if you need a search like “in the bookstore” to match a document containing “within the bookstore” since “like” can perform a partial match on the first word.Word matching operatorsThe primary difference between word and phrase matching operators is that word matching operators match words in any order. This means a search for “foo bar” will match anything that contains the words “foo” and “bar”, no matter where they appear.~= Contains all words$pages->find(\"title~=foo bar\");All given words appear in compared value, in any order. Matches whole words only. Uses “fulltext” index.~*= Contains all partial words$pages->find(\"title~*=web image\");All given words appear in compared value, in any order. Matches whole or partial words. Partial matches from beginning of words. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This is like the existing \"match words\" ~= operator except that rather than just matching whole words, it can match partial words as well. Meaning that a search for \"web image\" will match terms like \"WebP\" and \"images\" (plural), rather than only matching \"web\" and \"image\" (singular).~~= Contains all words live$pages->find(\"title~~=api pro\");All given words appear in compared value, in any order. Partial matches last word in given value. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This operator is designed to work exactly like the existing \"match words\" ~= operator except that the last word is considered a \"partial match\" word rather than a full match word. That makes this particular operator useful in live-search situations where you are returning results as someone types.~%= Contains all words like$pages->find(\"title~%=build site\");All given words appear in compared value, in any order. Matches whole or partial words. Partial matches anywhere within words. Matches using “like”. Available in ProcessWire 3.0.160 or newer. This operator matches all words in the query in full or in part. It can perform partial matches not just from the beginning of the word, but anywhere within the word. That means that a word like \"build\" can match words like \"building\" and \"rebuild\", and words like \"site\" can match words like \"website\" and \"sites\".~+= Contains all words expand$pages->find(\"title~+=books\");All given words appear in compared value, in any order. Matches whole words. Expand to include potentially related terms and word variations. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This operator works exactly like the regular \"match words\" ~= operator except that it also adds in \"query expansion\". This is a feature of MySQL fulltext indexes where in the best case it seems to magically come up with related matches, even if they don't contain the original search terms. It analyzes the matching results and looks for words in the match that might be fairly unique, checks if those words appear on any other items, and bundles them into the results when they do. As an example, a search for the term \"books\" on this site can match \"Canongate Books\" and a related blog post that doesn't even mention the term \"books\" in the title. Note however that the longer the query, the more likely that query expansion is to introduce noise into the results, but that's to be expected.~|= Contains any words$pages->find(\"title~|=architecture engineering construction\");Any given words appear in compared value, in any order. Matches whole words. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This is different from all of the above mentioned word matching operators, which require that all words be present.~|*= Contains any partial words$pages->find(\"title~|*=auth edit\");Any given words appear in compared value, in any order. Matches whole or partial words. Partial matches from beginning of words. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This is just like the \"contains any words\" operator above, except that it can also match partial words. This means that words like \"auth\" will match \"author\" and \"authentication\", and words like \"edit\" will match \"editor\" and \"editing\".~|%= Contains any words like$pages->find(\"title~|%=grade port\");Any given words appear in compared value, in any order. Matches whole or partial words. Partial matches anywhere within words. Matches using “like”. Available in ProcessWire 3.0.160 or newer. This is just like the above mentioned \"contains any partial words\" operator except that it uses LIKE rather than the fulltext index to perform matches. This means it can be slower (at scale) but can match anywhere in words, rather than just from the beginning of them. For example a term like \"grade\" can also match \"upgrade\", and a term like \"port\" can match \"import\", \"export\", \"portal\", etc.~|+= Contains any words expand$pages->find(\"title~|+=login register\");Any given words appear in compared value, in any order. Expand to include potentially related terms and word variations. Uses “fulltext” index. Available in ProcessWire 3.0.162 or newer. This is the same as the \"contains any words\" operator except that it adds in query expansion to include other potentially related documents that may not contain the words searched for. Documents containing the words come before the expanded results that might not.**= Contains match$pages->find(\"title**=hook selectors\");Any given words match against compared value. Matches whole words. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This uses something more like the standard fulltext MATCH/AGAINST logic included with MySQL than most of the other operators. For those that want this more traditional search logic, this operator provides it. It behaves in an OR fashion with the words, but ranks results according to how many of the requested words appear.**+= Contains match expand$pages->find(\"title**+=login register\");Any given words match against compared value. Matches whole words. Expand to include potentially related terms and word variations. Uses “fulltext” index. Available in ProcessWire 3.0.160 or newer. This is just like the \"contains match\" operator mentioned above, except that it also adds in MySQL query expansion, discussed in earlier operators.Advanced operators#= Advanced text search$pages->find('title#=\"+image* -file*\"');Searches using this operator recognize special command characters that designate what is, and is not included. Available in ProcessWire 3.0.160 or newer. When \"+\" is prefixed to a word or quoted phrase, it indicates that term must be included. When \"-\" is prefixed to a quoted word or phrase, it indicates that term must NOT be included. When there is no prefix, then it means the term or phrase is optional but its presence will increase ranking. Any word can be appended with an asterisk \"*\" to indicate that you also want to match any words that begin with the term. For example \"bar*\" will match not just bar, but also barn, barbell, barge, etc. To perform phrase matches, surround the phrase with parenthesis or double quotes. For example \"+(foo bar)\" must match phrase \"foo bar\", \"-(foo bar)\" must not match that phrase, and \"(foo bar)\" makes the phrase optional but documents matching it are ranked higher.+word MUST appear-word MUST NOT appearword (no prefix) MAY appear (increases rank)bar* or +bar* matches bar, barn, barge-bar* prevents matching bar, barn, barge, etc.+(foo bar) or +\"foo bar\" indicates the phrase \"foo bar\" MUST appear-(foo bar) or -\"foo bar\" indicates the phrase \"foo bar\" MUST NOT appear(foo bar) indicates the phrase MAY appear (increases rank)When using the advanced text search, we recommend surrounding the query text/commands in double quotes, or in ProcessWire 3.0.182 or newer, the selectorValueAdvanced() sanitizer method will take care of preparing and quoting the $value for you.& Bitwise AND*$pages->find(\"status&1024\");Given integer value matches bitwise AND with compared integer value. Note that this operator can only be used in specific cases where matching against a flags value.Using more than one operator at a timeIn ProcessWire 3.0.161 and newer, you can use more than one operator in any field=value selector expression. It works anywhere that you might use a selector, whether querying the database or something in memory. The best way to explain it is with an example. Let's say that you want to find all pages with a title containing the phrase \"hello world\" — you'd do this using the \"contains text/phrase\" operator: *= $pages->find(\"title*=hello world\");But let's also say that if you don't find any matches, you want to fallback to find any pages that contain the words \"hello\" and \"world\" anywhere in the title, in any order. We'd use the \"contains all words\" operator \"~=\" to do that. So now you can add that operator to the existing one, and it'll fallback to it if the first operator fails to match. So we'll append the \"contains all words\" operator to the previous one: ~=$pages->find(\"title*=~=hello world\");Great! But maybe we still aren't finding any matches, so we want to fallback to something even broader. So if the phrase match fails, and the words match fails, now we want to fallback to find any pages that contain the words \"hello\" OR \"world\", rather than requiring them both. For that we can use our \"contains any words\" operator: ~|= $pages->find(\"title*=~=~|=hello world\");This example is getting a bit contrived now, but let's say that if we still haven't found a match, we want it to find any pages that have any words starting with \"hello\" or \"world\", so it would find pages with words like \"helloes\", \"worlds\", \"worldwide\", etc. That's a job for our new \"contains any partial words\" operator: ~|*=$pages->find(\"title*=~=~|=~|*=hello world\");Okay last one I promise—you probably wouldn't stack this many in real life, but stay with me here. Let's say the query still didn't find anything, and as a final fallback, we want it to find any words LIKE \"hello\" or \"world\", so that those terms can match anywhere in words, enabling us to find pages with words like in the previous example, but also words like \"phellogen\", \"othello\", \"underworld\", \"otherworldly\", etc., and that's a job for our \"contains any words like\" operator: ~|%=$pages->find(\"title*=~=~|=~|*=~|%=hello world\");So that looks like a pretty complex operator there, but as you've seen by following the example, it's just these 5 appended operators to each other:*= Contains phrase~= Contains all whole words~|= Contains any whole words~|*= Contains any partial words~|%= Contains any words likeI think a more likely scenario in a site search is that you might stack two operators, such as the *= followed by the ~|*=, or whatever combination suits your need. So long as you are running ProcessWire 3.0.161 or newer, you can do this with any operators, not just the text searching ones.",
      "kind": "page"
    },
    {
      "title": "About ProcessWire modules (plugins)",
      "url": "https://processwire.com/docs/modules/",
      "category": "Modules & Hooks",
      "file": "docs/modules.md",
      "summary": "A module is a type of plugin that runs in ProcessWire, and they come in many flavors. At its core, ProcessWire is a platform for executing modules, and much ProcessWire is built upon these modules. Hooks enable you to intercept and modify events in ProcessWire and can be used both inside and outside of modules.Introduction to modulesLearn about what modules are, what different flavors of modules are available, how to install them, and where to get them.Learn more →Module developmentIt is easy to develop a module in ProcessWire, though some PHP experience is helpful. This section introduces module development…Learn more →Module typesThis page looks at the different predefined types of modules in ProcessWire and what they do. It also provides the recommended…Learn more →Using hooksProcessWire contains many methods that you may easily hook in order to modify the behavior of the method. Hooks can also be used…Learn more →Pro modulesPro modules are commercial modules developed by Ryan Cramer (lead developer of ProcessWire) that support the development of the…Learn more →About the /site/modules/ directoryThis directory /site/modules/ is where you may install additional 3rd party plugin modules, or create your own. Read on for more…Learn more →Third-party modulesThe ProcessWire modules directory contains hundreds of useful third-party modules that you can download and/or directly install…Learn more →",
      "kind": "page"
    },
    {
      "title": "Introduction to modules in ProcessWire CMS (plugins)",
      "url": "https://processwire.com/docs/modules/intro/",
      "category": "Modules & Hooks",
      "file": "docs/modules/intro.md",
      "summary": "Learn about what modules are, what different flavors of modules are available, how to install them, and where to get them.What are modules?At the simplest level, a module is a PHP file containing a class that adheres to ProcessWire’s Module interface. Modules enable a high level of extensibility and customization to ProcessWire. Much of ProcessWire itself is a collection of plugin modules. In fact, the ProcessWire admin application is just a group of modules.Core modules and site modulesIn ProcessWire, there are Core modules and Site modules. Core modules (stored in /wire/modules/) are modules that are included with the core, many of which come pre-installed since they provide much of the functionality in ProcessWire. On the other hand, Site modules (stored in /site/modules/) are those that you obtain separately (or create) and install yourself.How modules are installedInstalling a Site module is as simple as uploading the module's files to the /site/modules/ModuleName/ directory on your server (where ModuleName is the name of the module) and then clicking Install in the Admin (Modules > Install). You can also install a module directly from the admin by uploading the ZIP file or providing the URL where it can be downloaded. Uninstalling a module is as simple as clicking Uninstall in the module's settings.ProcessWire also comes with many Core modules that are not pre-installed, but are ready for 1-click installation. These can be listed and installed by navigating in the admin to Modules > Core.Where to get modulesProcessWire itself comes with many modules. The modules that are most likely to be used in all installations come pre-installed, while modules that are likely to be used in at least 30% of installations may not be pre-installed, but are included with the core and installable with one click (see Modules > Core). Many free third-party modules are available for from the modules directory. Several Pro modules (a type of commercial module developed by the lead developer of ProcessWire) are also available. You can also create your own modules, which is simple to do—see our section on module development.",
      "kind": "page"
    },
    {
      "title": "Module development in ProcessWire CMS",
      "url": "https://processwire.com/docs/modules/development/",
      "category": "Modules & Hooks",
      "file": "docs/modules/development.md",
      "summary": "It is easy to develop a module in ProcessWire, though some PHP experience is helpful. This section introduces module development and guides you through a simple example to get you started.Creating a simple moduleTelling ProcessWire about your moduleMaking the module do somethingAutomatically loading modulesAdding hooks to autoload modulesUsing an autoload module to add new methods to existing classesAnother exampleModule name requirementsNext stepsCreating a simple moduleTo create a module, you simply create PHP class that extends one of ProcessWire’s core classes, and also implements the Module interface. This Module interface doesn't actually have any required methods, but it serves as a way for ProcessWire to recognize PHP classes that are intended to be modules, and it provides guidance on how to implement various optional methods. If creating a module that isn't of a predefined type, it should extend the ProcessWire WireData class, and this is a good place to start (we'll get into predefined types later). Here's an example to summarize the above:<?php namespace ProcessWire; class Foo extends WireData implements Module { // nothing here yet }Save the class that you create in a file with the same name as the class, but with the extension “.module” or “.module.php” (either works). For example, a module with class Foo (like above) would be in a file named Foo.module or Foo.module.php. The file should be placed in /site/modules/. Though we recommend placing it in a directory within that, having the same name as the module class, like /site/modules/Foo/Foo.module.Telling ProcessWire about your moduleOne of the first things that a module should provide is information about itself, so that it can be identified in ProcessWire. This information can be provided via static getModuleInfo() method in the class, or a separate ModuleName.info.php or ModuleName.info.json file. We'll use a static method for now, so that we can keep everything in one file. The method returns an array of information about the module. The minimum information that ProcessWire needs is to know the module’s title, a short text summary, and the version number:<?php namespace ProcessWire; class Foo extends WireData implements Module { public static function getModuleInfo() { return [ 'title' => 'Foo test module', 'summary' => 'An example of creating a module', 'version' => 1 ]; } }With the above, you've now got the minimum amount of information that ProcessWire needs to install your module. So go ahead and install it. Since you just creating the file, ProcessWire might not be able to see your module yet, so you'll want to login to your admin and then go to Modules > Refresh. ProcessWire should detect your module, and you'll see it on the Site tab of your Modules screen. Click the “Install” button.Your module may now be installed, but it doesn't actually do anything. That's okay, we'll get to that next.Making the module do somethingContinuing our examle above, lets make the module do something. In this case, lets add a hi() method to the module that returns the string \"Hello name\", where \"name\" would be the current user's name:<?php namespace ProcessWire; class Foo extends WireData implements Module { public static function getModuleInfo() { return [ 'title' => 'Foo test module', 'summary' => 'An example of creating a module', 'version' => 1 ]; } public function hi() { return \"Hi there \" . $this->user->name; } }Now you've got a module that can do something. You can call upon this module from any of your site template files and use it. For example, here's how you might call upon it from our /site/templates/basic-page.php file:$module = $modules->get('Foo'); echo \"<h1>\" . $module->hi() . \"</h1>\";The output would be <h1>Hi there guest</h1> or whatever the current user’s name is.So now we've got a module that actually does something. If you are building a module to provide a library of reusable functions or the like, then this might be all you need. But what if you want to create a module that performs actions automatically, without having to be loaded manually? Read on…Automatically loading modulesProcessWire supports something called autoload modules. These are modules that are loaded automatically when ProcessWire boots. Autoload modules are especially useful when you want to hook into anything within ProcessWire. We'll get into hooks in a bit, but first we'll tell you how to define an autoload module. It's as simple as just adding 'autoload' => true to the information returned by your getModuleInfo() method or file: public static function getModuleInfo() { return [ 'title' => 'Hello World', 'summary' => 'An example of creating a module', 'version' => 1, 'autoload' => true ]; }After you've added that autoload property, you'll again want to refresh your modules in the admin (Modules > Refresh), so that ProcessWire will reload all the module information. Once you've done that, ProcessWire will see that your module is now an autoload module.An autoload module isn't particulary useful unless it also does something automatically. So lets update our earlier example to display our “Hi there” message to the user while they are in the admin. To do this, we will add a ready() method to our module. This is a method that ProcessWire automatically calls on all autoload modules as soon as the API is ready.<?php namespace ProcessWire; class HelloWorld extends WireData implements Module { public static function getModuleInfo() { ... } public function hi() { ... } public function ready() { if($this->page->template == 'admin') { $this->message($this->hi()); } } }If you go into your admin, you should now see a \"Hi there name\" notification at the top of your screen, on every page in the admin.Note in the above example that we don't display our “Hi there” message unless the user happens to be in the admin (which we determine by checking the current page's template). While it wouldn't hurt anything if we did, messages/notifications aren't displayed to users on the front-end, so there would be no point. Pro Tip: If you only want your module to autoload in the admin, change your 'autoload' => true in your getModuleInfo() method to instead return 'autoload' => 'template=admin', which essentially says \"autoload only if the current page template is admin.\" If you do this, then you can remove if() statement from the ready() method above, since you are now asking ProcessWire to autoload your module only in the admin. Remember to Modules > Refresh, after making this change.Adding hooks to autoload modulesModules may add hooks to methods in ProcessWire's core or to other modules. Nearly every key component and action in ProcessWire is hookable. A hookable method is identified by the presence of three underscores before its definition, i.e. public function ___someMethod() { ... }. You can hook any such methods from your autoload modules.Modules can schedule designated methods to be executed before or after any hookable method. They can manipulate the values provided to (or returned from) any hookable method. Modules may also add new methods to existing classes or object instances in ProcessWire.To demonstrate hooking a method, lets take our example above and make it display our “Hi there” message to the user after every page is rendered. This will make a <p>Hi there user</p> appear at the bottom of every page rendered in ProcessWire, so… maybe don't do this on a live site.public function ready() { // add hook after Page::render() and make it call the \"test\" method of $this module $this->addHookAfter('Page::render', $this, 'test'); } public function test($event) { // modify the return value of Page::render() to include the following: $event->return .= '<p>' . $this->hi() . '</p>'; }You can also implement hooks with anonymous functions. The following would produce an identical result to the above:public function ready() { $this->addHookAfter('Page::render', function($event) { $event->return .= '<p>' . $this->hi() . '</p>'; }); }The $event argument that the hook function receives is a HookEvent object. Since we are hooking after an existing method, it provides us the return value in $event->return, which we then modify by appending some more markup to it. It also provides all of the arguments the method received in $event->arguments(), and each argument can be retrieved by zero-based index, or by name. Were we using a before hook, we could also modify those arguments before they are received by the method we have hooked. For more about hooks and events, please see our Hooks documentation.Using an autoload module to add new methods to existing classesBefore we wrap things up, lets show you how to add a new method to an existing class in ProcessWire. In this case we'll add a new summarize() method to the Page class. This method will auto-generate a summary of the “body” text, of a specified length. This is something that might actually be useful, unlike the previous examples.public function ready() { $this->addHook('Page::summarize', $this, 'summarize'); } public function summarize($event) { // the $event->object represents the object hooked (Page) $page = $event->object; // first argument is the optional max length $maxlen = $event->arguments(0); // if no $maxlen was present, we'll use a default of 200 if(!$maxlen) $maxlen = 200; // use sanitizer truncate method to create a summary $summary = $this->sanitizer->truncate($page->body, $maxlen); // populate $summary to $event->return, the return value $event->return = $summary; }With the new summarize() method added to all Page instances via this hook, now we can call summarize() on any Page object. For instance, we might use this when rendering a list of pages or search results:foreach($page->children as $item) { $summary = $item->summarize(150); echo \"<li><a href='$item->url'>$item->title</a><br>$summary\"; }Another exampleBefore we finish, lets take a look at one more module example. In this case, the module displays a message to the user every time they save a page. If most of this example makes sense to you, then you are ready to move forward with module development. There is one thing a little different here though, lets see if you can spot it. I'll tell you more after the example.class Example extends WireData implements Module { public static function getModuleInfo() { return [ 'title' => 'Example module', 'version' => 1, 'summary' => 'Display message when pages are saved', 'autoload' => true, ]; } public function ready() { $this->pages->addHookAfter('saved', function($event) { $page = $event->arguments(0); $this->message(\"You just saved page: $page->url\"); }); } }What's a little different in this example relative to our previous examples is the way that we are adding the hook in our ready() method. We are adding the hook with $this->pages->addHookAfter() rather than $this->addHookAfter(). Note also the way we specify the method we are hooking, which is just saved rather than Pages::saved.What we are doing here is adding this hook to 1 specific object instance $this->pages rather than ALL instances of a class. In this case, it does not matter because there is only ever one instance of the Pages class, identified by $this->pages. But for classes that can have any number of instances (like Page) it would matter, as $this->addHook('Page::method', ...) would hook all instances of a Page and $page->addHook('method', ...) would only add the hook to that one $page.When it comes to module development, it's more likely you'll be hooking all instances of a class rather than just a single instance, so we won't dive deeper into it here. But if you are interested, be sure to read more in our hooks documentation. This completes our basic introduction to development of a simple module, but there's lots more to learn if you are interested…Module name requirementsWhen deciding on a name for a module (the class name), please use a format where the first character is an uppercase letter (A-Z), the second character is a lowercase letter (a-z), and the remaining characters are upper-or-lowercase letters. If needed, you may also use numbers at the end of a module name, though it is rare.Examples of good module name formats are HelloWorld and Helloworld. Examples of undesirable module name formats are HELLOworld and helloWorld.Modules that extend core module types should also have the same prefix as the core module type. Examples of these prefixes include: Process, Fieldtype, Inputfield, Textformatter, Tfa, WireMail, etc. (details). These modules have specific purposes and ProcessWire easily recognizes them by the prefix. But unless you are specifically extending a core module type, you should avoid using these prefixes in your module name.The module filename must be the same as the module class name and end with the extension .module or .module.php, for example HelloWorld.module or HelloWorld.module.php.Next stepsTake a look at the HelloWorld module that’s included with the core. You can find it in your /site/modules/HelloWorld/ directory.Read the documentation for the Module class.Learn about configurable modules with the ConfigurableModule class.Learn about the different kinds of predefined module types.Check out the Process Hello module which demonstrates how to build an admin application.The Fieldtype Map Marker module was originally put together as an example of how to create your own Fieldtype and Inputfield (a more advanced example).Need to build a module that requires or installs other modules? Learn about module dependencies and how to use them.Want help with module development? We are glad to help and have a forum board dedicated to it.Add multi-language translations to your moduleIf you are a module developer, you might want to bundle multi-language translations with your module. This page covers all the…Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire module types",
      "url": "https://processwire.com/docs/modules/types/",
      "category": "Modules & Hooks",
      "file": "docs/modules/types.md",
      "summary": "This page looks at the different predefined types of modules in ProcessWire and what they do. It also provides the recommended naming prefixes for modules so that ProcessWire can recognize your module type without actually loading it.ProcessWire comes with a base Module interface for implementing any kind of plugin, as well as a few abstract and base objects for predefined module types that can be extended to create a module of that type. Common examples of predefined module types in ProcessWire include:Fieldtype for defining field types.Inputfield for defining types of form input fields.Process for creating admin processes/applications.Textformatter for formatting text.AdminTheme for creating themes in the admin.WireMail for modules that send email and extend the WireMail class.Tfa for implementing a specific kind of two-factor authentication.ImageSizerEngine for modules that extend ImageSizerEngine for resizing images.FileCompiler for modules that extend FileCompilerModule for compilation of files.FileValidator for modules that extend FileValidatorModule for validation of files.Naming conventionsWhen creating new modules that fall in this category of predefined types, the module type must be used as a prefix in the class name, as a means of identification. For instance, if you create a new Textformatter module called \"Something\" you should name it \"TextformatterSomething\". Likewise, a new Inputfield module called \"SuperCheckbox\" should be named \"InputfieldSuperCheckbox\". For the module types mentioned above, ProcessWire will not recognize them as a module of that type unless they contain the correct prefix. For modules that aren't based on these existing types, you don't need to consider naming conventions. However, we recommend the following:Use the prefix Markup for modules that are used primarily for markup generation.Use the prefix Session for modules that focus primarily on sessions.Use the prefix Jquery (case intended) for modules that represent a jQuery plugin.Use the prefix LanguageSupport for modules that provide multi-language features and don't match an existing predefined type.Outside of these module types and naming conventions, you are welcome to use whatever name you'd like when developing a module.",
      "kind": "page"
    },
    {
      "title": "ProcessWire Hooks",
      "url": "https://processwire.com/docs/modules/hooks/",
      "category": "Modules & Hooks",
      "file": "docs/modules/hooks.md",
      "summary": "ProcessWire contains many methods that you may easily hook in order to modify the behavior of the method. Hooks can also be used to add new methods to existing classes.About hooksWhat are the different types of hooks in ProcessWire?What methods in ProcessWire are hookable?Defining HooksDo I want my hook to run before or after the method I am hooking? (Or, does it matter?)Do I want my hook to apply to all instances of a class, or just one?Where should I define my hook?How can my hook read (or modify) the arguments sent to the hooked method?How can my hook read (or modify) the return value of the hooked method?How can my hook know what object/instance the hook was called on?How can my hook replace another method entirely?How can I define my own hookable methods?How can I add a new method via a hook?How can I add a new property via a hook?Shorter hook syntaxURL/path hooksConditional hooksDefining conditional hooksConditional hooks matching argument typeConditional hooks matching return value or typeMore hook featuresHook priority to dictate execution orderHooking multiple methods at onceRemoving hooksAbout hooksWhat are the different types of hooks in ProcessWire?Before hooks: A hook that runs before the hooked method. These hooks typically analyze and/or modify the arguments passed to the hooked method.After hooks: A hook that runs after the hooked method. These hooks typically analyze and/or modify the return value of the method.Replace hooks: A hook that entirely replaces the hooked method. This is a type of Before hook that signals to ProcessWire that it wants to replace the hooked method.Method hooks: A hook that adds a new method to a class. The new method becomes accessible via $object->method().Property hooks: A hook that adds a new property/variable to a class. The new property becomes accessible via $object->property. Not all ProcessWire classes support property hooks.URL/path hooks: A special type of hook that enables the ability to hook into ProcessWire's request URL routing to add your own custom handlers.What methods in ProcessWire are hookable?Any method that begins with 3 underscores, i.e. ___method(), is hookable in ProcessWire.* There are hundreds of them. The ProcessWire API reference outlines the hookable methods for every class and API variable in ProcessWire. Note the icon in the right column of each method list table which identifies hookable methods (example). If you click on the details of any hookable method (example), it also provides introduction of how to hook both before and after that method (example).New methods added to a class via a hook are themselves hookable too. For example, Page::render(), Page::viewable() and Page::editable() are all methods added to the Page class via method hooks. If you view the /wire/core/Page.php class, you'll see that none of these methods actually exist in the class. However, you can hook before or after any of them just as easily as if they were defined in the class.If you can't find a hook that you need (or just aren't sure) post a question in the forum. If we don't already have a hook for what you need, we can usually add one.*Note that the 3 leading underscores for hookable methods only appears in ProcessWire's source code—hookable methods are not identified this way in the online API reference. That's because you should not call a hookable method with the 3 underscores directly, unless you want to intentionally bypass any hooks attached to it.Defining HooksDo I want my hook to run before or after the method I am hooking? (Or, does it matter?)Before hooksYou would want your hook to run before the hooked method if you want to analyze or modify the arguments supplied to the hooked method. Another use case for a before hook is if you wanted to entirely replace the implementation of the hooked method. Before hooks are defined with $this->addHookBefore(…); within a class, or wire()->addHookBefore(…); outside of a class.After hooksYou would want your hook to run after the hooked method if you wanted to analyze or modify the return value of the hooked method. An After hook can also analyze the arguments supplied to the hooked method, but not modify them (at least, it wouldn't be particularly useful to). After hooks are defined with $this->addHookAfter(…); within a class, or wire()->addHookAfter(…); outside of a class.Hooks where it doesn't matterWhen you are defining a new method or property for a class via a hook, there is no question of before or after, so you can simply define such a hook with $this->addHook(…) or wire()->addHook(…).Some hookable methods in ProcessWire have no implementation and exist purely for you to hook. Because hooks like this exist purely \"to be hooked\", it doesn't matter if you hook before or after them. Examples include Pages::saveReady which is called after it's been determined the page will definitely be saved, but right before it is done. Another is Pages::saved, which is called after a page has successfully been saved. These hooks provide more certainty and less need for error checking than hooking before or after Pages::save. You may see several other specific-purpose hooks like this in ProcessWire.Hooking both before and afterIf you want your hook method to run both before and after a particular event occurs, you can specify that in an $options array to the addHook() call, like this:$wire->addHook('Class::method', function(HookEvent $e) { // ... }, [ 'before' => true, 'after' => true ]);In the example above, we've specified that we want this hook to run both before and after the method we are hooking. If you want to know what state you are in (before or after) from within the hook function, you can examine the HookEvent \"when\" property, which will have a value of either \"before\" or \"after\":$wire->addHook('Class::method', function(HookEvent $e) { if($e->when == 'before') { // this is the 'before' state } else if($e->when == 'after') { // this is the 'after' state' } }, [ 'before' => true, 'after' => true ]);Do I want my hook to apply to all instances of a class, or just one?Most of the time you want a hook to apply to all instances of a class. For instance, when you hook Page::viewable, you likely want your hook to be called regardless of what Page it is. Such hooks are defined by specifying the class and method (i.e. Class::method) in the addHook() call. For example:// inside a class $this->addHookAfter('Class::method', function($event) { // function implementation }); // inside a class (if 'myHookMethodName' is a public method of class) $this->addHookAfter('Class::method', $this, 'myHookMethodName');// outside a class wire()->addHookAfter('Class::method', function($event) { // function implementation }); // outside a class (if 'myHookFunctionName' defined separately) wire()->addHookAfter('Class::method', null, 'myHookFunctionName');For the times when you want your hook to apply only to a single instance of a class, you can attach the hook directly to the object instance of that class:// inside a class $page = $this->wire('page'); // may be any Page object instance $page->addHookAfter('render', function($event) { ... }); // outside a class ($page may be any Page object instance) $page->addHookAfter('render', function($event) { ... });The primary distinction is that we are calling the addHookAfter() method directly on the $page instance we want to attach it to (rather than attaching it using $this or wire()).Some of ProcessWire's API variables (like $pages) only ever contain one instance. As a result, you may find it more efficient to attach such hooks directly to $pages (though it really doesn't matter much). For example, these two calls (below) do exactly the same thing. But the second one that attaches directly to $pages may be slightly more efficient:$this->addHookAfter('Pages::saveReady', function($event) { ... }); $pages->addHookAfter('saveReady', function($event) { ... }); // equivalentWhere should I define my hook?Hooks are most often defined in ProcessWire plugin modules or initialization template files. However, this is not a requirement, and you may technically define hooks anywhere you want. But you need to make sure that your hook really does get called when you want it to, so your hook must be defined and attached sometime before the method you are hooking gets called.Attaching hooks from a plugin moduleAttach hooks with a plugin module set to \"autoload\" on every request. Such modules are called \"autoload modules.\" These autoload modules have an init() method that gets called before ProcessWire handles a web request. This is the best place to attach hooks. However, this init() method is called before ProcessWire even knows what $page it will be rendering. So if your module needs to determine whether it should hook or not based on what $page is being viewed, you should attach your hook in a ready() method rather than an init() method. The ready() method is always called for all autoload modules right after ProcessWire determines what $page is going to be viewed.To summarize: when defining hooks through modules, you will most likely want to attach those hooks through either the init() or ready() method of the module. Attaching hooks from /site/ready.php or /site/init.phpA common and excellent place for attaching site-specific hooks is from the /site/ready.php file or sometimes the /site/init.php file. The ready.php file is called when the API is ready, but before page rendering has begun. While the init.php file is called during ProcessWire initialization (before the API is fully ready).Attaching hooks from a template fileIf you are defining hooks via your template file(s), you will most likely want to place such definitions near the top of the file, or in a common header include file used by all of your template files. An easy way to do this is to define $config->prependTemplateFile in your /site/config.php file. Whatever file you define there will be automatically included before all of your site template files (except for the one used by the admin). Many of ProcessWire's site profile already have this defined as _init.php. Regardless of what it is named, this is the file where you would want to place your hooks.The $config->prependTemplateFile is not used by the ProcessWire admin, so if you are defining hooks specific to the ProcessWire admin, you should define them at the very top of the /site/templates/admin.php. If your hooks are applicable to both your site (front-end) and the ProcessWire admin, then you should manually include your site's initialization fie, i.e. include(\"./_init.php\"); from your /site/templates/admin.php file.How can my hook read (or modify) the arguments sent to the hooked method?Every hook is passed an object called $event (of type HookEvent). This object contains an arguments() method that you can access to retrieve the arguments of the method either by index or name. This is best demonstrated in code. Lets say that you wanted to hook Pages::saved. In looking at the function definition in Captain Hook or directly in the file at /wire/core/Pages.php, you'll note that this function has one argument called $page. With this knowledge in hand, you have everything you need to retrieve that in your hook function:public function myHookFunction($event) { // retrieve first argument by index (0 based) $page = $event->arguments(0); // OR: retrieve argument by name 'page' $page = $event->arguments('page'); $this->message(\"You saved page: $page->path\"); }A Before hook has the opportunity to modify the arguments sent to the hooked function. In order to modify the argument, the hook must assign the argument back to $event->arguments by index or name, like this:// assign by index (0=first argument) $event->arguments(0, $myValue); // assign by name $event->arguments('argument_name', $myValue);How can my hook read (or modify) the return value of the hooked method?The return value of a hooked function may be read or modified in a similar manner to the arguments. However, the return value is only available to After hooks. This is best demonstrated by a code example. Lets say that we want to add the text \"Hello World\" before the closing </body> tag of each rendered page. We would hook after Page::render with a hook method implementation like this:public function hookAfterPageRender($event) { // $value contains the full rendered markup of a $page $value = $event->return; $value = str_replace(\"</body>\", \"<p>Hello World!</p></body>\", $value); // set the modified value back to the return value $event->return = $value; }How can my hook know what object/instance the hook was called on?Every hook function receives an $event object and this $event contains a property called $event->object. That property ($event->object) contains the instance of the object that the hook was executed on. For example:public function hookAfterPageRender($event) { $page = $event->object; if($page->id == 1) { $event->return = str_replace(\"</body>\", \"<p>Homepage!</p></body>\", $event->return); } }How can my hook replace another method entirely?This is a rare need, and one to be careful with, but it is possible to accomplish in ProcessWire. A hookable method can only be replaced with a Before hook. The hook sets the value of $event->replace = true; and this tells ProcessWire not to call the originally hooked method. Assuming the originally hooked method was going to return some value, the hook should populate $event->return with an expected value since the original method won't be able to do so.public function hookBeforePageRender($event) { $page = $event->object; // we'll only apply this to the front-end of our site if($page->template == 'admin') return; // tell ProcessWire we are replacing the method we've hooked $event->replace = true; $event->return = \"Sorry the site is undergoing maintenance\"; }How can I define my own hookable methods?Hookable methods can be defined in any class derived from ProcessWire's Wire class. Nearly all of ProcessWire's core classes and modules are derivative of the Wire class, and thus capable of having hookable methods. To make a class capable of having hookable methods, simply extend one of ProcessWire's classes such as Wire or WireData as your base. Most ProcessWire modules typically extend the WireData class. Assuming your class or module extends one of ProcessWire's classes, you can make any method hookable simply by prepending 3 underscores to the beginning of the methods you want to be hookable.public function ___hookableMethod($arg1, $arg2) { // this method is hookable } public function regularMethod($arg1, $arg2) { // this method is not hookable }Calls to a hookable method should always be without the 3 underscores, i.e.$this->hookableMethod('a', 'b');If for some reason you need to bypass ProcessWire's hook system for a given method, you can include the 3 underscores in the method call and no hooks will be executed.How can I add a new method via a hook?You can add new methods to any ProcessWire class in the same way that you would hook an existing method. The only difference is that the method doesn't already exist, so you are adding it. Also, because there is no distinction of \"before\" or \"after\" for something that doesn't already exist, you can attach the method using addHook(); rather than addHookBefore(); or addHookAfter() … though technically it doesn't really matter what you use here. Lets say that you wanted to add a new method to all Page instances that outputs a relative time string of when the page was last modified (for example, \"45 minutes ago\" or \"3 days ago\", etc.):public function init() { $this->addHook('Page::lastModified', $this, 'lastModified'); } public function lastModified($event) { $page = $event->object; $event->return = wireRelativeTimeStr($page->modified); }Now all Page instances have a $page->lastModified(); method:echo $page->lastModified(); // outputs \"10 minutes ago\"New methods that you add can also use arguments. Lets say that we wanted to change our lastModified() function to accept a single boolean argument that indicates whether it should return a defined date/time like \"2013-05-15 10:15:12\" or a relative date/time like \"10 minutes ago\":public function lastModified($event) { $page = $event->object; if($event->arguments(0) === true) { // return relative time $event->return = wireRelativeTimeStr($page->modified); } else { $event->return = date('Y-m-d H:i:s', $page->modified); } }Here are example calls:echo $page->lastModified(true); // returns \"10 minutes ago\" echo $page->lastModified(false); // returns \"2013-05-15 10:15:12\" echo $page->lastModified(); // returns \"2013-05-15 10:15:12\"How can I add a new property via a hook?You can add new properties to some ProcessWire classes (like the Page class) by attaching it with addHookProperty(). For example, lets say that we wanted to add a \"hello\" property to all User objects that contains a custom greeting to the user like \"Hello [username]\":public function init() { $this->addHookProperty(\"User::hello\", $this, \"hookUserHello\"); } public function hookUserHello($event) { $user = $event->object; $event->return = \"Hello $user->name\"; }Now all User instances contain a \"hello\" property that when accessed, says \"Hello [username]\":echo $user->hello; // outputs \"Hello Karena\"As another example, lets say that we want to add a new property called \"intro\" that returns a short version of the body copy limited to 255 characters. For the sake of diversity, we'll use the \"outside of a class\" approach that you might use from your template files. In such a case, you would want to define this at the top of your template file (or in a common header include).wire()->addHookProperty('Page::intro', function($event) { $page = $event->object; $intro = substr(strip_tags($page->body), 0, 255); $lastPeriodPos = strrpos($intro, '.'); if($lastPeriod !== false) $intro = substr($intro, 0, $lastPeriodPos); $event->return = $intro; });Now every Page object has an \"intro\" property that is a short version of the body copy that can be accessed via $page->intro:foreach($page->children as $child) { echo \"<p><a href='$child->url'>$child->title</a><br />$child->intro</p>\"; }Shorter hook syntaxWhile optional, we recommend taking advantage of anonymous functions for shorter syntax. This enables you to attach and define a hook within 1 function call:$this->addHookAfter('Class::method', function($event) { // inside a class // hook method implementation }); wire()->addHookAfter('Class::method', function($event) { // outside a class // hook method implementation });Note: since the anonymous function usage is now common, we use examples of both throughout this documentation page. If for some reason you are using a really old very of ProcessWire (prior to 2.4) you'll want to stick with the non-anonymous function version. URL/path hooksURL/path hooks are quite powerful as they enable you to hook into ProcessWire's request URL routing to add your own custom handlers for any URL. This puts you in full control over ProcessWire’s matching of URLs-to-pages, or URLs-to-anything that you want. For example, the following hook returns the text “Hello World” when you load the URL /hello/world in your browser:$wire->addHook('/hello/world', function($event) { return 'Hello World'; });…while the this hook renders the /about/contact/ page when you load the URL /contact/ in your browser:$wire->addHook('/contact/', function($event) { return $event->pages->get('/about/contact/'); });The above examples only scratch the surface of what’s possible with URL/path hooks. You can handle multiple URLs in one hook, match URLs dynamically with patterns, convert URL segments to variables, and much more. Because there is so much possible we have a page just for URL/path hooks.Please see the dedicated URL/path hooks page for full details, documentation and examples.Conditional hooksConditional hooks imply the ability to specify conditions along with the hook definition. These conditions determine at runtime whether or not your hook function will execute.Defining conditional hooksConditional hooks are best explained by example. Let's say we've got the following hook function in our /site/ready.php file. The Page::changed hook is called every time a value is modified on a page. It receives 3 arguments: the name of field that changed, the old value, and the new value. Here's what a function that hooks to Page::changed looks like, without use of conditional hooks:$wire->addHookAfter('Page::changed', function(HookEvent $event) { $page = $event->object; $change = $event->arguments(0); if($page->template == 'order' && $change == 'order_status') { // execute some code when \"order_status\" changes on \"order\" pages. } });The conditional format lets you accomplish the same thing as the above, like this:$wire->addHookAfter('Page(template=order)::changed(order_status)', function($event) { // execute some code when \"order_status\" changes on \"order\" pages. });The expressions in parenthesis that you see in the conditional format (template=order) and (order_status) are where conditions are specified. This can be any selector string or the value you want to match. In our example above, the first argument to Page::changed() is a string (specifically, the name of the field that changed) so we just specify the value we require to be present in order to execute our hook function. Were the argument an object, then we'd specify a selector string to match some property in it.Here's the same example, but taken a little further on the implementation side:$wire->addHookAfter(\"Page(template=order)::changed(order_status)\", function(HookEvent $event) { $page = $event->object; $old = $event->arguments(1); // old value $new = $event->arguments(2); // new value $event->addHookAfter(\"Pages::saved($page)\", function($event) use($page, $old, $new) { $event->message(\"Status change: $old->title to $new->title\"); $event->removeHook(null); }); });In the above example, you can see that we are attaching yet another conditional hook Pages::saved($page) within the hook, and that hook executes when the $page that had the order_status change is saved. When that page is saved, we report a message, and then remove the hook (since we only want it to run once).Stepping back for a minute, lets take a closer look at the ::changed(order_status) part. In most cases, when using conditional hooks you are likely to want to match something from the first argument to the hook method. However, if you want to match a value from something other than the first argument to the hooked method (or maybe multiple arguments at once), you can still do so. Just specify the zero-based index of the argument in this format \"0:conditions\".For example, lets say that we wanted our hook to execute when the order_status changes from \"pending\" to \"delivered\". Since the Page::changed() method has 3 arguments (property, old value, new value) we can access those as arguments 0, 1, 2. Our hook definition can access them like this below. Note that order_status is a Page field in our case, so will compare against its \"name\" property.$wire->addHookAfter(\"Page(template=order)::changed(0:order_status, 1:name=pending, 2:name=delivered)\", function(HookEvent $event) { // ... });With the above, our hook function will only be called when a page using template \"order\" has an order_status field that changes from \"pending\" to \"delivered\". Now that may be getting a little much, and you certainly don't have to place all your conditions in your hook definition of you don't want to. The example is just there to show you that you can, if you want to. You could just as easily do this, using a conditional hook, but checking the order_status values within your hook function instead:$wire->addHookAfter(\"Page(template=order)::changed(order_status)\", function(HookEvent $event) { $old = $event->arguments(1); $new = $event->arguments(2); if($old->name == 'pending' && $new->name == 'delivered') { // ... } });The selectors that you see above like Page(template=order) are just examples. The Page part could be any ProcessWire class name—our example here is just matching instances of Page objects. The template=order can be any selector and use any operator supported by our in-memory selectors. For instance, if we wanted to instead match all Page objects using a template having a name that started with the word \"order\" then we would use Page(template^=order) since the ^= operator is the \"starts with\" operator. Such a selector would match Page objects having templates with names like \"orderinfo\", \"order_product\", \"order-details\", etc. For more about about selectors and operators see ProcessWire selectors.Conditional hooks matching argument typeIn ProcessWire 3.0.222 or newer, you can also match by argument type. To do this, use the type name as the argument value and wrap it with less/greater than signs, i.e. <type>. The type can be an object class or interface, or any one of these predefined type names: <array>, <bool>, <float>, <int>, <null>, <object>, <string>. If you specify a type that does not match one of those listed, it is assumed to be a class or interface name. In the example below, we add a hook to Pages::saveReady that only matches if the first argument ($page) is an object of type User (or one that extends User):$wire->addHook('Pages::saveReady(<User>)', function(HookEvent $event) { $user = $event->arguments(0); $event->message(\"Saving user: $user->name\"); });To specify an OR condition for the type, separate each type name with a pipe$wire->addHook('Pages::saveReady(<User|Role|Permission>)', function($event) { $page = $event->arguments(0); $event->message(\"Saving user, role or permission: $page->name\"); });When using <Name> where Name is a class or interface name (i.e. <Page>) please note that it is checking that the argument value is an instance of the given class name. Meaning that <Page> will also match objects of type User since the User class extends the Page class. The same would be true of Role, Permission, and Language objects, since they all extend Page. The point here is that it is performing an instanceof comparison, not a class name comparison.Conditional hooks matching return value or typeMatching by return value or type is supported by ProcessWire 3.0.247 and newer.For methods that return a value, you can use after hooks to conditionally execute your hook code if the return value matches a value, selector or type that you specify. This works very much like argument matching, except that it is instead matching the return value of the hooked function. Here is an example of a hook matching a return value with a selector:$wire->addHookAfter('Field::getInputfield:(label*=Currency)', function($event) { $inputfield = $event->return; $e->message(\"Matched '$inputfield->name' with label: $inputfield->label\"); });The above says to match any Field::getInputfield() call that returns an object that contains \"Currency\" somewhere in its \"label\" property. Note the single colon : in the definition, which tells ProcessWire that what follows is matching the return value of the hooked method. Also note the (label*=currency) selector surrounded in parenthesis. The parenthesis are required when specifying selectors, but can optionally be used in all return value matches.You can match more than one property at a time, just by separating each key=value selector with a comma, i.e. (label*=Foo, name!=bar).For methods that return some other type, such as a string or integer, you can match those values directly. If a method returned a string that either contained the word \"foo\", \"bar\" or \"baz\", then you could match only those that returned the word \"bar\" like this:$wire->addHookAfter('SomeClass::someMethod:(bar)', function($e) { …But since there is no selector in \"bar\", the parenthesis are optional, so this would do the same as the above:$wire->addHookAfter('SomeClass::someMethod:bar', function($e) { …If we want to match any one of a set of values, we'll want to use a selector. But since we're matching a string value (rather than a property of an object) we'll skip the \"key\" part of \"key=value\" in the selector. For example, the following would match if the method returned either \"foo\" or \"bar\", but would not match if it returned \"baz\", or some other value:$wire->addHookAfter('SomeClass::someMethod:(=foo|bar)', function($e) { …Conditionally hook based on returned array valuesFor hooked methods that return standard or associative PHP arrays, you may specify any value that might appear in the array and the hook will execute if the array contains the value you specified somewhere within it. The hook definitions are essentially identical to those that deal with direct string or number return values.$wire->addHookAfter('SomeClass::someMethod:someValue', function($e) { …In the above example, if someMethod() returns an array that contains \"someValue\", somewhere within it, then the hook will execute.If you want the hook to execute if the returned array includes either \"thisValue\" or \"thatValue\" within it then you could do this:$wire->addHookAfter('SomeClass::someMethod:(=thisValue|thatValue)', function($e) { …When it comes to associative arrays, you can match values in the same way that you can with objects by specifying any selector to match the array key and value, using whatever operator is appropriate. The hook example below executes if the returned array includes a \"color\" index with the value \"blue\":$wire->addHookAfter('SomeClass::someMethod:(color=blue)', function($e) { …Conditionally hook by matching return value <type>In addition to matching by value or selector, you can also match by return type in the same way that you do matching by argument type. When you surround a type name in brackets like <type> it will match that type. When specifying object types, it becomes an \"instance of\" comparison. So specifying <InputfieldText> will also match InputfieldTextarea and any other Inputfields that extend InputfieldText:$wire->addHookAfter('Field::getInputfield:<InputfieldText>', function($e) { …Since there is no selector present in a selector comparision, the use of parenthesis around the type is optional, so you could specify <InputfieldText> or (<InputfieldText>) in the example above, and the result would be the same. If you want to match multiple types, separate them with a pipe, i.e.$wire->addHookAfter('Field::getInputfield:<InputfieldRadios|InputfieldCheckboxes>', function($e) { …Note that because an \"instance of\" comparison is used with object return values, you may specify class names or interfaces.The non-object types that you can match include <array>, <bool>, <float>, <int>, <null>, <object>, <string>$wire->addHookAfter('SomeClass::someMethod:<int|float>', function($e) { …The above hook executes if the hooked method returns an integer or float value.To conclude our section on conditionally hooking with return types, let's combine this type of conditional hook with the other types of conditionals we've covered so far. This particular example might go in our /site/templates/admin.php file. Note that this is a contrived example and it's unlikely you would actually combine all these types of conditionals in one hook definition like this. Just know that you can if you want to.<?php namespace ProcessWire; $wire->addHookAfter('Field(name!=title)::getInputfield(template=product):(label*=description)', function(HookEvent $event) { $field = $event->object; // Field object not named 'title' $page = $event->arguments(0); // Page object using template 'product' $inputfield = $event->return; // Inputfield for product page with 'description' in label $event->message( \"We hooked getInputfield for field '$field' that does not have the name 'title' and \" . \"for page '$page' that is using the template 'product', so long as the returned \" . \"Inputfield 'label' ($inputfield->label) contains 'description' somewhere in it. \" ); });More hook featuresHook priority to dictate execution orderIt's likely rare that you will need this, but good to know about when and if the need arises. When adding a hook, you can optionally specify the priority relative to other hooks that may also be attached to the same method. In this manner, you can insure that your hook runs either before or after other hooks. The lower the priority number, the earlier the hook executes. The default priority is 100, so this is the priority number used by the vast majority of hooks. All hooks having the same priority number simply execute in the order they are added. If you wanted to hook before other hooks (that are using the default priority of 100), then you might specify a priority of 99 or some other number lower than 100. If you wanted your hook to run after other default priority hooks, then you might specify a number of 101 or 200 or some other number higher than 100. Here's how to add a hook while specifying the priority number:// hook after any other default priority hooks to Page::render() $this->addHookAfter('Page::render', $this, 'myHookFunc', [ 'priority' => 200 ]); // hook before other default priority hooks to Pages::saveReady() $this->addHookBefore('Pages::saveReady', function($event) { // in this case using an anonymous function for hook implementation }, [ 'priority' => 99 ]);Hooking multiple methods at onceIn ProcessWire 3.0.137 and newer, you can hook multiple methods to the same handling function at once. Just separate the methods you want to hook with a comma:// hooking to viewable and editable methods from all Page instances $wire->addHookAfter('Page::viewable, Page::editable', function($e) { $event->message(\"Called the $e->method hook\"); }); // hooking to saveReady and saved from $pages API var $pages->addHookBefore('saveReady, saved', function($event) { $event->message(\"Called the $event->method hook\"); });This works with any of the addHook methods, whether it’s addHookBefore, addHookAfter, addHookProperty, addHookMethod, or just the regular addHook method. Here is a real life example of using this capability.Removing hooksWhen you add a hook, a hook ID is returned. This hook ID can be used to later remove the hook:// add the hook $hookID = $wire->addHook('Inputfield(name^=repeater_item)::render', function($e) { // ... }); // remove the hook at some later time $wire->removeHook($hookID);A hook can also remove itself by calling removeHook(null) on the HookEvent object that it receives:$wire->addHook('Inputfield::render', function(HookEvent $e) { // do something, then remove hook so that it only runs this once: $e->removeHook(null); });Additional readingLoad the Helloworld module in your code/text editor for a good example of various hooks attached via an autoload module.HookEvent classURL/path hooks",
      "kind": "page"
    },
    {
      "title": "About the /site/modules/ directory",
      "url": "https://processwire.com/docs/modules/about-site-modules/",
      "category": "Modules & Hooks",
      "file": "docs/modules/about-site-modules.md",
      "summary": "This directory /site/modules/ is where you may install additional 3rd party plugin modules, or create your own. Modules in this directory are specific to your site only.There is also a corresponding /wire/modules/ directory which contains ProcessWire's core modules—it's best to leave those ones alone so that you don't lose anything when doing core upgrades.If safe for your hosting environment, you may wish to make your /site/modules/ directory writable to PHP so that the installation of your modules can be managed from ProcessWire's admin. However, this is not necessarily safe in all shared hosting environments and is completely optional.To get 3rd party modules for installation, visit ProcessWire’s modules directory.Installing modules from the ProcessWire adminIf your /site/modules/ directory is writable, you can install modules from ProcessWire's admin directly from the Modules Directory, from either a ZIP file or from an https URL to a ZIP file. In your ProcessWire admin, see Modules > New for installation options.Installing modules from the file systemEach module (and any related files) should live in a directory of its own. The directory should have the same name as the module. For instance, if you are installing a module named ProcessDatabaseBackups.module, then it should live in the directory /site/modules/ProcessDatabaseBackups/.Once you have placed a new module in this directory, you need to let ProcessWire know about it. Login to the admin and click \"Modules\". Then click the \"Check for new modules\" button. It will find your new module(s). Click the \"Install\" button for any new modules that you want to install.Removing modulesThe first step in removing a module is to uninstall it from ProcessWire (if it isn't already). You do this by going to the \"Modules\" page, and \"Site\" tab in your ProcessWire admin. Locate the module you want to remove and click its name (or Config/Settings button, if it has one). On the next screen (the module info/config screen), scroll to the bottom and you should see an \"Uninstall\" field. Click it to open, check the Uninstall box, and submit the form.After the module is uninstalled, you may optionally remove the module files. If your modules file system is writable to ProcessWire, it will give you a \"Delete\" button next to the module in your \"Modules\" admin page. You may click that to remove the module files.If your file system is not writable, you may remove the module files manually from the file system (via SFTP or whatever tool you are using to manage your files on the server).Interested in learning how to make your own modules?We've created two \"Hello World\" modules as examples for those interested in learning module development:Helloworld demonstrates the basics of modules and hooks.ProcessHello demonstrates the basics of how to create a Process module. Process modules are those that create applications in the admin.Also check out the Modules development forum.Additional resourcesTo find and download new modules, see the modules directory.For more information about modules, see the modules documentation.For discussion and support of modules, see modules support forum.For commercially developed and supported 1st party modules see Pro modules.",
      "kind": "page"
    },
    {
      "title": "Fields, types, input",
      "url": "https://processwire.com/docs/fields/",
      "category": "Fields",
      "file": "docs/fields.md",
      "summary": "Additional documentation and details on using various different kinds of field types and input fields in ProcessWire.Introduction to fieldsFields are where the content is actually stored for pages. This page provides more information about Fields, Fieldtypes and…Learn more →Field dependenciesInput and field dependencies enable you to specify the conditions under which a particular field in the page editor is shown or…Learn more →RepeatersThe repeater fieldtype enables you to create a group of fields and make it repeatable in any quantity on your page. This opens…Learn more →TextareaThe Textarea Fieldtype is designed to hold any amount of text. Typically Textarea is used for multi-line text values. It is also…Learn more →Select optionsThe Options Fieldtype provides single and multi choice selectable options in ProcessWire, as an alternative to using Page fields.Learn more →ImagesThis page outlines using and manipulating image fields — one of the most commonly used in ProcessWire.Learn more →Multi-language fieldsProcessWire supports various kinds of multi-language text fields. This page outlines how to use them.Learn more →CKEditorCKEditor is the rich text editor used by ProcessWire via the module InputfieldCKEditor. On a default installation of ProcessWire…Learn more →",
      "kind": "page"
    },
    {
      "title": "Field dependencies",
      "url": "https://processwire.com/docs/fields/dependencies/",
      "category": "Fields",
      "file": "docs/fields/dependencies.md",
      "summary": "Input and field dependencies enable you to specify the conditions under which a particular field in the page editor is shown or required.Beyond the page editor, Inputfield dependencies may also be used with any other form based upon Inputfields. This includes ProcessWire Form Builder and configuration screens for ProcessWire modules.Video: dependencies in actionTypes of field dependenciesSelector string formatAllowed operatorsLimitationsExamplesMatching a quantity of selected itemsMatching blank or not-blankMatching a page in a page reference fieldMatching a single checkbox fieldVideo: dependencies in actionThis is an old video and shows a much older version of ProcessWire, but still does a good job of visually demonstrating how input/field dependencies work.Types of field dependenciesshow-if dependencies enable you to specify a selector string of conditions that must match in order for a field to be shown.require-if dependencies enable you to specify a selector string of conditions that must match in order for the field to be required in the form.Where you can configure show-if dependencies1. From any field edit screen in the ProcessWire admin. (Setup > Fields > [edit a field] > Input > Visibility > Show field if...).2. From any field-template context edit screen. (Setup > Templates > [edit a template] > [click a field] > Visibility > Show field if...).3. From the API on any Inputfield object/module: $inputfield->showIf = \"field=value\";4. From the Form Builder module. ([edit a field] > Visibility > Show field if…)Where you can configure require-if dependencies1. From any field edit screen in the ProcessWire admin.(Setup > Fields > [edit a field] > Input > Required [checked] > Required if…).Please note: the required checkbox must be checked first. 2. From any field-template context edit screen.(Setup > Templates > [edit a template] > [click a field] > Required [checked] > Required if…).Please note: the required checkbox must be checked first. 3. From the API on any Inputfield object/module: $inputfield->required = 1; // must be set $inputfield->requiredIf = \"field=value\";4. From the Form Builder module. ([edit a field] > Required [checked] > Required if…)Selector string formatThe expected format for selector strings is: field=value, where \"field\" is the name of the field you want to check, \"=\" is the operator you want to use for comparison, and \"value\" is the value you want to compare. The \"field\" may be the name of any field in your form. The operator may be any one of the allowed operators (see below). The \"value\" may be any string or integer value (though see limitations section below). You may specify multiple conditions by separating each field=value condition with a comma, i.e. fullname!='', items>5Allowed operators = equal != not equal > greater than < less than >= greater than or equal <= less than or equal %= contains phrase *= contains phrase (same as above) LimitationsWhen using selector strings with Inputfield dependencies, the format is largely the same as regular selector strings except that not as many options are yet supported.Currently, the \"value\" may not contain commas (as they are used to separate conditions) but that is only a short term limitation.While you can specify OR conditions with \"|\" in the field or value you cannot use OR groups.The \"~=\" string matching operator is not supported.Subfields are not yet supported, except for \"count\", i.e. \"field_name.count\".Not all Inputfields will work with dependencies, though most should. We'll later update this page with a list of core Inputfields that are known not to work with dependencies.Field dependency selectors may not yet query the value of a multi-language field. However, they can show/hide multi-language fields according to the value of other fields.Field dependencies must be supported by the admin theme. All admin themes included with ProcessWire support them.ExamplesMatching a quantity of selected itemsWhen attempting to match the value from a field containing multiple selections, you may match based on the quality of values selected by using the count subfield in your selector field. The format is \"field.count=[number]\", which is best demonstrated by example:Matches if 1-2 items is selected from field \"categories\": categories.count>0, categories.count<3Matches only if no categories are selected: categories.count=0Matching blank or not-blankTo match a blank value, specify an empty quoted string. Quotes may be double or single quotes, it does not matter. The following example would match if the first_name field was populated and the last_name field was blank. first_name!='', last_name=''To match a blank (or not blank) quantity of selected items, you can also use the \"count\" subfield described in the previous section.Matching a page in a page reference fieldMost multiple selection fields in ProcessWire are based upon page reference fields. The values present in page reference fields are the selected page IDs. As a result, to match a specific page in a page reference field, you should match the ID. For instance, lets say that you wanted to match a \"featured\" category in your categories field. You'd determine the ID of the \"featured\" page by editing it and looking at the \"id\" variable in the address bar of your browser. Then you'd take that number and use it in your selector string. Lets say that the ID of the \"featured\" page was 1234. We would match it in the categories field like this: categories=1234That condition specifies that the \"featured\" page must be one of the selected categories. In a multiple-selection field, other categories may also be selected. If you wanted to specify that only the \"featured\" (id=1234) category may be selected, then you'd do this: categories=1234, categories.count=1Note: we will soon support specification of page references by /path/to/page/ as well. Matching a single checkbox fieldThe value of a checked checkbox field is 1 and the value of an unchecked checkbox field is blank or 0. While there are many ways to query the value, we recommend simply specifying a 1 for checked and a 0 for unchecked: checkbox=1 checkbox=0",
      "kind": "page"
    },
    {
      "title": "CMS Repeater fields (aka Matrix fields) using FieldtypeRepeater in ProcessWire",
      "url": "https://processwire.com/docs/fields/repeaters/",
      "category": "Fields",
      "file": "docs/fields/repeaters.md",
      "summary": "The repeater fieldtype enables you to create a group of fields and make it repeatable in any quantity on your page. This opens many new possibilities with how you might manage and structure data. Repeatable fields are also referred to as matrix fields in some other platforms. We refer to them as repeatable fields or repeaters, but they are all the same thing. Below is a video that demonstratates how to create and use a repeater field. I suggest viewing the video full screen to see the higher resolution version.While this is an old video, it still does a good job of demonstrating the basics of repeaters.When to use repeatersRepeaters are ideal for managing simple-to-complex groups of information in smaller known or unknown quantities. Things like rate tables, locations, product variations, staff directories, photo galleries with meta data, and so on might be a good fit with repeaters. The sky is the limit.Choose repeaters when they will represent a good long term, and short-term, solution to a problem. If you know the quantity of repeated items will stay at a reasonable size on the given pages despite time and scale, repeaters are a good solution to consider.When not to use repeatersRepeaters aren't infinitely scalable in quantity, so avoid repeaters for quantities of items that you think may need to be infinitely scalable. When you edit a repeater field in your page, you edit all items at once. As a result, you probably don't want to use a repeater if you expect hundreds of items, as that may slow your editing experience. It's better to use pages without repeaters when dealing with huge quantities of items.You also don't want to use repeaters for items of content that you want to have their own URL. Individual repeater items don't have individual URLs, so repeaters are better for items that you will be showing as a group on one page. However, there's nothing preventing you from attaching repeater items to URL segments or GET variables (for example), but consider whether you would be better off just using regular pages.How to use repeatersHow to create a repeatable fieldThe repeaters fieldtype is not installed by default. To install, login to your ProcessWire admin and click to Modules. Locate the Fieldtype section and click the Install button for the Repeater fieldtype.Next create the individual fields that will live in your repeater. Create these fields like you would any other, from Setup > Fields > Add New Field. Lets say that I wanted to create fields to hold data for skyscrapers. I might plan to re-use the built-in title field for my building name, and then create these 3 new fields:feet_highnum_floorsyear_builtOnce you've created the fields you want to use with your repeater, you can go on to create the actual repeater field. Click Setup > Fields > Add New Field, and choose \"Repeater\" as the field type. Continuing the example above, I might name my field \"buildings\". Click Save and the repeater field will be created.Now you want to add the title, feet_high, num_floors and year_built fields to your repeater. Click the details tab while editing your repeater field. Select those fields to add them. Drag them to the order you want. Then click Save.After saving, you may want to customize the title field so that it has a label of \"Building Name\" rather than \"Title\". While still in the details tab, click the name \"title\" in your list of fields. It will pop open a modal window enabling you to change the context of the title field when used in this buildings repeater field. Change the label to \"Building Name\" and click Save. Now click Save again in the field editor.Next you want to add your buildings repeater field to a template. Go to Setup > Templates and click an existing template to edit. In my case, I'm editing my \"home\" template. In the field selection box, select the field \"buildings\" (or whatever you named your repeater field) to add it to the template. Then click Save.Now you can edit or create any pages using that template and they will have the repeater field available. All you need to do to add a repeater is click \"add new\", populate your content and Save your page.Outputting repeatable fieldsThe individual items contained in a repeater field are technically pages in ProcessWire. The value of a repeater field is a PageArray. As a result, you may interact with them exactly like you would any other group of pages in ProcessWire. You might iterate through and output the group of items like this (using the fictional buildings repeater, created in the previous section):foreach($page->buildings as $building) { echo \"<h2>{$building->title}</h2><p>\"; echo \"Height: {$building->feet_high} feet, \"; echo \"Floors: {$building->num_floors}, \"; echo \"Year built: {$building->year_built} </p>\"; }That's all there is to it. Everything that you know about outputting any other pages in ProcessWire applies to outputting repeaters.Testing for an empty valueLike with any other PageArray, you can tell how many items there are by using count():if(count($page->buildings)) { echo \"<p>There are \" . count($page->buildings) . \" buildings.</p>\"; } else { echo \"<p>There are no buildings.</p>\"; }Finding pages by repeater value (using selectors)Use selector subfields to locate pages by a value in a repeater field. Subfields are those that are split with a period, like \"field.subfield\". This is best demonstrated by examples, again continuing with our buildings field, we will locate pages that have a buildings repeater field by properties of the individual buildings within that repeater field:// find all pages that have at least one building with a height > 500 feet $buildings = $pages->find(\"buildings.height>500\"); // find all pages that have a building made in 1940 with at least 20 floors $buildings = $pages->find(\"buildings.year_built=1940, buildings.num_floors>=20\"); // find all pages using the basic-page template with at least 1 building $buildings = $pages->find(\"template=basic-page, buildings.count>0\")Using the API to add or remove repeater itemsUnlike other pages in ProcessWire, new repeater items must be created by ProcessWire rather than you. As a result, a helper method is provided called getNew(). You may call getNew() on any repeater field to get a new item. The item that it returns is ready to populate and has already been added to the repeater. Once populated, you simply save the page that the repeater field is on.$building = $page->buildings->getNew(); $building->title = 'One Atlantic Center'; $building->feet_high = 880; $building->num_floors = 50; $building->year_built = 1997; $building->save(); $page->buildings->add($building); $page->save();Remove a repeater item in exactly the same way you remove an item from any other PageArray:$building = $page->buildings->first(); // or whatever item you want to remove $page->buildings->remove($building); $page->save();Implementing templates for repeater fieldsWhile not commonly done, you can actually implement template files for your repeater fields, if you want to.If you want to implement a template file for your repeater, you create a file in your /site/templates/ named \"repeater_[field name].php\", i.e. in the case of the buildings field, it would be \"repeater_buildings.php\". That template file will receive a $page variable that is represents one 'buildings' record. So you could do something like this:/site/templates/repeater_buildings.phpecho \"<h2>{$page->building_name}</h2>\"; echo \"<p>{$page->floors} floors, {$page->height} feet</p>\";The template used by your page with a 'buildings' field could then do this:/site/template/basic-page.phpforeach($page->buildings as $building) { echo $building->render(); }See alsoRepeater Matrix",
      "kind": "page"
    },
    {
      "title": "Textarea field type in ProcessWire CMS (multi-line text)",
      "url": "https://processwire.com/docs/fields/textarea-fieldtype/",
      "category": "Fields",
      "file": "docs/fields/textarea-fieldtype.md",
      "summary": "The Textarea Fieldtype is designed to hold any amount of text. Typically Textarea is used for multi-line text values. It is also used for rich text (CKEditor) fields.Examples include plain text, HTML markup, lightweight markup languages (like Markdown or Textile) or really anything that you might want to store as text. For single-line text values, choose the Text Fieldtype instead.The Textarea Fieldtype is configured for the Details tab (Setup > Fields > [textarea field] > Details). Below is an outline of available configuration options:Text FormattersInputfield TypeContent TypeMarkup/HTML OptionsText FormattersIf you want to apply any automatic formatting to the field when it is prepared for output, select one or more text formatters here. If you select more than one, drag them into the order they should be applied. For textarea fields that won't contain HTML, we strongly recommend selecting the HTML Entity Encoder text formatter.Inputfield TypeThe type of field that will be used to collect input (Textarea is the default). If you using a lightweight markup language or plain text, select \"Textarea\". For rich text editing, select CKEditor.Content TypeThis tells ProcessWire the type of content that will be contained in this field. If using a rich text editor or using plain HTML, choose one of the \"Markup/HTML\" options. If using plain text or a lightweight markup language (like Markdown) choose \"Unknown\".Content Type: UnknownThis option is intended for plain text or lightweight markup languages (like Markdown or Textile). If using plain text, we also recommend that you choose the HTML Entity Encoder for your \"Text Formatters\", as mentioned earlier on this page.Content Type: Markup/HTMLThis option adds checks to ensure that links and image references in your textarea value are not broken by changes in the site root URL. For instance, if your development server runs the site off a sub-directory, and the live server doesn't, this option update any links or image references in the markup at runtime with the correct site root URL.Content Type: Markup/HTML with image managementThis option is available for ProcessWire 2.x only. For ProcessWire 3.x, see Markup/HTML options for the equivalent. This option includes everything in the Markup/HTML option and adds the following:Populate blank alt attributes with file description - ensures changes to file description are reflected in img[alt] attribute.Automatically re-create image size variations that do not exist, when possible.Remove <img> tags that point to files that do not exist and cannot be re-created.Record missing image errors to \"markup-qa-errors\" log file (Setup > Logs > markup-qa-errors).See also: Quality assurance with images in textarea fieldsMarkup/HTML OptionsThese options are available for ProcessWire 3.x only. Image ManagementSelecting this option provides the following quality assurance for <img> tags:Populate blank alt attributes with file description - ensures changes to file description are reflected in img[alt] attribute.Automatically re-create image size variations that do not exist, when possible.Remove <img> tags that point to files that do not exist and cannot be re-created.Record missing image errors to \"markup-qa-errors\" log file (Setup > Logs > markup-qa-errors).Link AbstractionSelecting this option enables ProcessWire to provide quality assurance for your internal links referenced by <a> tags. When selected, ProcessWire will manage the a[href] attributes, ensuring they always point to the right page. If a link points to a page which has moved, ProcessWire will update the href attribute automatically when the field is rendered, so that it points to the correct location. If a link points to a page which no longer exists (or is in the Trash) ProcessWire will record the error to the \"markup-qa-errors\" log file (Setup > Logs > markup-qa-errors).Note that the link management option works only for page fields saved after the option has been enabled.",
      "kind": "page"
    },
    {
      "title": "Select Options Fieldtype in ProcessWire CMS",
      "url": "https://processwire.com/docs/fields/select-options-fieldtype/",
      "category": "Fields",
      "file": "docs/fields/select-options-fieldtype.md",
      "summary": "The Options Fieldtype provides single and multi choice selectable options in ProcessWire, as an alternative to using Page fields.For features and highlights see our post on the Options Fieldtype or continue reading here to learn more about how to use it.About the Options FieldtypeCreating an Options fieldDefining optionsAdding New OptionsMoving or Sorting OptionsEditing or Renaming OptionsDeleting OptionsMulti-Language: Translating OptionsSeparate Option ValuesOutputting selected options on a pageChecking if an option is selectedManipulating options on a page from the APIManipulating available options for all pagesAbout the Options FieldtypeWhile we usually recommend using the Page Fieldtype for selectable options, this Options Fieldtype provides a convenient alternative for when the selectable options will not benefit from being pages, or when a speedy definition process outweighs the benefits of using pages. Like with the Page Fieldtype, you can define what type of input should be used with the field settings. The input type can be any core or 3rd party Inputfield that extends ProcessWire's InputfieldSelect module. For core Inputfields, this includes: Single Select, Multiple Select, Checkboxes, Radio Buttons, and AsmSelect (a sortable multi-select).Options are stored in a relational database normalized manner, ensuring that changes to existing options apply across existing selections.The Options Fieldtype was added to the core in ProcessWire 2.5.17.Options AdministrationCreating an Options fieldConfim that you are running ProcessWire 2.5.17 or newer.Install the Select Options Fieldtype module, if it is not already installed. Do this by going to Modules > Core > Fieldtype > Select Options (or from the drop-down menus: Modules > Install > FieldtypeOptions). If you don't see it, you may need to first click on Modules > Refresh, and try again.Create a new field (Setup > Fields > Add New) and choose \"Options\" as the type.After creating the field, click to the Details tab, where you can define your options.Defining optionsYou can define options on the Details tab when editing an Options field (Setup > Fields > your field). Options are defined in a multi-line text box, where each line represents one option. You may type or paste in a list of options (like a list of countries for example, 1 per line) and save.Once an option exists in the database, it is assigned an ID number. When selected options are saved on a page, the ID number [for each option] is stored rather than the option title or value. This enables you to go back and later modify options without breaking existing selections on a page. However, it does require that that the assigned ID number always remain with the option.In addition, these ID numbers enable mutli-language support by connecting an option in one language with a translation in another language. Please note that these ID numbers need not symbolize anything about your option title or value, and are not typically used for anything on the front-end of your site.Adding New OptionsEnter the text of each new option on a new line anywhere in the existing options. You may omit the ID number as one will be automatically assigned after you save. Once assigned, you should never change this ID number, but you can change the title (or value) as much as you like.While we recommend letting the Options Fieldtype assign unique ID numbers for you, you may optionally assign your own. To do this, specify 123=title when adding a new option, where 123 is the ID number you wish to assign and title is the title text for your option. If you need separate \"value\" and \"title\" properties for each option, see the last section in these notes.Moving or Sorting OptionsCopy entire line(s), including ID number, and paste wherever you want them to go.Editing or Renaming OptionsModify the option title or value as you would like, ensuring that the original ID number remains connected with the option.Deleting OptionsDelete the entire lines containing the options that you want to delete. You will be asked to confirm the deletion after you submit the form. The option will not be deleted until you click the box to confirm and submit the form again. Note that this also deletes any selections for that option in the database.If using multi-language options, deleting the option in the default language deletes it for all languages, and deleting an option in a non-default language only deletes the translation.Multi-Language: Translating OptionsMulti-language support with options requires that you have the LanguageSupportFields module installed (Modules > Core > Language > Language Support Fields).Define your options in the default language and save, before defining them in other languages. Copy the options you want to translate from the default language tab to the other language tab. Paste in and translate the titles (and/or values). Untranslated options inherit the default language title and value. If using separate option values (as described in the next section) your translation does not need to include the \"value\" portion unless you want it to.Separate Option ValuesBy default only titles are kept with each option. If you want to maintain a separate value and title, enter your option in the format value|title (for new options) or 123=value|title (for existing options that already have an ID assigned). The text for value and title will be kept as separate $option->value and $option->title properties from the API. These properties can also be independently queried to find pages from the API.Options APIOutputting selected options on a pageYou output options in exactly the same way that you would page titles. For our example, lets assume you created an Options field called \"countries\" and you wanted to output an HTML list of those countries:foreach($page->countries as $country) { echo \"<li>$country->title</li>\"; }If Options field only supports 1 selection, the above example would still work. However, you can also do this:echo $page->countries->title;There is no distinction between single-value and multi-value options at the API level. You can simply choose to treat it as a single or multi-value field as you see fit. This works because when you access the title (or other) property from the field, it simply gives you the value for that property from the first item.Checking if an option is selectedIf you are working with a single-selection options field, then you can simply compare the option title (or value if used) to the value you want to check. Below, we'll assume we have a single-selection in a field named \"country\":if($page->country->title === 'Finland') { // Finland is selected }If using separate titles and values, and you were using country codes for the values, like \"us\", \"mx\", \"de\", \"fi\", etc., then you you could compare the option value rather than the title. This is probably what you'd want to do in a multi-language environment, where the title will vary according to language, but the value will not.if($page->country->value === 'fi') { // Finland is selected }If you are working with a multiple-selection options field, then there are hasTitle() and hasValue() helper methods that you can use. In the example below, we'll return to our \"countries\" options field that supports multiple country selections:if($page->countries->hasTitle('Finland')) { // Finland is selected }...or if using separate titles and values, you may want to compare the option values instead:if($page->countries->hasValue('fi')) { // Finland is selected }All selectable options also have numeric IDs which you can use in comparisons as well. For example: $page->country->id == 123 or $page->countries->hasID(123); But using IDs doesn't make for very easy-to-read code, so we'd suggest sticking with using the titles or values instead.Manipulating options on a page from the APIThe value of your Options field (i.e. $page->countries) is a WireArray, and can be manipulated using any of the methods supported by WireArray. Once manipulated, you would either save the page they live on, or save the page field, i.e. $page->save('countries');Before manipulation options on a page, always make sure that output formatting is OFF first:$page->of(false); // set output formatting offIf working with an Options field that supports a single selected value, you can set it directly as the title:$page->countries = 'Finland';For a multi-value Options field, set it as an array…$page->countries = array('Finland', 'Sweden', 'Norway');…or a pipe \"|\" separated string:$page->countries = 'Finland|Sweden|Norway';The above examples demonstrate setting the value by the option's title property. You can also set it from the option's id property, the value property, or directly with SelectableOption or SelectableOptionArray objects. If setting with the value property, note that the title property is considered before the value property (if there are any conflicts).A note about numeric titles: Any time you set from a numeric value, it is assumed to be the id property. If your situation involves options that have a numeric title, this is someting to consider, as you'll likely want to stick to setting the options by id in order to avoid confusion. Or, you can use one of the methods described below to retrieve all options and determine which ones you need. In particular, see the \"Getting the id property of an option when you only know the title\" section below.Getting all possible optionsThis retrieves all possible options for the field, regardless of whether they are selected or not (there is no page involved here).$field = $fields->get('countries'); $all_options = $field->type->getOptions($field);Getting the id property of an option when you only know the title:The following code examples build upon the previous example (getting all possible options), so make sure to include that first.$option = $all_options->get(\"title=Finland\"); echo \"The id for $option->title is: $option->id\";If you need to pull multiple options out of a set:$options = $all_options->find(\"title=Finland|Sweden|Norway\"); foreach($options as $option) { echo \"<li>The id for $option->title is: $option->id</li>\"; }You can use these values (objects) you pulled from $all_options to set the value of your options field:$options = $all_options->find(\"title=Finland|Sweden|Norway\"); $page->countries = $options;Manipulating available options for all pagesThis section coming soon. For additional info now, see the bottom of the /wire/modules/Fieldtype/FieldtypeOptions/FieldtypeOptions.module file, which contains all the public API methods for adding, updating and deleting available options at the API level.",
      "kind": "page"
    },
    {
      "title": "Image field type in ProcessWire CMS",
      "url": "https://processwire.com/docs/fields/images/",
      "category": "Fields",
      "file": "docs/fields/images.md",
      "summary": "This page outlines using and manipulating image fields — one of the most commonly used in ProcessWire.To interact with the images field. Create a new field (under Setup > Fields) and call it whatever you want, like \"images\" for example. Set the field type as \"image\". Save. On the details tab, you may set the maximum quantity of images the field may contain. Please note that if you set it to one (1), the field will usually behave as a single image rather than an array of images, and this affects how you access it from the API. Add this new images field to a template (under Setup > Templates). Then edit a page using that template and upload some images.How to access the images field from your templatesIn your template files, you can loop through the images field and output each image:foreach($page->images as $image) { echo \"<img src='$image->url'>\"; }If you set your images field to contain just 1 image, then the above wouldn't work because $page->images (which you would probably name $page->image, singular, instead) refers to just a single image.* Instead, you would do something like this:if($page->image) echo \"<img src='{$page->image->url}'>\";*Note for advanced users: the single image behavior described above is only applicable when output formatting is ON, as it is by default in template files. When output formatting is OFF, image fields always behave as arrays. When your image field is set to contain more than one image, $page->images is a WireArray. You may use any of the functions provided by WireArray. For example:// grab and output first image $image = $page->images->first(); if($image) echo \"<img src='$image->url'>\"; // grab and output a random image $image = $page->images->getRandom(); if($image) echo \"<img src='$image->url'>\";How to tell if a page has images presentIt is a good idea to check if an image(s) field has something in it before attempting to output it. When set to contain multiple images, you can tell if a page contains one or more images by using the count() function:if(count($page->images)) { // the page has one or more images }When set to contain a max of one (1) image, then you can just check if your image field has a value:if($page->image) { // an image is present }Resizing imagesProcessWire will create your images at any size on the fly and then keep a cache of them.For instance, lets say we want to cycle through all the images, create a large image at 500 pixel width with proportional height, and a thumbnail at 100x100, and then have the thumbnail link to the large:foreach($page->images as $image) { $large = $image->width(500); $thumb = $image->size(100, 100); echo \"<a href='$large->url'><img src='$thumb->url'></a>\"; }Note that when sizing an image, a new copy is created and cached, so that it doesn't have to be re-created every time. The table below shows all available image resize functions:Image resize functions$img = $image->width($x)Create a new image at width $x, and proportional in height to the original.$img = $image->width($x, $options)Same as above, except with additional array of options* specified.$img = $image->height($y)Create a new image at height $y, and proportional in width to the original.$img = $image->height($y, $options)Same as above, except with additional array of options* specified.$img = $image->size($x, $y)Create a new image at exactly the given width ($x) and height ($y). If necessary either dimension will be cropped to reach the target size. By default crop is to the center in both axis.$img = $image->size($x, $y, $options)Same as above, except with additional array of options* specified.$img = $image->size($x, $y, \"north\")Same as above, except crop to the \"north\" (top center). Options for cropping are: northwest, north, northeast, west, center, east, southwest, south, and southeast. If you prefer, you may specify shorter versions: nw, n, ne, w, c, e, sw, s, se.$img = $image->size($x, $y, \"50%,30%\")Same as above, except target your own x and y regions as percentages. Percentages may be 0–100%. Note that \"0%,0%\" is northwest, \"50%,50%\" is center, and \"100%,100%\" is southeast. This feature is in beta.$img = $image->size($x, $y, \"100,200\");Same as above, except target your own x and y regions as number of pixels. This feature is in beta. $options arraySome of the resize functions above include an $options array. You can use the $options array like this:$options = array( 'quality' => 90, 'upscaling' => false, 'cropping' => 'southeast' ); $img = $image->size($x, $y, $options);You may specify any of the following for the $options array:qualityQuality setting of 1–100 (integer), where 1 is worst and 100 is best. Default is 90.upscalingAllow upscaling? (boolean). If set to false, options sent to width(), height() and size() functions become maximum values rather than absolutes. Meaning, if you ask for an image 900 pixels wide and this is larger than the original image, it won't be upscaled to reach that dimension. The default setting is true, meaning you'll always get an image at the sized you asked for, even if upscaling is required.cropping (as a boolean)The default value of 'cropping' is true, meaning cropping is allowed to reach target dimensions. If you want to disallow cropping, set to false.cropping (as a direction)If a direction string is specified, any necessary cropping will target the given direction. Valid values are: northwest, north, northeast, west, center, east, southwest, south and southeast. If you prefer, you may specify shorter versions: nw, n, ne, w, c, e, sw, s, se. Default is center.cropping (as a percent)If you specify two percent values in a string, like \"50%,30%\" then the crop will target those regions in the image. Note that \"0%,0%\" is northwest, \"50%,50%\" is center, and \"100%,100%\" is southeast. You may specify any percentage values between 0 and 100. This feature is in beta.cropping (as pixels)If you specify two pixels values in a string, like \"100,200\" then the crop will target those regions in the image (in pixel quantity). This feature is in beta.You may modify the default $options that your system uses by adding a $config->imageSizerOptions in your /site/config.php file:$config->imageSizerOptions = array( 'upscaling' => true, 'cropping' => true, 'quality' => 90, );Image propertiesThe above examples only refer to $image->url, but note that there are several other image properties you may wish to access.For instance, $image->description refers to the description text entered for the image, which you may want to include as an alt attribute:echo \"<img src='$image->url' alt='$image->description' />\";Here are all the image properties that are present with every image:$image->urlFull URL to the image$image->filenameImage filename, including server path$image->basenameImage filename, without server path$image->descriptionImage description text (typically for \"alt\" attribute)$image->widthImage width in pixels$image->heightImage height in pixels$image->originalReference to the original image, if this is a resized image$image->tagsString of space separated image tags, if used$image->extImage extension (jpg, jpeg, gif, png)$image->pageReference to the Page object that contains this image$image->modifiedUnix timestamp of last image modification time$image->createdUnix timestamp of date image was added to system$image->pagefilesReference to the array of images containing this image$image->filesizeFile size in bytes$image->filesizeStrFormatted filesize stringUsing Image TagsAs of ProcessWire 2.3, multi-image fields support the option of specifying one or more tags for each image.Tags make it easier to categorize and/or select specific images on the front-end of your site. You will see a checkbox to enable this option in your Image field settings. When enabled, a \"tags\" field will accompany each image in the page editor. When specifying more than one tag, each tag should be split by a space. Below are examples on how to retrieve images by tag on the front-end of your site. These examples assume your Images field is named 'images' and is set to contain more than 1 image.// retrieve first image with tag 'mytag' $image = $page->images->getTag('mytag'); // retrieve all images with tag 'mytag' $images = $page->images->findTag('mytag');When using getTag() the return value is a single PageImage or NULL if the tag is not found. When using findTag() the return value is a new Pageimages array, just like $page->images, but only containing the images matching the tag. If no matches were found, then it will be an empty Pageimages array.The tags field is indexed and queryable from ProcessWire's database selector engine. Meaning, you can find pages based on what tags an images field contains. This is best demonstrated by examples:// Find pages containing an image with the single (1) tag: sport // This will only match images with 1 single tag of \"sport\". $mypages = $pages->find(\"images.tags=sport\"); // Find pages containing an image with at least tag: sport // This will match \"sport\" but not \"sports\". $mypages = $pages->find(\"images.tags~=sport\"); // Find pages containing images with tags starting with: sport // This will match: sport, sports, sportscar, etc. $mypages = $pages->find(\"images.tags*=sport\"); // Find pages containing images with partial tag match for: port // This will match: port, sport, sports, sportscar, report, etc. $mypages = $pages->find(\"images.tags%=port\");",
      "kind": "page"
    },
    {
      "title": "CKEditor",
      "url": "https://processwire.com/docs/fields/ckeditor/",
      "category": "Fields",
      "file": "docs/fields/ckeditor.md",
      "summary": "CKEditor is the rich text editor used by ProcessWire via the module InputfieldCKEditor. On a default installation of ProcessWire, there is typically a “body” field which uses CKEditor.The InputfieldCKEditor module is paired with and relies upon the FieldtypeTextarea module to manage its content.Changing a field to use CKEditorInline Mode vs. Regular ModeAdvanced TipsCustom Editor JS Styles SetCustom Editor CSS FileChanging a field to use CKEditorThis module is tested and confirmed compatible with both repeaters and multi-language support.Go to Setup > Fields and locate a textarea field that you want to use CKEditor (or create a new textarea field).When editing the settings for a textarea field, click the Details tab. Change the Inputfield Type to CKEditor and save.While still editing the field settings, click to the Input tab for CKEditor-specific settings you may optionally configure.Inline Mode vs. Regular ModeWhen configuring your CKEditor fields, you may notice the option of either Regular Mode or Inline Mode.The Inline Mode is new to CKEditor 4.x and is preferable if you need to have several instances of CKEditor on the same page at once. Inline mode editors are not initialized until hovered, making the initial page load time faster (at least versus several Regular Mode editors). Another benefit of inline mode is that the editor interface and buttons are not visible until the field is focused, which some may prefer visually. Another aspect of inline mode worth noting is that the editor area is always as tall as the content it contains... this may be good or bad, depending on your preferences. We recommend using inline mode in these instances:Multi-language textarea fieldsTextarea fields in repeatersAny instance where you have multiple (3+) CKEditor textarea fields in the same page editor.When you should use regular modeIf you only have one or two instances of CKEditor on a page, you may prefer to use Regular Mode because it has been around longer and tends to be more reliable. Regular Mode runs in a separate frame, making it more isolated and thus less prone to any other CSS or Javascript interference. Regular mode editors are also more obviously rich text editors, as their interface and buttons are always visible. We recommend using Regular Mode in these instances:Page editors with only 1-2 CKEditor textarea fields (like body and sidebar).When you do not want CKEditor to consume too much vertical real estate on the editor page.When you want the greatest amount of compatibility with other CKEditor plugins.Advanced TipsThis section contains contextual instructions that are linked to from within the module. These cover specific needs during field configuration and you do not need to read this section in order to use CKEditor.Custom Editor JS Styles SetThis is an option that appears in your CKEditor field settings when editing a textarea field in the ProcessWire field editor. Use this option if you want to have a Styles dropdown that contains your own custom styles that users can choose from your editor.InstructionsEdit your CKEditor field in Setup > Fields, and click to the Input tab.In the CKEditor Toolbar field, enter Styles somewhere. Here is an example of what my first toolbar line looks like:Format, Styles, Bold, Italic, -, RemoveFormatOpen the Custom Editor JS Styles Set field, and type or paste in:mystyles:/site/modules/InputfieldCKEditor/mystyles.jsProcessWire's site-default profile comes with a ready-to-go mystyles.js in the path mentioned above. Feel free to use this.The term mystyles is just something we made up, and you may use whatever keyword you like, but note you will have to use that same keyword in the file itself. In our example below, you will see where we used the term mystyles again. If you want to keep things simple, then just stick with using mystyles.If you don't have a mystyles.js file in /site/modules/InputfieldCKEditor/, then you can copy the one in /wire/modules/Inputfield/InputfieldCKEditor/ to /site/modules/InputfieldCKEditor/mystyles.js.Edit and modify the mystyles.js file to suit your particular needs. Save and you are done.When editing a page that uses your CKEditor field, you should now see a Styles dropdown with the styles you specified in your mystyles.js file. Note that you may not initially see all styles in the dropdown, as they may be contextual. For instance, you will not see the styles related to images in the example above unless you are focused on an img element in your editor.You may wish to combine your settings here with a custom editor CSS file covered in the section below.Read more about the CKEditor styles set option.Custom Editor CSS FileThis option enables you to modify the way that text and other elements appear in your editor. This covers how they look in the administrative environment only, and has nothing to do with the front-end of your site. Typically you would use this option if you wanted to modify the default look-and-feel in the editor to something that is more stylistically similar to the front-end of your site.Example editor CSS files can be found here:Regular Mode: /site/modules/InputfieldCKEditor/contents.cssInline Mode: /site/modules/InputfieldCKEditor/contents-inline.cssYou can use this files directory, or you can copy them somewhere else. However, since they are located in your /site/ directory, they won't get overwritten during upgrades. For the same reason, it's also possible that you don't have those files in the location mentioned above. If that's the case, you can copy the versions in /wire/modules/Inputfield/InputfieldCKEditor/ instead, and I recommend putting them in /site/modules/InputfieldCKEditor/.There is also a Sass (SCSS) file called contents-inline.scss which you may prefer to use as your starting point if using Sass. Just remember to compile it to a contents-inline.css file when done. The Sass file is located here: /wire/modules/Inputfield/InputfieldCKEditor/contents-inline.scssAs you can see above, you will be using a different CSS file depending on whether you need to modify the styles in a regular editor, or an inline-mode editor.Modify the file(s) mentioned above and style the elements as you wish, or you may return to this step later. If using more than one CKEditor inline editor in your page, please see the important note below these instructions.Edit your textarea field that uses CKEditor in Setup > Fields > your_field. Go to the Input tab and see the Custom Editor CSS File option. Type or paste in the location of the file you copied in step 1 (relative to web root). Example: /site/modules/InputfieldCKEditor/contents.css. Save.Your editor should now be using your new contents.css or contents-inline.css file rather than the defaults. Note that sometimes it can be difficult to see the results of your new file immediately, especially in regular mode, due to browser caching. If you run into trouble, quit your browser and re-open (or use Incognito mode).Important Note About Inline Mode (contents-inline.css)If using more than one CKEditor inline mode editor on your page, and not using the same contents-inline.css file on all of them, then you will end up having them compete with each other or fall back to the default contents-inline.css. In order to avoid this, you would need to make your CSS selectors more specific to the field they apply to.Lets say that you had a field named body. You could target it specifically in your contents-inline.css (or whatever you named the file), by replacing this CSS selector... .InputfieldForm .InputfieldCKEditorInline...with this CSS selector: .InputfieldForm .Inputfield_body .InputfieldCKEditorInlineNote the .Inputfield_body part, as body is the name of the field in ProcessWire.If you will use the same contents-inline.css file for all of your inline fields, then just make sure it is specified with the settings for each of your CKEditor inline textarea fields, otherwise you may end up reverting back to the default contents-inline.css.",
      "kind": "page"
    },
    {
      "title": "Multi-language CMS fields in ProcessWire",
      "url": "https://processwire.com/docs/fields/multi-language-fields/",
      "category": "Fields",
      "file": "docs/fields/multi-language-fields.md",
      "summary": "Here we look in detail at multi-language fields and language-alternate fields, as well as how to use them. Also includes a video overview and examples of how to use language fields to create full multi-language websites.ProcessWire supports the use of multi-language fields and language-alternate fields. A multi-language field is a single field that supports multiple languages, and these are typically text-based fields. Language-alternate fields are separate fields where the value of one can substitute for another, when the user's language justifies it. Below is a short video that demonstrates the use of both.Multi-language fieldsLanguage alternate fieldsHow language fields work from the $pages APIGetting and setting language-specific values in the APIMulti-language field valuesLanguage alternate field valuesThis is an old video, but all the concepts still apply in current versions of ProcessWire. Getting startedHow to installTo use multi-language fields or language-alternate fields, you must first install the \"Language Support - Fields\" module, included with ProcessWire 2.2 or newer. To do this, click \"install\" for \"Language Support - Fields\" from the Modules menu.When and where to use language fieldsLanguage fields (whether multi-language or language-alternate) enable your site's template files to deal with just one field name while the value is affected by the current user's language. In fact, your template files don't even need to know about languages. This makes it a relatively simple matter to support languages in existing sites.In order to present your site's content in a different language using language fields, the current user's language has to be set to the one you want the site to display in. This is a simple matter if you are dealing with users that can log-in, because they can set their language from their profile. However, we are assuming you want to use language fields for the purpose of having multi-language versions of your site available to anonymous visitors. There are a large number of approaches you could take. See the numerous examples on this page for how multi-language fields can be used to produce a multi-language website.Multi-language fieldsProcessWire 2.2 includes 3 new fieldtypes that support multiple languages:TextLanguage – single line text fieldTextareaLanguage – multi-line text or rich-text (TinyMCE) fieldPageTitleLanguage – special text field to be used with page titles onlyThese 3 fieldtypes correspond to the standard text fieldtypes already included in ProcessWire: Text, Textarea and PageTitle. When you convert a field to the multi-language version (i.e. convert a Textarea to a TextareaLanguage) the field now has inputs for every installed language in your system. If an input is left blank for any language, then the default language is substituted at runtime.Converting an existing field to multi-languageTo convert an existing field to a multi-language field, it must be a Text, Textarea or PageTitle field. Edit the field settings in Setup > Fields > Your Field. Change the \"Type\" to be: TextLanguage, TextareaLanguage or PageTitleLanguage. Because this change involves adding new columns to the field's database table, it will ask you to confirm the schema change. While this is a safe process, any time something modifies existing database tables, it's a good idea to make sure you have a backup of your database. When ready, confirm the change, and your field will now support all languages installed in the system. Should you want to convert back, repeat the same process but choose the non multi-language fieldtype instead.Please note: when converting to or from a multi-language field, some of your field settings can be lost. For instance, if you are converting a textarea field that uses TinyMCE for input, you will have to reconfigure these settings after converting to or from a multi-language field. Creating a new multi-language fieldTo create a new multi-language field, all you need to do is go to Setup > Fields > Add New. When it asks you to select a field type, choose either TextLanguage or TextareaLanguage.Language-alternate fieldsLanguage-alternate fields allow for the value of one field to replace the value of another when the user's language is something other than the default. Unlike multi-language fields, language-alternate fields are actually separate fields that you create on your own. ProcessWire identifies them based on the name you give them. The name is a combination of an existing field in the system combined with the language name.Creating a language-alternate fieldIf you wanted a Dutch version of your \"body\" field, you would name your new field \"body_dutch\". Meaning, a language alternate field should be named with the original field name, followed by an underscore and the language name.Assuming you have a language installed named \"dutch\" and the current user's language is Dutch, then ProcessWire will return $page->body_dutch when you access $page->body. However, if $page->body_dutch is empty, then it will return $page->body instead.Unlike multi-language fields, language alternate fields can be used with any type of field.How language fields work from the $pages APIWhether using multi-language fields or language-alternate fields, when a user's language is something other than the default, then the value of the field reflects the language-specific value, if it is available. If it is not available, then the default language version is substituted. Likewise, any API calls using selectors that include the field, will match pages that contain the term in either the current user's language, OR the default language.ExampleWe will assume that the current user's language is Dutch and that this is a language installed in the system. We will also assume that the field \"body\" is a multi-language textarea field. Because the user's current language is Dutch, the following API call matches any pages that contain the phrase \"welkom vrienden\" (welcome friends) in the Dutch body field OR the default body field. If there are other languages installed, it does not attempt to search them.$results = $pages->find(\"body*=welkom vrienden\");Lets now change the example and say that \"body\" was not a multi-language field, but it had a language-alternate field called \"body_dutch\". Because the user's current language is Dutch, the results of the above API call would be identical to when we were considering multi-language fields. Meaning, a search in the \"body\" field actually performs a search on \"body_dutch\" and \"body\" at the same time. Should you need to, you can also target just the language-alternate field by specifying it's name in the selector, i.e. \"body_dutch\" rather than \"body\".Getting and setting language values in the APIGetting values is no different from anywhere else in the API except that you'll be getting a value that is specific to the current user's language. As a result, if you wanted to get a value in some other language installed on your system, you would have to switch the current user's language:$language = $user->language; // save the user's language $user->language = $languages->get(\"french\"); // change user to French echo $page->body; // output the French version of body $user->language = $language; // restore the user's languageThe value of a multi-language or language-alternate field is affected by the \"outputFormatting\" setting of a page. On the front-end of your site, outputFormatting is always turned on, unless you've turned it off. In other applications, like in the admin, or at the command line, outputFormatting may be off by default. The example above, and most of the documentation on this page assumes that outputFormatting is on. In cases where outputFormatting is off, the value of our language fields may be different. These differences are outlined below:Multi-language field valuesWhen outputFormatting is ON, the value of a multi-language field is a string (as it shows in most examples on this page). That string reflects the value from the current user's language. If the value is blank in the current user's language, the value from the default language will be there instead.However, when outputFormatting is OFF, the value of a multi-language field (like $page->body) will instead return an object of type LanguagesPageFieldValue, rather than a string. That object contains all of the translations available for the given field. If you access or typecast this object as a string, it will return the same thing as if outputFormatting was on. If you want to get or set the value of this field for another language, you can do the following:$page->of(false); // turn off outputFormatting (if it's not already) $dutch = $languages->get('dutch'); // get the language we want $body = $page->body->getLanguageValue($dutch); // get the unformatted value in DutchThis is very similar to what we did in an earlier example, except that we didn't have to change the current user's language, and we're dealing with a value that has not had any textformatters applied to it (which is exactly what you want if you need to modify and save it).Setting a multi-language field valueWhen you set the value of a multi-language field, it sets the value for the current user's language. So if the current user's language was Dutch, and we set the value of \"body\", it would set it for the Dutch version of body:$page->body = \"welkom vrienden\"; // sets it in DutchIf we change the user's language, and then set it again, it sets it in that user's language:$user->language = $languages->get(\"spanish\"); $page->body = \"Bienvenidos amigos\"; // sets it in SpanishYou can also set the language-specific values without changing the current user's language by using the setLanguageValue() function. This is usually preferable when modifying the contents of multiple languages:$dutch = $languages->get(\"dutch\"); // retrieve Dutch $spanish = $languages->get(\"spanish\"); // retrive Spanish $page->of(false); // outputFormatting must be OFF $page->body->setLanguageValue($dutch, \"Welkom vrienden\"); // set in Dutch $page->body->setLanguageValue($spanish, \"Bienvenidos amigos\"); // set in Spanish $page->save(); // save the page with the new language valuesLanguage-alternate field valuesFor the following description, lets assume we have a field called \"body\" and another called \"body_dutch\", which is the Dutch alternate for body. The value of a language-alternate field is always a string, regardless of whether outputFormatting is on or off. But when outputFormatting is ON (as it is in most API usage), the value of \"body\" will be the value of the alternate field when the user's language justifies it. For instance, if the user's language is Dutch, and the value of $page->body_dutch is populated, then an access to $page->body will actually return the value from $page->body_dutch. But if $page->body_dutch is not populated, then the default, $page->body is returned.When outputFormatting is OFF, the language-alternate fields behave as if they were completely separate, unrelated fields. Meaning, $page->body will always return the value of $page->body (never substituting the value of $page->body_dutch).Regardless of whether outputFormatting is on or off, you can always access the language-specific alternate fields and expect that they will return the value in the language they signify. So regardless of what the current user's language is, $page->body_dutch will always return the Dutch version of body, and $page->body_spanish will always return the Spanish version. It is only $page->body that has it's value substituted with alternate language versions when outputFormatting is on.Setting a language-alternate field valueWhenever you set a language-alternate field value, languages are not a consideration–the fields perform exactly the same as if language support wasn't active. So if you set $page->body, it is always going to set it for the default language. If you set $page->body_dutch, it is always going to set it for Dutch. As a result, the behavior in this aspect is the same regardless of whether outputFormatting is on or off. But you would typically only set values to a page with outputFormatting OFF (assuming you were going to save it), so this distinction may not matter much in actual use. Given that, an example may be redundant, but here is one anyway:$page->of(false); // turn off outputFormatting $page->body = \"Welcome friends\"; // sets it in default language $page->body_dutch = \"Welkom vrienden\"; // sets it in Dutch $page->body_spanish = \"Bienvenidos amigos\"; // sets it in Spanish $page->save(); // save the page",
      "kind": "page"
    },
    {
      "title": "Access control in ProcessWire CMS",
      "url": "https://processwire.com/docs/user-access/",
      "category": "Access Control",
      "file": "docs/user-access.md",
      "summary": "ProcessWire uses a role-based access control system (RBAC). Users are assigned to one or more roles, each role is assigned permissions, and roles are assigned to templates for access control of pages.RolesRoles are a way of grouping multiple users and assigning permissions to that group. They are the connection of both users and…Learn more →PermissionsPermissions represent a granular permission to access something or to perform some action. This page outlines permissions…Learn more →",
      "kind": "page"
    },
    {
      "title": "Roles for ProcessWire access control (RBAC)",
      "url": "https://processwire.com/docs/user-access/roles/",
      "category": "Access Control",
      "file": "docs/user-access/roles.md",
      "summary": "Roles are a way of grouping multiple users and assigning permissions to that group. They are the connection of both users and templates to permissions.Roles and usersDefault rolesCustom rolesChecking if a user has a roleRoles and permissionsAssigning permissions to rolesPermissions with template contextRoles and templatesEnabling template access controlRoles and usersA user can have multiple roles, each with different permissions. Though for simple needs, it's common for a user to just have one non-guest role. However, you may assign as many roles to a user as you need, and the user will gain the access and permissions assigned to all of the roles they belong to.Default rolesProcessWire includes two permanent roles by default, though you may add as many roles as you like. The two roles included with every ProcessWire installation are:guestThe guest role is automatically given to all anonymous site users. You should not give this role any access other than page-view permission.superuserThe superuser role has all-inclusive access to the site without limitation. This role should only be given to the most trusted users that operate the site. Superuser has all permissions regardless of what you assign with the superuser role.Custom rolesYou can also add as many other roles as you want and selectively assign them to specific users. Each role can be assigned a unique set of permissions. Any given user can have multiple roles, and that user will inherit all permissions assigned to each of their roles. All users also inherit permissions assigned to the guest role.Checking if a user has a roleTo check if a user has a specific role from the API side, use the $user->hasRole('roleName') method:if($user->hasRole('editor')) { // user has the editor role, display editor_notes field echo \"<h3>Editor notes</h3>\" . $page->editor_notes; }Roles and permissionsRoles are essentially a group of permissions that can be assigned to users. Users gain all the permissions assigned to all of their roles.In some cases a permission doesn't do much until the role containing the permission is also assigned to a template (the context). A good example of this is the page-edit permission. If it were as simple as giving a role page-edit permission, then they would be able to edit any page anywhere in the site, which is usually not what you want. Instead, a permission like page-edit also requires a context, and templates (as used by pages) are that context. So a user might have a general page-edit permission via a role assigned to them, but they won't be able to actually edit any pages until a template also has that same role selected. This is how you can enable granular access (edit, view, create, add, delete, etc.) to some pages and not others.Assigning permissions to rolesAssigning permissions to roles is as simple as editing the role in your admin at Access > Roles > your_role. Once there, you will see a long list of checkboxes representing the various permissions that you can assign to the role. In some cases (like page-edit permission), clicking a permission reveals numerous other permissions below it. This indicates that such permissions are child permissions of the one you checked, and thus only apply if the role has the parent permission. Though you don't need to think about that, as the role editor adjusts the visibility of permissions according to what is applicable.Permissions with template contextSome permissions also support a template context. Meaning, the permission won't do much until the role having it is also assigned to a template. When this is the case, the role editor will show the permission along with a checkbox list of all templates where the permission can be assigned (which would be all templates that have access control enabled). If you don't see the template you need, you can enable access control for it (see roles and templates).Editing permissions with template context in the role editor is convenient because it enables you to edit all permissions for the role, in the context of those access controlled templates, right on a single screen. You can also edit template/role assignments from the template editor (Setup > Template > your_template > Access), but in this case you are editing access for all roles on one template, rather than all templates on one role. It does not matter which one you use, but which is more convenient will depend on whether you've got more templates or more roles.Roles and templatesRoles are assigned to users, but they are also assigned to templates that have access control enabled. As stated earlier, this is how you limit access (view, edit, create, add, etc.) to certain pages, or groups of pages, in your site. By default, access control is not enabled for a template. When not enabled, pages using the template inherit access from the closest parent page that has access control enabled.Enabling template access controlYou can enable access control for a template from the template editor Access tab (Setup > Templates > your_template > Access). From here you can dictate what roles are allowed to view, edit, create, add new pages, and more. Any role can be assigned for view permission, but only roles that have at least page-edit permission are assignable for edit/add/create access in these template access settings. Once a template has access control enabled, these can also be assigned in the role editor—see the section above on permissions with template context.",
      "kind": "page"
    },
    {
      "title": "Permissions for access control in ProcessWire CMS",
      "url": "https://processwire.com/docs/user-access/permissions/",
      "category": "Access Control",
      "file": "docs/user-access/permissions.md",
      "summary": "Permissions represent a granular permission to access something or to perform some action. This page outlines permissions recognized by the core.Your system may also have permissions beyond those mentioned here. Any given module may install its own permissions, and likewise you may add your own custom permissions. This page only documents permissions commonly used by the core.Permissions overviewWhat are permissions?How do you create a permission?How are permissions used from the API?Default core permissionspage-addpage-createpage-deletepage-editpage-edit-frontpage-listerpage-lockpage-movepage-sortpage-templatepage-viewprofile-editOptional core permissionspage-clonepage-clone-treepage-edit-createdpage-edit-imagespage-edit-trash-createdpage-hidepage-lister-[name]page-publishpage-renameUser admin permissionsuser-adminuser-admin-alluser-admin-[role]Multi-language page edit permissionspage-edit-lang-defaultpage-edit-lang-[name]page-edit-lang-nonelang-editPermissions overviewWhat are permissions?Permissions in ProcessWire are objects of type Permission (a type of Page object). They each represent permission to access something, or to perform some action. Each permission has a name, and most are self describing. For instance, the page-edit permission is the foundation of providing page editing access.Permissions are assigned to Roles, and one or more Roles are assigned to each User. Users gain the permissions assigned to their Roles. In many cases permissions can also have a Page context, which is defined with the template used by the Page (Setup > Templates > [template] > Access [tab]). Meaning, the User may have a permission (like page-edit), but it doesn't become applicable to a particular Page unless enabled for the Template used by that Page.How do you create a permission?ProcessWire comes with several permissions that it recognizes (described on this page), but you can also create your own permissions and name them whatever you would like.Permissions in ProcessWire are pages, and thus can be created like any other pages. But because they are a unique type of page, there is a path you should take to create them. Specifically, in your admin, go to Acess > Permissions > Add New. Enter the name of the permission you want to create in the \"name\" field, and describe the purpose of the permission in the \"title\" field.You can also create permissions from the API:$permission = $permissions->add('permission-name'); $permission->title = 'Description of what this permission does'; $permission->save();After creating a permission, you can easily assign it to any Role from the admin (Access > Roles). In your site or application, you can easily check if the current user has that permission with a single API call, described in the next section.How are permissions used from the API?Whether from the core, a module, or the front-end of your site/application, most permission checking is performed from a single method call on the $user API variable:if($user->hasPermission('permission-name')) { // user has this permission in one of their roles } else { // user does not have this permission }To check if a user has a permission within the context of a particular page, simply add the $page as a second argument to the call:if($user->hasPermission('permission-name', $page)) { // user has this permission, for this $page }A user may have multiple roles. As a result, when providing a $page context like the example above, ProcessWire confirms that the user has that permission in the same role that is defined with the template used by the given $page. Because context is specific to pages, context is primarily applicable to permissions that start with \"page\", like page-edit, page-view, page-create, page-sort, and so on.Default core permissionsThese permissions come pre-installed with every copy of ProcessWire.page-addIndicates whether a user has permission to add child pages to a given parent page. This is a symbolic runtime permission and thus does not exist in your list of permissions, but you may occasionally see reference to it. The permission becomes available only if a role already has page-edit permission, and \"add\" permission is specifically assigned to a role in the template access settings. Since this is a runtime-only permission, you should not attempt to create this permission.page-createIndicates whether a user has permission to create pages of a certain type (template). This is a symbolic runtime permission and thus does not exist in your list of permissions, but you may occasionally see reference to it. The permission becomes available only if a role already has page-edit permission, and \"create\" permission is specifically assigned to a role in the template access settings. Since this is a runtime-only permission, you should not attempt to create this permission.page-deleteEnables a user to remove a page they have edit access to edit. For non-superusers, removing a page implies moving it to the trash. As a result, superusers can recover pages deleted by non-superusers. Also requires page-edit permission.page-editPre-requisite for having the ability to use the admin for listing or editing pages. A user with this permission (via one of their roles) does not actually have edit access to any pages until they also have edit access assigned at the template level (Access tab). You should enable this permission for any roles that you intend to have any kind of editing or admin access.page-edit-frontThis permission is available in ProcessWire 3.0 and newer and is installed by the PageFrontEdit core module. It enables editing of fields you designate on the front-end of your site. Non-superusers must have this permission in order to make edits on the front-end. Such users must also have page-edit permission. When this permission is assigned to a role, users with that role can make front-edit edits to any pages they already have edit access to edit. Alternatively, this permission can instead be assigned to a role on a per-template basis from the Access tab of a template edit screen, enabling you to provide front-end editing for some instances and not others. For more information on how to implement front-end editing, see our documentation on front-end editing.page-listerEnables a user to access the Page Lister. In a default ProcessWire installation, Lister is located at Pages > Find. This permission is also a pre-requisite for other page-lister permissions used by ListerPro.page-lockEnables user to lock or unlock a page. When a page is locked, no edits may be performed on it until the page is first unlocked. A page can be locked or unlocked from the page editor Settings tab > Status field, or directly in the Page List/Lister inline page actions. Also requires page-edit permission.page-moveEnables user to change the parent of a page (if the page template family settings allow it to exist in another parent). Parent can be changed from the page editor Settings tab > Parent field, or from the inline drag-and-drop \"move\" action in Page List. Also requires page-edit permission.page-sortEnables user to change the sort order of child pages, or change the predefined sort order (if defined with the page). Note that this permission should be assigned on the page that has the children you want sortable, rather than on the child pages. Also requires page-edit permission.page-templateEnables user to change the template used by a page. This is performed in the page editor Settings tab > Template field. Also requires page-edit permission.page-viewEnables a user role to view pages. All roles are required to have this permission. View access is instead assigned with each template (Access tab).profile-editEnables a user to edit their profile and change their password. This permission is intended for administrative users, as the profile editor is part of the ProcessWire admin.Optional core permissionsThese permissions are not installed by default, but are recognized by the core and can be installed from Access > Permissions > Add New.page-cloneThis permission is available only if the core ProcessPageClone module is installed. A user with this permission is allowed to clone (duplicate) pages. The clone option appears as a \"copy\" action for each page in the PageList or Lister modules.page-clone-treeThis permission is available only if the core ProcessPageClone module is installed. A user with this permission is allowed to clone (duplicate) a entire tree of pages. Also requires page-clone permission.page-edit-createdWhen combined with page-edit permission, this optional permission limits a user to editing only pages that they created. Unlike other permissions, this permission reduces access by reducing the scope of the page-edit permission. Read more in: Limiting edit access with page-edit-created permission.page-edit-imagesUse the image editor to manipulate (crop, resize, etc.) images. When not installed, the permission is delegated to page-edit permission instead. Meaning, adding this permission just adds another level of granularity so that you can control access to the image editing tools within image fields. page-edit-trash-createdThis optional permission lets a user trash pages that they created, so long as they are still editable to them. If the user already has page-delete permission to a page, then page-edit-trash-created permission is not necessary and does nothing. As a result, this permission is only useful in cases where a user does not have page-delete permission, but you still want them to be able to only trash pages they specifically created. Once a page has been trashed, only the superuser can restore or permanenty delete it. Requires ProcessWire 3.0.31 or newer (or 2.8.31+).page-hideEnables user to hide or un-hide a page. When a page is hidden, it is not visible in front-end navigation and does not appear in $pages->find() API calls unless \"include=hidden\", \"include=unpublished\" or \"include=all\" is specified in the selector. A page can be hidden or un-hidden from the page editor Settings tab > Status field, or directly in the Page List/Lister inline page actions. When this permission is not installed, page-hide permission is inclusive of page-edit permission. Also requires page-edit permission and ProcessWire 2.6.15 or newer. page-lister-[name]Replace \"[name]\" with the name of Lister and this enables you to assign access to that specific Lister. Requires ProcessWire 2.6 or newer, the ListerPro module, and page-lister permission as a pre-requisite.page-publishWhen installed, a user must have this permission in order to publish any content on the site. Without this permission a user may only edit and/or create unpublished pages, where allowed. Use this permission in instances where you want certain user roles to be able to create (or edit) unpublished pages for someone else's approval. User roles without this permission cannot make edits to existing published content or publish new content.page-renameChange the name of published pages the user is allowed to edit.User admin permissionsuser-adminEnables a user to administer all other users in the system (except superusers). Enables access to the Access > Users section of the admin. Also requires page-edit permission. When a ProcessWire 2.6.10+ system also has user-admin-all permission installed, the behavior of this permission is changed. See the following permissions for more details.user-admin-allWhen installed, this permission takes over the behavior of the user-admin permission, reducing the user-admin permission to just being able to edit \"guest\" users. The user-admin-all permission is primarily useful when combined with a user-admin-[role] permission, as described next. Users that you want to have this permission must also have page-edit and user-admin permission. Requires ProcessWire 2.6.10 or newer. See also discussion and examples of user-admin permissions.user-admin-[role]Enables editing of all users with the given [role]. Replace \"[role]\" with the name of the role you want to provide edit access to. Also requires page-edit and user-admin permission. Requires ProcessWire 2.6.10 or newer. See also discussion and examples of user-admin permissions.Multi-language page edit permissionsMulti-language page edit permissions are primarily useful for limiting language access for translator-specific roles. If no multi-language page edit permissions are installed, users with edit access to a given page may edit it in any of the available languages (the default behavior).Multi-language page-edit permissions require page-edit permission, ProcessWire core 2.6.3 or newer, and core modules: LanguageSupport and LanguageSupportFields, plus one or more multi-language fields. For more details, please see: Language Page Edit Permissions.page-edit-lang-defaultEnables access to edit fields on a page in the \"default\" language. This permission is also required to create and/or delete pages, since pages must exist in the default language before they can in other languages. Applicable to a multi-language environment with multi-language fields.More about page-edit-lang-defaultIn ProcessWire, the one required language is \"default\", and this can refer to whatever language you want it to. Because the default language is always named \"default\", the corresponding permission is always named page-edit-lang-default. Though note that this permission is not required, but if using these permissions, there's a good chance you'll want it.As always in a ProcessWire multi-language site, a page must be active in the default language before it can be active in other languages. The default language is the foundation of the page. As a result, a user must have page-edit-lang-default permission if they need to be able to create new pages or delete existing pages (see also page-edit-lang-none permission).If a user just needs to translate existing pages, then they don't need page-edit-lang-default permission, unless they are translating from one language into the default language.page-edit-lang-[name]Provides edit access to fields in a named language. Replace \"[name]\" with the name of the language. Applicable to a multi-language environment with multi-language fields.More about page-edit-lang-[name]Once you add a language page-edit permission to your system, all multi-language fields in that language are locked for edits unless the user has the corresponding page-edit-lang-name permission in one of their roles. Meaning, you'll likely want to update the permissions on your user roles (checking the new permission boxes) after adding language page-edit permissions.If you have a language in your system, but don't have a corresponding page-edit-lang-name permission added, then the language remains editable by everyone that already has edit access to the page and field. As a result, you only need to create page-edit-lang-name permissions for languages that you want to place limits upon… though we'd assume in many cases that would be all languages in your system.page-edit-lang-noneProvides edit access to non-multi-language fields in the page editor. Applicable to a multi-language environment with multi-language fields.More about page-edit-lang-noneWhen present, this permission refers to all non-multi-language fields in the page editor. If you have this permission in your system, and a user does not have it, then their edit access will be limited to multi-language fields only, in the language(s) they have access to.This permission is useful when you want to create user role(s) for the purpose of translating pages in one language to another. The translator need only focus on the fields that need translation. All of the non-multi-language fields are simply not shown in the page editor to users that don't have this permission.If using this permission, be sure to add it to the user roles that DO need edit access to all of the page fields. Otherwise those fields will be invisible to them as well.Also note that when this permission is present in your system, a user must have it in order to create or delete pages (just like with the page-edit-lang-default permission). That's because when a user doesn't have this permission, they don't have access to modify non-multi-language fields like Template and Parent, among others. Chances are, this behavior is exactly what you'd want for a translation-only role.lang-editIn ProcessWire 2.6.23 (2.7) and newer you can add this permission to give users access to the language tools in Setup > Languages. This is largely useful for performing translations of static files like when creating language packs, or when translating phrases in your site template files. If you want to limit access to only a specific language, install the page-edit-lang-[name] permissions as described above, and ProcessWire will also consider these for access to language pages in Setup > Languages.",
      "kind": "page"
    },
    {
      "title": "CMS security / ProcessWire",
      "url": "https://processwire.com/docs/security/",
      "category": "Security",
      "file": "docs/security.md",
      "summary": "Security is our number one priority with ProcessWire. Make it your number one priority too. In this section we attempt to cover some of the more important aspects in maintaining a secure installation.Beyond just using ProcessWire to power your site or application, a big part of maintaining good security involves securing your web server and file system, writing secure code in your template files, installing only the modules/plugins that you need, securing your admin panel, and adhering to security best practices. In this section we attempt to cover some of the more important aspects in maintaining a secure installation.Securing file permissionsGetting your file permissions right is one of the most important factors in maintaining the security of your ProcessWire…Learn more →Securing your adminInformation about the design and purpose of the admin environment and how to protect it. Overview of securing your admin…Learn more →Web hosting securityWhen possible, your production sites running ProcessWire (or any CMS) should ideally be in a dedicated environment. This…Learn more →Migrating to productionUnless the production server is a completely dedicated environment, don't assume that what was safe on your development…Learn more →Remove unnecessary filesProcessWire comes with several files that you will no longer need after installation.Learn more →Database-driven sessionsDatabase-driven sessions offer potentially better security since the session information is not stored on the file system.Learn more →Running ProcessWire alongside other softwareProcessWire will happily run alongside almost any other PHP application, including other CMSs. However, security on your site…Learn more →Third party modulesWe can vouch for the security of the code that we write in the ProcessWire core, but we can't vouch for the security of…Learn more →Template filesWhile ProcessWire handles a lot of the common security considerations before your template files are even loaded, you should also…Learn more →2-factor authenticationTwo factor authentication gives you an extra layer of account security relative to just using a password. ProcessWire comes…Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: file permissions",
      "url": "https://processwire.com/docs/security/file-permissions/",
      "category": "Security",
      "file": "docs/security/file-permissions.md",
      "summary": "Getting your file permissions right is one of the most important factors in maintaining the security of your ProcessWire installation, particularly in non-dedicated/shared environments.Yet it's also one of the most difficult to get right, because there is no single correct answer that applies across all hosting environments. It is most definitely worth taking the time to make sure your file permissions are optimal for your environment.One of the first questions in determining what file permissions should be is whether Apache runs as your user account, or whether it runs as the same user for all accounts (like \"nobody\", \"www\" or \"apache\", for example). This is a question for your web host, as it depends entirely on their server configuration. Though if you want to do it yourself, there are a couple things you can do to make a reasonable determination yourself.Securing writable directories and filesPotential permissions for writable directories and filesPermission 755 for directories and 644 for filesWorst case: 777 for directories and 666 for filesWhere to modify ProcessWire's writable directory/file settingsHow to change permissions of existing filesSecuring your /site/config.php filePotential permissions for /site/config.phpDetermining what user apache runs asShould /site/modules/ be writable?Securing writable directories and filesWhen you install ProcessWire, it performs a check to see if the install.php file is writable. If it is, then there's a good chance (though not a guarantee) that Apache runs as your user account. If it detects this, it will recommend the 755 permission for writable directories and 644 permission for writable files, as a starting point. This translates to directories and files that are writable only to you, but readable to everyone else.If the installer populates 777 and 666 permissions, this translates to directories and files that are readable and writable to everyone, which is not a good scenario in shared environments. But without knowing more about the hosting environment, they may be the only permissions that we know for certain will enable ProcessWire to run. In either case, please read on for more details. In most cases you can further lock down these permissions with a little more information.Potential permissions for writable directories and filesPermissions below are organized in order of most secure to least secure. If Apache runs as you, chances are you can use the most secure permission options. When possible, inquire with your web host as to which permissions are best to use in your environment.Potential permissions for writable directories700 [rwx------] writable by owner, readable by owner (most secure, if it works)750 [rwxr-x---] writable by owner, readable by owner and group755 [rwxr-xr-x] writable by owner, readable by all (details)770 [rwxrwx---] writable by owner and group, readable by owner and group775 [rwxrwxr-x] writable by owner and group, readable by all777 [rwxrwxrwx] writable by all, readable by all (not secure, details)Potential permissions for writable files600 [rw-------] writable by owner, readable by owner (most secure, if it works)640 [rw-r-----] writable by owner, readable by group644 [rw-r--r--] writable by owner, readable by all (details)660 [rw-rw----] writable by owner and group, readable by owner and group664 [rw-rw-r--] writable by owner and group, readable by all666 [rw-rw-rw-] writable by all, readable by all (not secure, details)Is \"writable by group\" safe in a shared hosting environment?It depends who group implies. If group is the same as owner then it's just as safe as without any group permissions, though also not much point to it. But if group is instead the same group that other users on the system belong to, then it's not any safer than \"writable by all\".A common situation in web hosting is for group to be the same group belonged to by Apache (but not by other users), so that one could use a 770 for directories or 660 for files to give write permission to Apache without giving it to other users on the system.There's still a significant danger here though: other users on the system may still be able to create a PHP (or other language) script that runs as Apache, and thereby has all the group permissions that Apache does. In such a case, that user can still gain access to your files, if they are motivated enough and know what they are doing. That's assuming the hosting environment permits it. But last we tested, many still do. For these reasons, it's important to consult with your web host on what are the ideal permissions for your environment. For these same reasons, we recommend hosting in a dedicated environment whenever possible (regardless of CMS).Is \"writable by all\" safe in a dedicated hosting environment?If there aren't other users/accounts on the same server, then potentially yes, for the moment anyway. If there's nobody else on the server to consider, then \"all\" isn't anyone except you and your site. But we still recommend avoiding \"writable by all\" when possible because of what lies in the future. We simply don't know. Perhaps more accounts will be added to the server, perhaps the site will move to another server at some point, or perhaps some other part of the server or will get exploited. If you can avoid \"writable by all\" in your dedicated environment–even if it isn't technically necessary–you are buying some potential insurance for the future… though hopefully insurance that you'll never need.Permission 755 for directories and 644 for filesIf you see the installer identify these permissions (755 and 644), they are a good place to start. Though we recommend you confirm with your host, as well as check if the permissions can be locked down further. For instance your host may recommend 700 for directories and 600 for files, which would make files writable only to you and readable only to you (which is great, if it will work). Or they may recommend 750 and 640 which would make files writable and readable to you, and readable to a group. Alternatively, your host may recommend something entirely different, so take the time to find out what's right for your environment. In the end, if 755 and 644 work for your environment, further potential tweaks could worthwhile but may not be urgent.Worst case: 777 for directories and 666 for filesIf the installer populates permissions 777 for directories and 666 for files that means that it was unable to determine what the writable permissions should be, and 777/666 are the only permissions that we know for certain will work. However, these permissions are a worst-case scenario in terms of security, and you should not consider them unless in a dedicated environment. Those permissions effectively make the files readable and writable to all accounts on the server. That's not necessarily a problem if you are the only account on the server, but potentially a big problem if there are others. Particularly if you are in a shared environment, take the time to consult with your web host on what permissions to use for Apache-writable directories and files.Where to modify ProcessWire's writable directory/file settingsYour /site/config.php file contains two settings that control the writable directory and file settings:// permission for directories created by ProcessWire $config->chmodDir = '0755';// permission for files created by ProcessWire $config->chmodFile = '0644';Note that these permissions should be provided like above, as a string preceded with a 0. In other contexts (like with chmod, or perhaps your FTP client) you typically would omit the leading 0 that you see above.When you change the values of these two $config properties, it only affects directories and files created from that point forward. Any existing directories and files continue to have the existing permissions they already had. As a result, any time you make changes to these settings, you should also perform a recursive change to the permissions of all files in ProcessWire's writable directories. This includes /site/assets/ and everything within it, as well as /site/modules/ and everything in it (if you want to have a writable modules file system). Read the next section for details on how to do this.How to change permissions of existing filesIf you have SSH access to your account, a recursive permission can be performed with chmod. If you have FTP access to your account, most FTP clients support recursive permission changes, but usage will vary. We'll cover use of chmod here, since usage will always be the same. The following examples all assume you are executing chmod from the root installation of your ProcessWire site (the same directory where index.php is located).Change the permission of just one fileReplace /site/config.php with name of file you want to change, and replace 600 with permission you want to use. chmod 600 site/config.phpChange the permission of just one directoryReplace site/assets with the name of the directory you want to change, and replace 755 with the permission you want to use. chmod 755 site/assetsThe above would only change the permission for the site/assets directory, and not any directories within it. To change the permission of the site/assets directory and all directories within it recursively, see below. Change the permission of ALL directories (recursively)Replace site/assets with the name of the starting directory you want to change, and replace 755 with the permission you want to use. find site/assets -type d -exec chmod 755 {} \\;Change the permission of ALL files (recursively)Replace site/assets/ with the name of the directory where files are located, and replace 644 with the permission you want to use. find site/assets/ -type f -exec chmod 644 {} \\;Securing your /site/config.php fileIn a typical ProcessWire installation, your /site/config.php file is the one file that you need to make sure is not readable to any other user on the system (other than yourself and Apache). This file contains your database login and password information (and potentially other confidential information), so it's particularly important to lock this one down.In addition, the /site/config.php file needs to be writable by the installer (so it can record your settings), but it doesn't need to be writable afterwards. So it's a good idea to make adjusting the permissions of this file part of your regular installation process.As with other file permission settings, your /site/config.php permissions are primarily a consideration if you are in a shared (non-dedicated) hosting environment. In a dedicated environment, there aren't other potential users to worry about.While you can consult with your web host on what the best permissions for this file might be, you can also test things out yourself fairly easily. You can experiment with most restrictive permissions to least restrictive, until you find one that works.To change the permissions of this file, use chmod (if connected to your account via SSH) or use the permission settings in your FTP client. Usage will vary by FTP client. If using chmod from SSH, usage is as follows (replace \"400\" with whatever permission you want to apply): chmod 400 site/config.phpPotential permissions for /site/config.phpBelow are potential settings, ordered from most secure to least secure. Find the setting that works with your server, that balances your needs and security the best.How can you tell if the setting works with your server? Simply change the permission and load your site in a web browser. If you get your site, the setting worked. If you get an error message, 404 or nothing at all, the setting didn't work. Thats all there is to it.Recommend settings if you don't need write access: 400 [r--------] readable by owner (most secure, if it works)440 [r--r-----] readable by owner and group (if 400 doesn't work)Recommended settings if you need write access: 600 [rw-------] readable and writable by owner (most secure, if it works)640 [rw-r-----] readable and writable by owner, readable to group660 [rw-rw----] readable and writable by owner and groupNot recommended unless nothing else will work:*444 [r--r--r--] readable by all644 [rw-r--r--] readable by all, writable to owner664 [rw-rw-r--] readable by all, writable to owner and group* Should be okay in a dedicated environment. Determining what user apache runs asThis is a question for your web host, but if you are the DIY type, there's a way to find out yourself. Paste the following into a test.php file on your server and then load it in your browser:<?php echo exec('whoami');If the result is your account name, then Apache is running as you. This means you can most likely use more restricted permissions like 700, 750 or 755 for writable directories and 600, 640 or 644 for writable files.If the result is something else, like \"nobody\" or \"apache\" (or another you don't recognize) then Apache is not running as you, and you'll have to open up write permissions to group (i.e. 770 and 660) or [worst case] everyone (like 777 and 666). But before you even consider using permissions like 777 and 666 in a non-dedicated environment, consult with your web host as they will hopefully have a better recommendation.If you get an error message or nothing, then chances are exec() is not enabled for your server, as a security precaution. If that's the case, use this alternative script:<?php echo file_put_contents(\"test.txt\", \"test\");If you get a positive number number and no error message then Apache is most likely running as you–read item #1 above. If you get the number 0 and/or an error message, Apache is most likely not running as you–read item #2 above.Remember to delete your test.php file (and test.txt file, if applicable).Should /site/modules/ be writable?When you install ProcessWire, if it detects that your file system is writable by default (indicating that Apache is likely running as you), then you may wish to likewise maintain a writable /site/modules/ directory. This enables you to upload, pull, install, update and delete modules from your admin, which is a nice convenience.However, that convenience comes with a compromise. Writable directories with executable PHP files is making a compromise in terms of security. If a superuser account on your system is ever hacked into, you've got problems.If your environment is non-dedicated and you have to supply any \"all\" (or even \"group\") write permissions, then don't have a writable /site/modules/ directory. You are safer just installing modules by FTP in this environment.To reiterate and put it in different terms: if your writable permissions for ProcessWire require any permission higher than 755 for directories or 644 for files, and you are not in a fully dedicated environment, then do not have a writable /site/modules/ directory under any circumstance. Manage your modules with other tools (FTP, SCP, rsync, etc.) in this scenario.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: securing your admin control panel",
      "url": "https://processwire.com/docs/security/admin/",
      "category": "Security",
      "file": "docs/security/admin.md",
      "summary": "Information about the design and purpose of the admin environment and how to protect it. Overview of securing your admin, preventing attacks, SSL certificates, tracking logins, enabling 2FA, managing page edit access and other security best practices.About the admin environmentWho the admin is for and who it is notHiding your admin URLPreventing dictionary attacksInstall an SSL certificate and require https for your adminKeep track of loginsDon't install the “forgot password” module unless you need itChoose strong passwordsInstall 2-factor (or multi-factor) authenticationManaging the security of page edit access in the adminAbout the admin environmentWith some CMS products, the admin environment crosses over with the front-end themed environment, and in fact may even be the same thing. In environments like that, both front-end and admin users might use the same login form and edit their profile settings (email, password, etc.) in the same location, among other things. In such environments, there is a grey area between what is admin and what is not. ProcessWire’s admin is the exact opposite of this, and there is no grey area.ProcessWire completely isolates the front-end from the admin environment with no crossover between the two. It is an administrative tool, exclusively for trusted users. While the front-end is for everyone else. This enables us to lock-down the security of the front-end to a greater extent than might otherwise be possible, while opening up the capabilities and power of the admin environment more than if it were shared with the front-end.Using an isolated admin also promotes greater long term content portability for the site, as content administrators remain focused on long term semantics over short term style. This ensures that when the front-end is redesigned, the underlying content remains semantic enough to work within any design.To reinforce ProcessWire as a trusted-user only environment, a user must have (at minimum) page-edit permission in one of their assigned roles (whether assigned to any templates or not). Otherwise the user will not be able to use the admin environment. The intention here is to prevent developers from utilizing the admin as a front-end environment, ensuring the integrity of the separation between isolated admin and front-end is maintained.Who the admin is for and who it is notIn ProcessWire's fully isolated admin environment, it's important to understand who the admin environment is for and who it is not. The intention behind the admin is to give the user as much power and control as possible for administering and editing the website/application content. Within the admin is the power to make or break the site; an environment for trusted users only.Trusted users are individuals that you trust with the content and operation of your website/application; Users that you trust to use correct terminology and spelling in content; Users that you trust to maintain security best practices and strong, secure passwords that are kept confidential; Users you trust not to deface, compromise, insert/upload offensive or illegal content, or even experiment with doing any of these things. Such trusted users might include your web developers, administrators and highly trusted editors of the site and its content. You should have an understanding and trust that users you assign access to are not there to even experiment with harmful actions to the site. The ProcessWire admin is designed for these trusted users only, and not for any others.Superusers and other users with the ability to edit and/or publish site content should be trusted in the same way you would trust someone to compose an email for you, and in the same way you would trust someone with ftp access to the site. While the access is certainly not the same (no they can't compose your email and they don't have ftp access), the level of trust should be the same. If it is not, then you should maintain a workflow and approval process between the source of the content and the trusted user that posts the content.With an understanding of the power and scope of the admin environment, you'll want to protect it in several ways, which we'll discuss below.Hiding your admin URLThe default ProcessWire admin URL is domain.com/processwire/. If you want to hide the location of your admin URL, you can rename it. You have the option of doing this during the installation process. You can also do it from the ProcessWire admin. Here's how:Login to your ProcessWire admin. In the page tree, click and edit the Admin page.Click the Settings tab and change the Name field to something different. After changing it, save.You will get a 404 error–this is normal, because your admin no longer lives at the previous URL.In your browser address bar, enter your new admin URL and you are good to go.Preventing dictionary attacksYou'll be glad to know that your ProcessWire admin login is secured automatically from dictionary attacks by the Session Login Throttle module, which is installed by default. This module throttles repeated login attempts, preventing the same username from being attempted for login more than once in 5 seconds. Every failed login attempt increases that waiting period exponentially, making rapid-fire dictionary attacks nearly impossible.You can further lock down the settings of this module by configuring it (in Modules > Core > Session > Login Throttle). If your admin doesn't have simultaneous users coming from the same shared IP address, we recommend checking the box to enable throttling by IP address. When checked, not only will attempts for the same username be throttled, but any attempts (regardless of username) will be throttled by IP address as well.The only reason that we don't have this \"throttle by IP\" box checked by default is because some clients have multiple users coming from the same IP address. In that instance, one person forgetting their password could temporarily prevent other people from logging in.Install an SSL certificate and require https for your adminWeb traffic is inherently insecure and everything sent to and from the server is unencrypted. This includes any login information you use to get into your admin, as well as cookies used to maintain your session. By installing an SSL certificate, you drastically reduce the potential for this information to be intercepted over the network by 3rd parties. As a result, installing an SSL certificate is one of the best security upgrades you can make for your site.Once you've got an SSL certificate installed on your server, you need to make sure that it is put to use. At minimum, we recommend locking down your \"admin\" template to only allow https traffic. However, make sure that your site is accessible via https://yourdomain.com before you do this, otherwise you could lock yourself out of the admin.Once confirmed that your site is accessible via https, login to your admin (using the https URL), and do the following:Click \"Setup\" then \"Templates\" (click the Templates label rather than a specific template).Click the \"Filters\" box, then \"Show system templates\", and choose \"Yes\".When the page reloads, you'll have a \"System\" section where you will see an \"admin\" template. Click \"admin\".Click the \"URLs\" tab and scroll to the \"Scheme/Protocol\" section. Click \"HTTPS only\" and Save.Keep track of loginsA good security practice is to keep track of who is using the ProcessWire admin. It can be helpful to keep track of both successful and failed logins, and may serve as an early warning when someone is snooping around. You can access the built-in session log via Setup > Logs > session.If you'd like more information or options than what the default session log includes, take a look at the Login Notifier module by Ryan Cramer or the Login History module by Teppo Koivula.Don't install the “forgot password” module unless you need itProcessWire comes with a module called Process Forgot Password, which can be installed in your admin under Modules > Core > Process > Forgot Password. This can be very handy for many installations. But if it's something that your installation doesn't need, then don't install it.While we've gone to great efforts to ensure our forgot password module is secure (and in fact, more secure than any other we've seen), it still involves emailing the user a time-limited link to reset their password. As you may already know, email is not the safest way to transport confidential information, so limiting what can happen with email [when you can] is worthwhile.It's worth noting that ProcessWire's forgot password function only works if the session that requested the reset is the same session that clicks the email link and performs the reset. That provides an additional layer of security over other password reset functions that we've seen. But if your email account is compromised, then all bets are off: your ProcessWire password then has the potential to be compromised as well. So if your site doesn't absolutely need a forgot password function, then don't install it.Choose strong passwordsThis goes without saying, but regardless of how well your admin URL is hidden, you should make sure you (and any other ProcessWire user accounts) have good passwords that aren't used elsewhere. You can enforce password strength settings from the \"pass\" field settings, editable in the admin from Fields > Show System Fields > Edit (\"pass\" field).Install 2-factor (or multi-factor) authenticationProcessWire supports 2-factor authentication (2FA/TFA/MFA) natively and can be used with applications like Authy, Google Authenticator, Microsoft Authenticator, LastPass and others supporting TOTP (time-based one-time protocol).To start using it, you'll want to install the 1st party TfaTotp module. You may also want to install the TfaEmail module as a 2nd option, which may not be as secure as TOTP, but can be an easier path for some users, and enables you to enforce 2-factor authentication automatically. Other Tfa module options may also be available in the modules directory Tfa page. Once one or more Tfa modules are installed, you can enable them to be used in admin by configuring the ProcessLogin module settings (Modules > Configure > ProcessLogin).See this page for more details on two-factor authentication in ProcessWireManaging the security of page edit access in the adminThe primary purpose of ProcessWire’s admin is to manage the pages of the site or application, along with other resources that support them (templates, fields, modules, etc.).You can control which trusted users can edit which pages, assignable per-role and by-template. When using access control settings to manage page-edit access, you should limit access to edit system pages (which include homepage, 404 page, and everything within the admin page structure) to superusers only; as well as search, sitemap or other types of single-purpose pages you might be using in your site (if you are using them). Superusers can already edit everything, so you can achieve this by simply not assigning any edit access to these system pages at all.Assign edit access to specific content types rather than general purpose onesWhen possible, page edit access should be assigned to templates representing specific content types rather than general purpose ones. For example, if you have a user that you only want to edit your terms-and-conditions page, then make sure that terms-and-conditions page is using its own template (rather than a \"basic-page\") one, so that you can assign edit access to just that page. When your system is using a \"basic-page\" type template (whether named that or not) do not use it for assigning page-edit access control, since it may be used by many general purpose pages. When you need to assign edit access to pages using such template(s), clone the template to a new one, set the page to use it, and assign the necessary edit access to the new template.Do not assign edit permissions on the homepage templateThe home (homepage) template is access controlled already, and other non-access controlled pages below it inherit access settings from it. This is very useful when it comes to view permission (which is required here), so it may be tempting to use it as a quick solution to assign site-wide edit access. But you should avoid this temptation, do not assign roles edit permission to the home template. Why not? First off, if we want to stick to best practices, superuser should be the only role with site-wide edit access. Secondly, edit access assigned at the homepage inherits down through the tree in a way that can be ambiguous. Instead, create roles with specific purposes that can edit specific content types (templates), and assign as many roles as you need to a particular user, consistent with their edit needs. Non-superusers should not be able to directly edit the root (home) page in the site. If you have a user that needs to edit homepage content, the homepage should pull content from other pages using templates that you assign access to separately.Field-level access controlAfter taking the standard template-level access control into account, consider that ProcessWire also supports field-level access control. This can be useful for controlling access to pages where you want the user to be able to edit some parts of it and not others.Balancing complexityBe careful not to over-complicate your access control settings beyond your security needs. ProcessWire will let you create very powerful and complex access control scenarios in your admin, but that doesn't mean that you should. Increasing complexity can also reduce security, as the who/what/where of access control becomes more difficult to keep track of. For this reason, only introduce fine granular access control settings (such as field-level access control) into your installation in cases where you need it, and where it adds additional clarity or simplicity to the overall access control setup. Find the right balance that maximizes security while limiting complexity.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: web hosting",
      "url": "https://processwire.com/docs/security/web-hosting/",
      "category": "Security",
      "file": "docs/security/web-hosting.md",
      "summary": "When possible, your production sites running ProcessWire (or any CMS) should ideally be in a dedicated environment. This doesn't necessarily mean a dedicated server…Rather, it means any environment where the file system is dedicated only to your website(s). Meaning, there aren't other users on the same server that can potentially see (or worse, modify) the files of your account(s) on the same server.This dedicated environment could be a dedicated server, VPS, cloud server, or even shared hosting where accounts are completely jailed from one another. If in doubt, inquire with your web host about whether or not your environment is dedicated and/or completely jailed from other people. Typically, the budget hosting accounts are not dedicated environments, so be careful and choose wisely.When in a dedicated environment, you have less to consider in terms of file security, and this is one of the main reasons why we recommend it. File permissions are not as great of a concern because there is not the possibility of other users on the same server getting into your files, regardless of your file permission settings. That doesn't mean that you can disregard file permissions as a security matter, but a dedicated environment does greatly reduce the odds of having uninvited guests shopping around in your files.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: migrating to production",
      "url": "https://processwire.com/docs/security/migration/",
      "category": "Security",
      "file": "docs/security/migration.md",
      "summary": "Unless the production server is a completely dedicated environment, don't assume that what was safe on your development server will also be safe on the production server.The server configuration and necessary permissions between your development server and production server may be completely different. Take the time to revisit all the pages in this security section (particularly file permissions) with the context specific to your production server. In particular, pay attention to your writable file system permissions for /site/assets/, /site/modules/ and everything in them, as well as your /site/config.php file. You may need to make a recursive change to all files in that directory after migrating to production. For instance, if your production server has Apache running as your account, and your development server didn't, then you should lock down the permissions consistent with what the server supports.Potential permissions for writable files and directoriesHow to change permissions of existing directories and filesSecuring your /site/config.php fileDetermining who Apache runs asYou might also find it worthwhile to install a test copy of ProcessWire on your production server before migrating your site to it. The installer can identify many potential issues ahead of time, saving you the hassle of figuring things out during migration. Remember to delete the test installation afterwards.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: remove unnecessary files",
      "url": "https://processwire.com/docs/security/remove-unnecessary-files/",
      "category": "Security",
      "file": "docs/security/remove-unnecessary-files.md",
      "summary": "ProcessWire comes with several files that you will no longer need after installation.The installer gives you the opportunity to remove these automatically, but if you didn't let it, or if it was unable to for some reason, you should remove them yourself. In either case, double check that these files/directories are removed after installation:/install.php/site-default//site-languages//site-beginner//site-blank//site-classic//site/install/If you have any 3rd party modules installed that are no longer in use, uninstall and erase them from the file system.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: database driven sessions",
      "url": "https://processwire.com/docs/security/sessions/",
      "category": "Security",
      "file": "docs/security/sessions.md",
      "summary": "Database-driven sessions offer potentially better security since the session information is not stored on the file system.ProcessWire comes with the option to use database-driven sessions, but it is not turned on by default. However, in a shared environment, database-driven sessions offer potentially better security since the session information is not stored on the file system.To enable database-driven sessions, login to your admin and go to Modules > Core > Session > Session Handler Database. Click the Install button. Database-driven sessions will be enabled immediately, which means you are immediately logged out. Simply log back in, and your system is now using database-driven sessions.As a bonus, you can now monitor live traffic on your site from Setup > Sessions. If you want the information present on this screen to include IP address and/or user agent, enable these options from the Session Handler Database module configuration screen.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: third party modules",
      "url": "https://processwire.com/docs/security/third-party-modules/",
      "category": "Security",
      "file": "docs/security/third-party-modules.md",
      "summary": "We can vouch for the security of the code that we write in the ProcessWire core, but we can't vouch for the security of third party modules. Follow these guidelines to maximize your security with third party modules.ProcessWire doesn't require any third party modules in order to run and accomplish most tasks, so use care in deciding which third party modules to install.Install only those modules that solve an important need for your site. The fewer 3rd party modules you have installed, the less to keep track of and fewer developers you are dependent upon.Verify that the module is still actively supported by developer in the ProcessWire support boards.Keep third party modules up-to-date (the ProcessWireUpgrade module is a good way to track versions).Uninstall and erase any 3rd party modules that you have installed but are not using.",
      "kind": "page"
    },
    {
      "title": "ProcessWire security: template files",
      "url": "https://processwire.com/docs/security/template-files/",
      "category": "Security",
      "file": "docs/security/template-files.md",
      "summary": "While ProcessWire handles a lot of the common security considerations before your template files are even loaded, you should also follow security best practices within your template files as you would in any other PHP framework.Your ProcessWire installation is only as secure as your template files. ProcessWire template files are PHP files, and anything that is possible in PHP is also possible in your template files.If your template files deal with any kind of user input, they must sanitize and validate any user input. Never send any kind of user input directly to ProcessWire's API methods (other than those provided by $sanitizer) without first sanitizing it, and validating it where appropriate.For example, here is something you don't want to do. This code block is sending the GET variable $text directly to a $pages->find() call, without sanitizing the value or even confirming that it was present:// do not do this $text = $input->get('text'); $items = $pages->find(\"body%=$text\");Here is the same example as above, but with sanitization (for use in a selector string) and confirmation that the value is present before attempting to use it:$text = $sanitizer->selectorValue($input->get('text')); if($text) { $items = $pages->find(\"body%=$text\"); }This is only a single ProcessWire-specific example, but the scope of PHP best practices for handling user input is outside the scope of this document. When in doubt, ask in our forums. If dealing with user input, get familiar with ProcessWire's built-in $sanitizer as well as general PHP data filtering and sanitization and other PHP security best practices, as your project scope and needs dictate.",
      "kind": "page"
    },
    {
      "title": "2-factor authentication",
      "url": "https://processwire.com/docs/security/two-factor-authentication/",
      "category": "Security",
      "file": "docs/security/two-factor-authentication.md",
      "summary": "Two-factor (or multi-factor) authentication gives you an extra layer of account security relative to just using a password. ProcessWire versions 3.0.109 and newer include core support for two-factor authentication.The ProcessWire core provides the API, interface and flow control for the two-factor authentication process. But the actual implementation is handled by modules that extend the Tfa base module class. In this section we'll cover details on two different modules for implementation of two-factor authentication. To begin using two-factor authentication, you'll want to install one of these modules:TfaTotp for TOTP 2-factor authentication (time-based one time protocol)TfaEmail for Email/SMS 2-factor authenticationWhich two-factor authentication module should you use?The addition of any two-factor authentication to your login process is going to be a nice security improvement. The more options you provide, the more likely your users will adopt it. So at this stage, unless you are wanting to stick with a specific standard or application, it makes sense to install multiple two-factor authentication modules.How it worksWhen you install one or more Tfa modules, the ProcessWire core automatically adds a new field to your user template, called tfa_type. This field is editable from the user profile screen, and enables the user to select what two-factor authentication type they want to use:After making a selection, it will ask you to enter your current password for security purposes. Save your profile, and 2-factor authentication is ready to configure. In this case, I've selected the TOTP two-factor authentication:Open an Authenticator application on your phone, tap \"add account\" and it'll ask you to hold your phone up to the QR code so that it can record it and save it. Once it's in the authenticator application, it starts generating new codes for it every 30 seconds. Enter the first code that it generates for you and hit Save. Now your account has two-factor authentication enabled.If you need a backup of your secret/private-key: technically you could copy the \"Secret\" string and store it somewhere securely. Or I suppose you could copy/paste the QR code if you preferred. I'm not saying you should, just saying you can. Keeping copies of these things ultimately makes it more convenient if you lose access to your phone/application, though having copies also makes it less secure.With two-factor authentication now enabled, the next time you login, you'll get the following second-step after completing your username/password login:You'll have about 90 seconds to get it right, as it'll accept the current, previous, or next 30-second codes, to account for any time differences or delays between the server and client. If you can't get the code right in a few tries (not likely), it'll abort and make you re-authenticate with your username and password.To begin using two-factor authentication in ProcessWire, install one of the “Tfa” modules:TOTP 2-factor authentication (TfaTotp)TOTP standards for “Time-based One-Time Password”, which is an algorithm that computes a one-time password. It does this with a…Learn more →Email/SMS 2-factor authentication (TfaEmail)This is a push-based two-factor authentication method, where it sends out an email or SMS message to you with your authentication…Learn more →",
      "kind": "page"
    },
    {
      "title": "Running ProcessWire alongside other software",
      "url": "https://processwire.com/docs/security/other-software/",
      "category": "Security",
      "file": "docs/security/other-software.md",
      "summary": "ProcessWire will happily run alongside almost any other PHP application, including other CMSs. However, security on your site will only be as good as the weakest link.The more applications running on the same account, the greater the potential security issues. This is particularly a concern when running ProcessWire alongside a highly targeted CMS like WordPress, which we will use only here as an example. If your WordPress blog gets hacked, there's a chance your ProcessWire installation will also be compromised since they exist on the same account and file system.You can avoid this potential issue by jailing applications from one another via separate accounts and/or subdomains. Specifically, this means that one account/subdomain does not have write access to the others.As an example, lets say your ProcessWire installation runs at domain.com and your WordPress blog runs at domain.com/blog/. It would be preferable for your blog to live at blog.domain.com, on an account jailed from the ProcessWire installation. That way, when your WordPress blog gets hacked, the damage is limited to the blog and not your entire site.",
      "kind": "page"
    },
    {
      "title": "Multi language support with ProcessWire CMS",
      "url": "https://processwire.com/docs/multi-language-support/",
      "category": "Multi-language",
      "file": "docs/multi-language-support.md",
      "summary": "Multi-language page names (URLs) and multi-language text fields make developing a multilingual site as easy as developing a single language site. ProcessWire's multi-language support includes a full gettext-style translation system, but with the translation tools built into the CMS, and without actually using gettext. You can also install (or create) alternate language packs for the admin side of ProcessWire.Multi-language support is installed with core modules available in the admin: Modules > Language > Language Support. If you just want to install alternate language packs, then all you need is the base Language Support module. If you want to support multi-language fields in your own site, then you should also install the Language Support Fields module. We also recommend installing Language Support Page Names module for multi-language URLs. Code i18nThis page provides detailed documentation on everything you need to know to make your template files or modules translatable…Learn more →Multi-language fieldsHere we look in detail at multi-language fields and language-alternate fields, as well as how to use them. Also includes a video…Learn more →Multi-language URLsMulti-language URLs and page names enable you to maintain different/translated URLs for each page, based on the language. It also…Learn more →Language PacksLanguage packs for use with the ProcessWire admin.Learn more →Multi-Language Support ForumA place to get support and chat about multi-language capabilities in ProcessWire.Learn more →Hreflang tag generatorHreflang tag generator for multi-language websites. Select a language and optionally a country to generate the hreflang tag.Learn more →Creating multi-language modulesIf you are a module developer, you might want to bundle multi-language translations with your module. This page covers all the…Learn more →",
      "kind": "page"
    },
    {
      "title": "PHP Internationalization (i18n) and multi-language tools in ProcessWire CMS",
      "url": "https://processwire.com/docs/multi-language-support/code-i18n/",
      "category": "Multi-language",
      "file": "docs/multi-language-support/code-i18n.md",
      "summary": "This page provides detailed documentation on everything you need to know to make your template files or modules translatable using ProcessWire's translation tools. This will primarily be of interest to those that are wanting to make static text in their own template files or modules translatable using ProcessWire's translation tools. ProcessWire uses a GNU gettext-like system for managing language translation of strings in your code (without actually using gettext).Translatable stringsMarking strings for translationSyntax inside a class vs. syntax outside of a classPlaceholdersPluralsContextComment descriptionsComment notesTranslation rulesTranslation function calls must be on one line and in one pair of quotesThere may only be one translation function call per lineEmpty stringsBest practicesTechnical detailsUsing TextdomainsDemonstration VideoBelow is a brief video demonstrating how simple it is to use ProcessWire's language translation tools in your own templates (switch to 720p and the full screen version to see it better):Translatable stringsIn order to make a string translatable in your template or module code, you just have to wrap the original string in a $this->_() or __() function call:$out = $this->_(\"Live long and prosper\"); // syntax within a class$out = __(\"Live long and prosper!\"); // syntax outside of a classMarking strings for translationThe strings for translation are wrapped in a call to one of a set of special functions. The most commonly used ones are $this->_() and __(). These functions just returns the translation of their argument:echo \"<h2>\" . $this->_('Site Information') . \"</h2>\";Syntax inside a class vs. syntax outside of a classIn ProcessWire, the functions __() and $this->_() are equivalent, but __() will work in all contexts while $this->_() will only work within the context of a class. So why have $this->_() at all? Because it has a speed advantage that can only be realized within the context of a class. As a result, the following rules apply:When your translation needs occur outside of a class–such as in a template file–you must use the __('string') function call.When your translation needs occur within a Processwire class–such as in a plugin module–it is preferable (though not required) to use $this->_('string').The rules above also apply to the other translation functions outlined later in this page.PlaceholdersLets say that you needed to output a string like this:echo \"Created $count pages.\"Perhaps your first thought is to try this:echo __(\"Created $count pages.\");It won't work! Strings for translation are extracted from the ProcessWire PHP files, so people performing translation will see the phrase: Created $count pages… However in ProcessWire, the __() function will be called with an argument like Created 3 pages. and ProcessWire won't find a suitable translation and will return its argument: Created 3 pages… regardless of how many pages there actually were. Meaning, it isn't translated correctly.The solution is to use the printf family of functions. Especially helpful are printf and sprintf. Here is what the right solution to the page count problem will look like:printf(__(\"Created %d pages.\"), $count);Or, if you are building output into a variable (like $out), you'd use sprintf:$out = sprintf(__(\"Created %d pages.\"), $count);Notice that the string for translation is just the template “Created %d pages.”, which is the same both in the source and at run-time.If you have more than one placeholder in a string, it is recommended that you use argument swapping. In this case, single quotes (') are mandatory : double quotes (\") will tell php to interpret the “$s” as the $s variable, which is not what we want.$out = sprintf(__('Your city is %1$s, and your zip code is %2$s.'), $city, $zipcode);Here the zip code is being displayed after the city name. In some languages displaying the zip code and city in opposite order would be more appropriate. Using %s prefix in the above example, allows for such a case. A translation can thereby be written:$out = sprintf(__('Your zip code is %2$s, and your city is %1$s.'), $city, $zipcode);PluralsLet's get back to the 'created pages' example: sprintf(__(\"Created %d pages.\"), $count);. What if we create only 1 page? The output will be: “Created 1 pages.”, which is definitely not correct English, and would certainly be incorrect for many other languages as well.In ProcessWire you can use the _n() or $this->_n() function.$out = sprintf(_n(\"Created %d page.\", \"Created %d pages.\", $count), $count);_n() and $this->_n() accept 3 arguments:singular — the singular form of the stringplural — the plural form of the stringcount — the number of objects, which will determine if the singular or the plural form to be returned (there are languages, which have far more than 2 forms)The return value of the functions is the correct translated form, corresponding to the given count.ContextSometimes one term is used in several contexts and although it is one and the same word in English it has to be translated differently in other languages. For example the word Post can be used both as a verb (Click here to post your comment) and as a noun (Edit this post). In such cases the _x() or $this->_x() function should be used. It is similar to __(), but it has an additional second argument–the context:$label = _x('Comment', 'noun'); // or $this->_x('Comment', 'noun') in a class ... // some other place in the code echo _x('Comment', 'column name');Using this method in both cases we will get the string Comment for the original version, but the translators will see two Comment strings for translation, each in the different contexts.To summarize contexts, you should use the _x() or $this->_x() functions when two or more identical translatable strings will appear in more then one place in the same file.Comment descriptionsDo you think translators will know how to translate a string like: __('g:i:s a')? In this case you can add a clarifying comment in the source code. The comment must begin with // and be on the same line as the translation function call. Here is an example:$date = __('g:i:s a'); // Date string in PHP date() formatIn this way you can write a personal message to the translators, so that they know how to deal with the string. It is also recommended that you use comment descriptions in long translatable strings (i.e. those that are more than a sentence) so that you can summarize what it is for. The translator will be provided with the string to translate either way, so it is always good to use comment descriptions any time you think they might be helpful.Comment notesYou can also use secondary comment descriptions, called \"notes\". These appear as secondary notes below the input field the translator is working with. This is a way to provide additional details that you may want separated from the main comment description. This is also what ProcessWire uses to identify context or plurals to the translators (which it does automatically). Here is an example of how you might use notes:echo __(\"Welcome Guest\"); // Headline for guest user // Keep it short (2-3 words)Translation rulesProcessWire's file translation parser works very much like the gettext parser in that it pulls the strings directly from the PHP files (outside of program execution), rather than identifying them at runtime. This is necessary because it is simply not possible to identify every translatable string at runtime. It would require every scenario to play out at execution (i.e. every error message, every success message, etc. in the same request). Given that, ProcessWire has to be able to identify your translatable strings directly in the PHP source code of your files. The format must be consistent and well-formed, as outlined below. Note that these rules may vary somewhat from those of WordPress and other gettext-implementations.Translation function calls must be on one line and in one pair of quotesA translation function call must exist on a single line and be within a single pair of quotes. Here are examples that will NOT work:$out = __(\"Something \" . \"and something else\"); // bad$out = __(\"Now is the time for all good men \" . // bad \"to come to the aid of their party.\");And here are examples that WILL work:$out = __(\"Something and something else\"); // good$out = __(\"It's time for you \\nto get to the party.\"); // goodNote the \"\\n\" between the words \"you\" and \"to\" above. It is okay to include a PHP carriage return character in your strings like this if you need it. What's not okay is to have an actual line break in your code.To reiterate the above examples: if you have a long string of text that you are sending to a translation function, you need to keep it all on one line. Embrace horizontal scrolling in your code editor. There may only be one translation function call per lineYour translation function calls should be limited to one per line. The parser will not recognize more than one translation call per line so any additional calls after the first will be ignored by the parser. This is to ensure that you can adequately use comment descriptions (as mentioned earlier), as well as to ensure consistent and readable code. Here is an example that will NOT work:$out = __(\"Something\") . \" \" . __(\"and something else\"); // badAnd here are examples that WILL work:$out = __(\"Something\") . \" \" . // good __(\"and something else\");…or…$a = __(\"Something\"); // good $b = __(\"and something else\"); $out = \"$a $b\";Empty stringsDon't try to internationalize an empty string. It doesn't make any sense, because the translators won't see any context.Best practicesWhile ProcessWire doesn't use gettext, it is based on many of the same conventions and what applies for gettext generally applies for translation in ProcessWire. Below is a summary of best practices from the gettext manual and this page.Decent English style—minimize slang and abbreviations.Entire sentences—in most languages word order is different than that in English.Split at paragraphs—merge related sentences, but do not include whole page of text in one string.Use format strings instead of string concatenation: sprintf(__('Replace %s with %s'), $a, $b); is always better than __('Replace ') . $a . __(' with ') . $b;Avoid markup and unusual control characters—do not include tags that surround your text and do not leave URLs for translation, unless they could have version in another language.Do not leave leading or trailing whitespace in a translatable phrase.Keep your translation phrases on 1 line and between 1 pair of quotes.Use only 1 translation function call per line in your source code.Use $this->_('string') in your class files, and __('string') everywhere else.Technical detailsBelow are some additional technical details that may be of interest to some, but are not required reading.Using TextdomainsIf you've worked with gettext before, you may be familiar with the term \"textdomain\", which refers to a group of related translations. Textdomains are used to ensure that only the necessary translations are kept in memory at the same time, and that there aren't namespace collisions of unrelated translations. While ProcessWire does not use gettext, it does use textdomains, though in a little bit different way.In ProcessWire, each PHP file is considered it's own textdomain and the textdomain is nothing more than the filename (including path) from the root of the ProcessWire installation. The textdomain is not loaded by ProcessWire until a function call from a given PHP file requests a translation for a phrase. The textdomain consists of all translation phrases for the current language in one PHP file, and textdomains are internally stored in JSON files by ProcessWire.The developer using translation function calls does not have to think about textdomains, as it is something that ProcessWire figures out behind the scenes. However, if a developer does want to override the textdomain from the curent file for a given translation, they can do so by specifying the PHP filename (including path) as the second argument to a __() call, like this:echo __('Save', '/site/templates/common.php');You will see an example of this in ProcessWire's admin theme in the file /wire/templates-admin/topnav.inc:$title = __($title, '/wire/templates-admin/default.php');We do that in the default admin theme because we want to pull translations from default.php without keeping duplicate copies of translatable phrases in topnav.inc. You can see we're actually using $title rather than a static string in the function call above. We're doing that because we only need the translation capability of the __() function, which ultimately doesn't care if you give it a dynamic or static string. We've setup some predefined translations in default.php that we know are expected, like 'Pages', 'Setup', etc., and that's what is being translated in the above function call.The __() function will also accept an actual object instance as a textdomain as well. It will figure out what file it came from on it's own. So if you know that there is a translatable phrase in the $pages API object that you want to make use of, you can put your phrase in the context of the $pages textdomain (/wire/core/Pages.php) just like this:echo __('Page saved', $pages);Note that the above is a contrived example used for demonstration purposes only, as $pages doesn't actually have any translatable phrases in it.",
      "kind": "page"
    },
    {
      "title": "Multi-language CMS fields in ProcessWire",
      "url": "https://processwire.com/docs/multi-language-support/multi-language-fields/",
      "category": "Multi-language",
      "file": "docs/multi-language-support/multi-language-fields.md",
      "summary": "Here we look in detail at multi-language fields and language-alternate fields, as well as how to use them. Also includes a video overview and examples of how to use language fields to create full multi-language websites.ProcessWire supports the use of multi-language fields and language-alternate fields. A multi-language field is a single field that supports multiple languages, and these are typically text-based fields. Language-alternate fields are separate fields where the value of one can substitute for another, when the user's language justifies it. Below is a short video that demonstrates the use of both.Multi-language fieldsLanguage alternate fieldsHow language fields work from the $pages APIGetting and setting language-specific values in the APIMulti-language field valuesLanguage alternate field valuesThis is an old video, but all the concepts still apply in current versions of ProcessWire. Getting startedHow to installTo use multi-language fields or language-alternate fields, you must first install the \"Language Support - Fields\" module, included with ProcessWire 2.2 or newer. To do this, click \"install\" for \"Language Support - Fields\" from the Modules menu.When and where to use language fieldsLanguage fields (whether multi-language or language-alternate) enable your site's template files to deal with just one field name while the value is affected by the current user's language. In fact, your template files don't even need to know about languages. This makes it a relatively simple matter to support languages in existing sites.In order to present your site's content in a different language using language fields, the current user's language has to be set to the one you want the site to display in. This is a simple matter if you are dealing with users that can log-in, because they can set their language from their profile. However, we are assuming you want to use language fields for the purpose of having multi-language versions of your site available to anonymous visitors. There are a large number of approaches you could take. See the numerous examples on this page for how multi-language fields can be used to produce a multi-language website.Multi-language fieldsProcessWire 2.2 includes 3 new fieldtypes that support multiple languages:TextLanguage – single line text fieldTextareaLanguage – multi-line text or rich-text (TinyMCE) fieldPageTitleLanguage – special text field to be used with page titles onlyThese 3 fieldtypes correspond to the standard text fieldtypes already included in ProcessWire: Text, Textarea and PageTitle. When you convert a field to the multi-language version (i.e. convert a Textarea to a TextareaLanguage) the field now has inputs for every installed language in your system. If an input is left blank for any language, then the default language is substituted at runtime.Converting an existing field to multi-languageTo convert an existing field to a multi-language field, it must be a Text, Textarea or PageTitle field. Edit the field settings in Setup > Fields > Your Field. Change the \"Type\" to be: TextLanguage, TextareaLanguage or PageTitleLanguage. Because this change involves adding new columns to the field's database table, it will ask you to confirm the schema change. While this is a safe process, any time something modifies existing database tables, it's a good idea to make sure you have a backup of your database. When ready, confirm the change, and your field will now support all languages installed in the system. Should you want to convert back, repeat the same process but choose the non multi-language fieldtype instead.Please note: when converting to or from a multi-language field, some of your field settings can be lost. For instance, if you are converting a textarea field that uses TinyMCE for input, you will have to reconfigure these settings after converting to or from a multi-language field. Creating a new multi-language fieldTo create a new multi-language field, all you need to do is go to Setup > Fields > Add New. When it asks you to select a field type, choose either TextLanguage or TextareaLanguage.Language-alternate fieldsLanguage-alternate fields allow for the value of one field to replace the value of another when the user's language is something other than the default. Unlike multi-language fields, language-alternate fields are actually separate fields that you create on your own. ProcessWire identifies them based on the name you give them. The name is a combination of an existing field in the system combined with the language name.Creating a language-alternate fieldIf you wanted a Dutch version of your \"body\" field, you would name your new field \"body_dutch\". Meaning, a language alternate field should be named with the original field name, followed by an underscore and the language name.Assuming you have a language installed named \"dutch\" and the current user's language is Dutch, then ProcessWire will return $page->body_dutch when you access $page->body. However, if $page->body_dutch is empty, then it will return $page->body instead.Unlike multi-language fields, language alternate fields can be used with any type of field.How language fields work from the $pages APIWhether using multi-language fields or language-alternate fields, when a user's language is something other than the default, then the value of the field reflects the language-specific value, if it is available. If it is not available, then the default language version is substituted. Likewise, any API calls using selectors that include the field, will match pages that contain the term in either the current user's language, OR the default language.ExampleWe will assume that the current user's language is Dutch and that this is a language installed in the system. We will also assume that the field \"body\" is a multi-language textarea field. Because the user's current language is Dutch, the following API call matches any pages that contain the phrase \"welkom vrienden\" (welcome friends) in the Dutch body field OR the default body field. If there are other languages installed, it does not attempt to search them.$results = $pages->find(\"body*=welkom vrienden\");Lets now change the example and say that \"body\" was not a multi-language field, but it had a language-alternate field called \"body_dutch\". Because the user's current language is Dutch, the results of the above API call would be identical to when we were considering multi-language fields. Meaning, a search in the \"body\" field actually performs a search on \"body_dutch\" and \"body\" at the same time. Should you need to, you can also target just the language-alternate field by specifying it's name in the selector, i.e. \"body_dutch\" rather than \"body\".Getting and setting language values in the APIGetting values is no different from anywhere else in the API except that you'll be getting a value that is specific to the current user's language. As a result, if you wanted to get a value in some other language installed on your system, you would have to switch the current user's language:$language = $user->language; // save the user's language $user->language = $languages->get(\"french\"); // change user to French echo $page->body; // output the French version of body $user->language = $language; // restore the user's languageThe value of a multi-language or language-alternate field is affected by the \"outputFormatting\" setting of a page. On the front-end of your site, outputFormatting is always turned on, unless you've turned it off. In other applications, like in the admin, or at the command line, outputFormatting may be off by default. The example above, and most of the documentation on this page assumes that outputFormatting is on. In cases where outputFormatting is off, the value of our language fields may be different. These differences are outlined below:Multi-language field valuesWhen outputFormatting is ON, the value of a multi-language field is a string (as it shows in most examples on this page). That string reflects the value from the current user's language. If the value is blank in the current user's language, the value from the default language will be there instead.However, when outputFormatting is OFF, the value of a multi-language field (like $page->body) will instead return an object of type LanguagesPageFieldValue, rather than a string. That object contains all of the translations available for the given field. If you access or typecast this object as a string, it will return the same thing as if outputFormatting was on. If you want to get or set the value of this field for another language, you can do the following:$page->of(false); // turn off outputFormatting (if it's not already) $dutch = $languages->get('dutch'); // get the language we want $body = $page->body->getLanguageValue($dutch); // get the unformatted value in DutchThis is very similar to what we did in an earlier example, except that we didn't have to change the current user's language, and we're dealing with a value that has not had any textformatters applied to it (which is exactly what you want if you need to modify and save it).Setting a multi-language field valueWhen you set the value of a multi-language field, it sets the value for the current user's language. So if the current user's language was Dutch, and we set the value of \"body\", it would set it for the Dutch version of body:$page->body = \"welkom vrienden\"; // sets it in DutchIf we change the user's language, and then set it again, it sets it in that user's language:$user->language = $languages->get(\"spanish\"); $page->body = \"Bienvenidos amigos\"; // sets it in SpanishYou can also set the language-specific values without changing the current user's language by using the setLanguageValue() function. This is usually preferable when modifying the contents of multiple languages:$dutch = $languages->get(\"dutch\"); // retrieve Dutch $spanish = $languages->get(\"spanish\"); // retrive Spanish $page->of(false); // outputFormatting must be OFF $page->body->setLanguageValue($dutch, \"Welkom vrienden\"); // set in Dutch $page->body->setLanguageValue($spanish, \"Bienvenidos amigos\"); // set in Spanish $page->save(); // save the page with the new language valuesLanguage-alternate field valuesFor the following description, lets assume we have a field called \"body\" and another called \"body_dutch\", which is the Dutch alternate for body. The value of a language-alternate field is always a string, regardless of whether outputFormatting is on or off. But when outputFormatting is ON (as it is in most API usage), the value of \"body\" will be the value of the alternate field when the user's language justifies it. For instance, if the user's language is Dutch, and the value of $page->body_dutch is populated, then an access to $page->body will actually return the value from $page->body_dutch. But if $page->body_dutch is not populated, then the default, $page->body is returned.When outputFormatting is OFF, the language-alternate fields behave as if they were completely separate, unrelated fields. Meaning, $page->body will always return the value of $page->body (never substituting the value of $page->body_dutch).Regardless of whether outputFormatting is on or off, you can always access the language-specific alternate fields and expect that they will return the value in the language they signify. So regardless of what the current user's language is, $page->body_dutch will always return the Dutch version of body, and $page->body_spanish will always return the Spanish version. It is only $page->body that has it's value substituted with alternate language versions when outputFormatting is on.Setting a language-alternate field valueWhenever you set a language-alternate field value, languages are not a consideration–the fields perform exactly the same as if language support wasn't active. So if you set $page->body, it is always going to set it for the default language. If you set $page->body_dutch, it is always going to set it for Dutch. As a result, the behavior in this aspect is the same regardless of whether outputFormatting is on or off. But you would typically only set values to a page with outputFormatting OFF (assuming you were going to save it), so this distinction may not matter much in actual use. Given that, an example may be redundant, but here is one anyway:$page->of(false); // turn off outputFormatting $page->body = \"Welcome friends\"; // sets it in default language $page->body_dutch = \"Welkom vrienden\"; // sets it in Dutch $page->body_spanish = \"Bienvenidos amigos\"; // sets it in Spanish $page->save(); // save the page",
      "kind": "page"
    },
    {
      "title": "Multi-language URLs in ProcessWire CMS",
      "url": "https://processwire.com/docs/multi-language-support/multi-language-urls/",
      "category": "Multi-language",
      "file": "docs/multi-language-support/multi-language-urls.md",
      "summary": "Multi-language URLs and page names enable you to maintain different/translated URLs for each page, based on the language. It also lets you produce your site easily, as the language is determined automatically by the URL.ProcessWire takes care of all the work behind the scenes, and everything just works. Combined with multi-language fields, you can have a multi-language website with only a few clicks.OverviewExampleGetting startedGoing furtherImplementing a language switcherAPI additions and enhancementsWorking with pagination and/or URL segmentsImproving the multi-language UILanguage Field TabsQuestions and supportFormBuilder and ProCacheOverviewAs of ProcessWire 2.3.2 and newer (currently the dev branch on GitHub), we recommend installing the Language Support Page Names module, included with ProcessWire's core. This enables you to deliver a single page at different URLs, consistent with the language. Since the module can determine the language from the URL, that also means it can take care of determining and setting the language automatically. The end result is that you can write your site's template files without consideration of getting or setting the language. ProcessWire takes care of all the work behind the scenes, and everything \"just works.\"ExampleTripsite is an excellent example of a large multi-language website (in 5 languages) using ProcessWire with multi-language page names and multi-language fields. For example, these URLs reflect the same page in ProcessWire, but are accessed at different language-specific URLs, and output content specific to the language represented by the URL:English: www.tripsite.com/bike-boat/Spanish: www.tripsite.com/es/bici-barco/We encourage you to browse this site further to see some of the possibilities with multi-language support.Getting startedMulti-language URLs / page names are best paired with multi-language fields. Meaning, we recommend installing both the Language Support Fields and Language Support Page Names modules together. In order to test things out properly, start with at least one multi-language text field (i.e. field of type: TextLanguage, TextareaLanguage or PageTitleLanguage), edit a page using it, and populate it with the same text in multiple languages. This probably goes without saying, but you should also have more than one language installed in your system before proceeding further.Once the Language Support Page Names module is installed, go and edit your homepage and click on the settings tab. For the URL Name, you should see multiple inputs, one for each language. These will represent the starting point of page URLs in each language. We recommend populating these with the same value as your language name (i.e. \"es\" for Spanish, \"de\" for German, \"en\" for English, etc.), though there is no requirement that they match up wit your language names. Some prefer to leave the \"default\" language page name blank, so that the URLs have no language segment at the beginning. Check the Active checkbox next to each language, so that the page is considered viewable in that language.Once you have populated these names for your homepage, save and view the page. Now access the page in your web browser at one of the other language names you populated, like /de/ or /es/. Your translated multi-language fields should reflect the text in the language you expect. Likewise, any static translations (if you are using them) should reflect the proper language as well. The value of $user->language has been set automatically by ProcessWire.That is literally all there is to it. Note that you didn't have to change anything about the code in your site's template files. Just a few clicks and you have a multi-language website.Please note that the URL for the default-language homepage is always your site's root URL, regardless of what you specify in the homepage name. This is intentional, as it's not desirable to have a homepage that produces a 404 or immediately performs a redirect to another URL. If populated, your homepage name for the default language is still applicable for the rest of the pages in your site. Going furtherThe strategy that we used above to specify the page name at the homepage can be applied to any page in your site. But it's also optional from this point forward. You can translate the name of every (or any) page, but you don't have to. If you leave the non-default page names blank, then the default-language value is used instead. However, you will need to have the Active checkbox checked for any pages that you want to be visible in other languages.One of the nice things about multi-language page names is that you don't have to do anything from the template-file side in order to detect or set the language. So there isn't really a lot to say about it until your needs get more specific. Below we try to cover some of the specific needs you may run into when building a multi-language site with multi-language page URLs/names.Implementing a language switcherWhen visiting Tripsite, note that every page has one or more language switchers, enabling the user to view the same page in other languages. Here are a couple of approaches you can use to do the same.First lets say you wanted to generate a list that linked to the page in all other languages it is available in (excluding the current language). Here's what the end result might look like (taken from this page):And here's the code to implement it:// remember what language is set to $savedLanguage = $user->language; foreach($languages as $language) { // if user is already viewing the page in this language, skip it if($language->id == $savedLanguage->id) continue; // if this page isn't viewable (active) for the language, skip it if(!$page->viewable($language)) continue; // set the user's language, so that the $page->url and any other // fields we access from it will be reflective of the $language $user->language = $language; // output a link to this page in the other language echo \"<li><a href='$page->url'>$language->title: $page->title</a></li>\"; } // restore the original language setting $user->language = $savedLanguage;As an alternative, lets say that you wanted a <select> box language switcher that showed the current language while enabling the user to select the page in another. We'll also take this opportunity to demonstrate how you can retrieve the URL of another page using the $page->localUrl($language); function, which is an alternative to saving and changing the $user->language like we did in the previous example. Here is our desired output:And here is the code to produce it:<select onchange='window.location=$(this).val();'><?php foreach($languages as $language) { $selected = ''; // if this page isn't viewable (active) for the language, skip it if(!$page->viewable($language)) continue; // if language is current user's language, make it selected if($user->language->id == $language->id) $selected = \" selected=selected\"; // determine the \"local\" URL for this language $url = $page->localUrl($language); // output the option tag echo \"<option$selected value='$url'>$language->title</option>\"; } ?> </select>Using either one of these strategies, we can easily provide links for the user to switch to viewing the same page in another language.API additions and enhancements that accompany multi-language page namesIn the example above for the language switcher you might have noticed the localUrl($language) function that we used. This is a function that was added by Language Support Page Names, for your convenience. Here is a list of all the functions that are enhanced or added, should you ever find them helpful:$page->viewable($language);This function is always present in ProcessWire, but the Language Support Page Names module enhances it to be language aware. It returns whether the page is viewable by the current user in the given $language.$page->localUrl($language);Given a $language, this returns the URL for $page in that language.$page->localName($language);Given a $language, this returns the name for $page in that language.$page->localPath($language);Given a $language, this returns the path for $page in that language.Of course, these functions work on any Page object, we just use $page as an example.Working with pagination and/or URL segmentsPage numbers (pagination) and URL segments are fully supported by multi-language page names. You don't have to do anything other than you would without multi-language support. Meaning, you can simply enable these features from your template settings, and you are good to go.Multi-language page names does however add one nice feature for pagination: translated pagination URLs. Meaning, you can translate the keyword that signifies the current page number in the URL. Typically it is \"page$n\", where \"$n\" represents the current page number. But you can translate it specific to each language as needed. This is done in the Language Support Page Names module settings screen:Improving the multi-language UILanguage Field TabsYou might appreciate the UI improvements offered by the Language Field Tabs module, which places your multi-language fields in tabs, like shown in the screenshot below:Questions and supportPlease stop by our multi-langage support board in the ProcessWire forums and we'll be glad to help!Can multi-language page URLs be used with Form Builder and/or ProCache?Yes, both FormBuilder and ProCache are designed to work nicely with multi-language page URLs and multi-language support in general. All of your multi-language URLs are cachable by ProCache, except those requiring GET or POST form submissions. When creating multi-language forms with Form Builder, it will display the form in the appropriate language consistent with the language identified by the URL. Both ProCache and Form Builder are great additions to your multi-language site.",
      "kind": "page"
    },
    {
      "title": "Add multi-language translations to your module",
      "url": "https://processwire.com/docs/multi-language-support/multi-language-modules/",
      "category": "Multi-language",
      "file": "docs/multi-language-support/multi-language-modules.md",
      "summary": "To add multi-language translations to your module, you can export a CSV file of translations, give them names that reflect the language and copy them to /languages/ directory in your module’s files. We'll cover the details in 4 steps below.Step 1: Locate and add your module’s PHP files to translateLocate the PHP files you want to translate from your admin: Setup > Languages > language > Site files > Find files to translate. Select the PHP file(s) in your module you want to translate and then submit the form. ProcessWire will generate new empty .json files for the files you selected to translate.Step 2: Translate your module’s files and then export to CSVIf you selected just one file above, it will take you there now. Otherwise, in Setup > Languages > language, click the \"edit\" link for file(s) added for your module. Once on the file translation screen, translate the text into the desired language and save. Near the top of the translation screen is a link to \"Download\" or \"View\" a CSV file of the translations. Click that to save (or view) the CSV file of translations.Step 3: Copy the CSV file(s) to a /languages/ dir in your moduleCopy the CSV file(s) or translations you exported in the previous step into a new /languages/ directory in your module’s files. For instance /site/modules/ProcessHello/languages/ is the one you'll see with the ProcessHello module.While not required, you might consider naming your files with the ISO-639-1 language code. For instance, German would be de.csv, Spanish would be es.csv, Finnish would be fi.csv, etc. Regardless of what name you use, the goal is just simply that the filename should explain what language it is for.A single CSV file can provide translations for multiple PHP files. So if your module happens to have multiple translatable files, you can bundle all the translations into a single CSV file (just copy and paste into one), or if need be, you can have multiple CSV files for each language. Though I prefer to keep it simple with one file per language.Step 4: Tell the user how to install your translationsIn your module’s documentation, instruct the user to install translations from your module’s info/config screen. It’s in the “Module Information” fieldset “Languages” row, where there is an “install translations” link. When new versions of your module update the translations, make note of that in your module's CHANGELOG.md file so that users will know to click the “install translations” again to update the translations.How users can install a module’s translationsThis is best demonstrated with a couple of screenshots. Below is a module’s configuration screen with the “Module Information” fieldset opened:Note the second to last row in the “Module Information” fieldset above where it says “Languages”, followed by a list of languages it contains translations for. When you click the “install translations” link you are taken to this screen:From here you can match the available translations with the languages you have installed on your site. In my case, I was able to match the “es” (Spanish) translation of the module with the Spanish version of the site. Once you click the Submit button, ProcessWire imports the translations and they take effect immediately.See also:Why use CSV for bundled translations?HelloWorld module with multi-language examplesProcessHello module with multi-language examples",
      "kind": "page"
    },
    {
      "title": "More topics",
      "url": "https://processwire.com/docs/more/",
      "category": "More Topics",
      "file": "docs/more.md",
      "summary": "Additional topics on developing with ProcessWire that didn’t fit into one of the categories above.Multi-site supportMultiple-site support implies running multiple web sites at independent domains or subdomains from the same ProcessWire…Learn more →Coding style guideThis PHP style guide represents the coding style preferred for the ProcessWire core.Learn more →Tracy debuggerThe recommended debugging and development tool for ProcessWire with 35+ custom tools designed for effective ProcessWire…Learn more →LazyCronThis core module provides hooks that are automatically executed at various intervals.Learn more →",
      "kind": "page"
    },
    {
      "title": "Multiple site support in ProcessWire CMS",
      "url": "https://processwire.com/docs/more/multi-site-support/",
      "category": "More Topics",
      "file": "docs/more/multi-site-support.md",
      "summary": "The core supports multiple sites running on the same web account and ProcessWire installation, with each site maintaining its own database and /site/ directory. This section outlines how to install multiple sites on the same ProcessWire installation using this method.Multiple-site support implies running multiple web sites at independent domains or subdomains from the same ProcessWire installation and web hosting account.ProcessWire can support multiple site setups using various methods, and you'll find several techniques discussed in the forum. On this page we outline the two most common and recommended methods of supporting multiple sites.The core supports multiple sites running on the same web account and ProcessWire installation, with each site maintaining its own database and /site/ directory (option #1). You can also run multiple sites from the same database by installing one of the Multisite modules (option #2).If using ProcessWire 3.x, you might also be interested in multi-instance support, which is a different topic from this but may have some crossover, depending on your need.Option #1: multiple sites with multiple databasesThis section outlines how to install multiple sites on the same ProcessWire installation, where each site has it's own database and /site/ directory (templates, modules, etc.)AdvantagesSites remain independent from each other and thus highly organized and easy to maintain or move.This method of multi-site support is built into ProcessWire's core and thus doesn't require installation of any other modules.If your sites are different from one another in terms of design and function, then you'll find this approach may be preferable in keeping your site's templates, fields and modules more organized.DisadvantagesSites can't easily share data with each other, since they are running independently from one another.Each site not only has it's own database, but it's own template files and 3rd party modules–this is an advantage or a distadvantage, depending on your needs.If you need to maintain the same user accounts across all the sites, you'd have to maintain them individually on each.How to installPoint another domain or subdomain to your current ProcessWire installation. When you access that domain or subdomain, it should load your existing ProcessWire site.1. Create a subdirectory off of your web root called /tmp/ (or another name if you prefer). We will temporarily install a separate copy of ProcesWire there. So download and install a new copy of ProcessWire in that /tmp/ directory (run the installer by loading the /tmp/ URL in your web browser) . When it asks for database settings, make sure you are installing to a separate database than the one used by your main site. There is also an alternate version of step 1 further down, if you want to instead use a site that already exists. 2. Once installation has completed, move or rename the /tmp/site/ directory to a /site-name/ directory in your main ProcessWire installation. You may name the directory whatever you want, so long as it starts with \"site-\", i.e. \"site-name\", \"site-something\" or \"site-cats\"… whatever you want. Just don't call it /site/, as that is already there for your main site.3. You may now delete the /tmp/ directory where you installed the other copy of ProcessWire–it is no longer needed.4. Now you should just be left with your main site, but with the new /site-something/ directory. Copy or move the file /wire/index.config.php to /index.config.php (moving it into your web root).5. Now edit that file with a text editor: /index.config.php. You will see instructions embedded in the file, follow them. To summarize those instructions, you will be telling ProcessWire to look for requests for your other domain or subdomain, and use the site installed at /site-something/ instead. Save.6. Now access your alternate domain or subdomain in the browser. It should now be functional. To edit template files for this site, edit the files in /site-something/templates/. To edit pages for that site, login at the site's /processwire/ URL (at the newly added domain/subdomain).Step 1 AlternateYou don't necessarily have to install a new copy of ProcessWire for step 1. If you have an existing site that you want to install instead, all you need is its /site/ directory and database. Using PhpMyAdmin or another tool, export the database from that site, create the new database, and import the data you exported. Then take the /site/ directory from your new site that you want to install and copy it to a /site-something/ directory where you want to install it (which is your ProcessWire installation where you want to support multiple sites). Once you've done that, edit the /site-something/config.php file and note the database information at the bottom. Edit it to be consistent with the database you created and imported.Option #2: multiple sites from the same databaseThis option requires installation of the 3rd party Multisite module by Antti Peisa, or the newer 3rd party Multisite module by Soma. These modules may not be in active development at present, but are still applicable and useful starting points if you are interested in implementing this kind of multi-site support.AdvantagesAll the individual sites or domains are running from the same database and thus can talk to each other. One site can pull data from another.The sites can share the same templates, template files, fields and modules (an advantage or a disadvantage, depending on your needs).All the user accounts are the same along the various sites. If you have the same team administering the individual sites, then this would be a major benefit.Unlike option #1, you can and should re-use templates and fields where appropriate. If your multiple sites are similar in design and function, you may find this approach preferable to option #1.DisadvantagesYour ProcessWire API usage must be coded in recognition of the multi-site environment, and thus one couldn't as easily move them out of this context as they could with option #1.Requires installation of a 3rd party module, so you may have to be more careful in ensuring everything works through upgrades and such.What is an advantage to this approach (sharing data) may be a disadvantage in keeping things organized long term. However, that can be easily solved with a little bit of discipline on your part in keeping things organized.If your sites are not sharing the same templates to a large extent, you will have a lot more to keep track of [administratively] than if you kept them independent like in option #1. When you view your templates, fields and modules in the admin, you'll be viewing them for all the sites at once.How to installInstallation instructions and support can be found on the Multisite forum thread.",
      "kind": "page"
    },
    {
      "title": "ProcessWire PHP Coding Style Guide v1.0",
      "url": "https://processwire.com/docs/more/coding-style-guide/",
      "category": "More Topics",
      "file": "docs/more/coding-style-guide.md",
      "summary": "This PHP style guide represents the coding style preferred for the ProcessWire core.It is also recommended (though certainly not required) for 3rd party modules and other code using the ProcessWire API, unless an existing coding standard is already in place or preferred. Use of this coding standard is however requested for code submissions (pull requests) to the ProcessWire core.The ProcessWire coding style guide is based on PSR-1 and PSR-2 (with many sections copied directly from them), but with several important differences and additions. Read more in our Introduction to the ProcessWire Coding Style Guide.Table of Contents1. Overview1.1. Summary1.2. Example2. General2.1. Files2.2. Lines2.3. Indentation, Tabs, Spaces2.4. Keywords and True/False/Null3. Namespaces3.1. Using Namespaces4. Classes, Properties, and Methods4.1. Class and Interface Declarations4.2. Constants4.3. Extends and Implements4.4. Properties4.5. Properties and magic methods4.6. Methods4.7. Method Arguments4.8. Hookable Methods and Arguments (ProcessWire only)4.9. abstract, final, and static4.10. Method and Function Calls5. Control Structures5.1. if, elseif, else5.2. switch, case5.3. while, do while5.4. for4.5. foreach4.6. try, catch6. Closures6.1. Using Closures7. Operators7.1. Operators and spacing7.2. Operators in ProcessWire Selector Strings8. Strings and Quotes8.1. Single vs. Double Quotes8.2. Variables in strings8.4. Multi-language Translatable Strings9. Using ProcessWire API Variables9.1. Accessing API Variables9.2. Creating API Variables10. ProcessWire 3.x10.1. Dependency Injection10.2. ProcessWire 3.x Namespace11. Other11.1. Procedural functions11.2. define()11.3. PHPDoc Style RecommendationsThe key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119.1. Overview1.1. Summary*An asterisk is appended to lines that vary significantly from the PSR style guides.Files MUST use only <?php and <?= tags.Files MUST use only UTF-8 without BOM for PHP code.Class names MUST be declared in StudlyCaps.Class constants SHOULD be declared in camelCase.*Method names MUST be declared in camelCase.Code MUST use tabs for indenting, not spaces.*Code MUST use syntax compatible with PHP 5.3.8 or newer.* (PW core only)There MUST NOT be a hard limit on line length and it is RECOMMENDED that line length not exceed 120 characters except in some circumstances (see Lines).*Opening braces for classes MUST go on the same line, and closing braces MUST go on the next line after the body.*Opening braces for methods MUST go on the same line, and closing braces MUST go on the next line after the body.*Visibility MUST be declared on all properties and methods.Control structure keywords, method/function calls, and method/function declarations MUST NOT have one space after them.*Opening braces for control structures MUST go on the same line, and closing braces MUST go on the next line after the body.Opening parentheses for control structures MUST NOT have a space after them, and closing parentheses for control structures MUST NOT have a space before.Use PHPDoc for describing classes, methods, properties, arguments, return values, hookable methods, or anything else beneficial to documentation or IDEs.*Make string constants translatable for multi-language support.*1.2. ExampleThis example encompasses some of the rules below as a quick overview:<?php /** * Class Sample * * Description of what the class does. * * @method int hookableMethod($a, $b) * */ class Sample extends WireData implements Module { /** * Description of sampleConstant * */ const sampleConstant = 1; /** * Description of sampleProperty * * @var bool * */ protected $sampleProperty = true; /** * Description of sampleFunction * * @param int $a Description of a * @param int|null $b Description of b * */ public function sampleFunction($a, $b = null) { if($a === $b) { bar(); } else if($a > $b) { $foo->bar($arg1); } else { BazClass::bar($arg2, $arg3); } } /** * Description of hookableMethod * * @param int $a Description of a * @param int $b Description of b * @return string Description of return value * */ public function ___hookableMethod($a, $b) { $result = $a + $b; return sprintf($this->_('The result is %s'), $result); } }2. General2.1. FilesAll PHP files MUST use the Unix LF (linefeed) line ending.PHP code MUST use the long <?php ?> tags or the short-echo <?= ?> tags; it MUST NOT use the other tag variations.PHP code MUST use only UTF-8 without BOM.The closing ?> tag MUST be omitted from files containing only PHP, and the opening <?php tag MUST NOT be preceded by any whitespace.2.2. LinesThere MUST NOT be a hard limit on line length.A maximum line length of 120 characters is RECOMMENDED, except for lines containing translatable phrases where the length should be dictated by the phrase. Line length SHOULD NOT exceed 145 characters unless it is for a translatable phrase or PHP comment. Lines of PHP code longer than that SHOULD be split into multiple subsequent lines of no more than 120 characters each.Blank lines SHOULD be added where appropriate to improve readability and to indicate related blocks of code.There SHOULD NOT be more than one statement per line.2.3. Indentation, Tabs, SpacesCode MUST use tabs for indenting, not spaces.Additional whitespace MAY be used between or at the end of lines (whitespace is disregarded in diffs).For conversion purposes: when spaces are present instead of tabs, each group of 4-consecutive spaces at the beginning of a line will be assumed to be a tab, for spaces-to-tabs conversion.2.4. Keywords and True/False/NullPHP keywords MUST be in lower case.The PHP constants true, false, and null SHOULD be in lower case.3. Namespaces3.1. Using NamespacesWhen namespaces are used (like with ProcessWire 3.x), the following are RECOMMENDED:The namespace declaration be placed on the same line as the opening <?php tag, or on the first line after.There is one blank line after the namespace declaration.When present, use declarations go after the namespace declaration, with one use keyword per declaration, and a blank line after the block of use declarations.For example:<?php namespace SampleNamespace; use FooClass; use BarClass as Bar; use OtherVendor\\OtherPackage\\BazClass; // ... additional PHP code ...4. Classes, Properties, and Methods4.1. Class and Interface DeclarationsClass and interface names MUST be declared in StudlyCaps.Classes and interfaces SHOULD be documented with PHPDoc./** * Class SampleClass * * Description of SampleClass * */ class SampleClass { // ... }4.2. ConstantsClass constants in the ProcessWire core SHOULD be declared in camelCase.Class constants outside of the ProcessWire core MAY be declared in camelCase or UPPER_CASE, but MUST be consistent in a given class.Class constants SHOULD be documented with PHPDoc.class Foo { /** * Current version number * */ const version = '1.0'; /** * Default approval date * */ const dateApproved = '2012-06-01'; }4.3. Extends and ImplementsThe extends and implements keywords MUST be declared on the same line as the class name.class ClassName extends ParentClass implements SomeInterface { // constants, properties, methods }Lists of implements MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list MUST be on the next line, and there MUST be only one interface per line.class ClassName extends ParentClass implements InterfaceA, InterfaceB, InterfaceC {4.4. PropertiesProperty names SHOULD be declared in camelCase.Properties SHOULD be documented with PHPDoc @var keywords. There SHOULD NOT be blank lines between the PHPDoc and property declaration.Visibility MUST be declared on all properties (i.e. protected, private).Visibility SHOULD be declared protected if a property has potential value to direct manipulation or access by descending classes. Otherwise it should be declared private. When in doubt, use protected.It is RECOMMENDED that visibility not be declared public unless absolutely necessary.The var keyword MUST NOT be used to declare a property.There MUST NOT be more than one property declared per statement.Properties SHOULD be declared with a default value when possible.class ClassName { /** * Description of foo * * @var int|null * */ protected $foo = null; }4.5. Properties and magic methodsThis refers to class properties that are pulled from the __get($key) magic method, or set by the __set($key, $value) magic method. For example, properties in a WireData class in ProcessWire.When possible, these properties SHOULD be documented with PHPDoc in the class declaration. Use @property for read/write properties, @property-read for read-only properties, and @property-write for write-only properties./** * Class SampleClass * * Description of SampleClass * * @property int $propertyA Description of read/write propertyA * @property-read bool $propertyB Description of read-only propertyB * @property-write string $propertyC Description of write-only propertyC * */ class SampleClass { // ... }4.6. MethodsMethod names MUST be declared in camelCase.Visibility MUST be declared on all methods.Methods SHOULD be documented with PHPDoc. There SHOULD NOT be blank lines between the PHPDoc and the method declaration.Method declarations MUST have at least one blank line separating them from other method, property or constant declarations in a class. If the method is documented with PHPDoc, this applies to the PHPDoc that accompanies the method rather than the method itself.Method names MUST NOT be declared with a space after the method name. The opening brace MUST go on the same line with a space between the closing parenthesis and the opening brace. The closing brace MUST go on the next line following the body. There MUST NOT be a space after the opening parenthesis, and there MUST NOT be a space before the closing parenthesis./** * Description of fooBarBaz * * @param int $arg1 Description of arg1 * @param int $arg2 Description of arg2 * */ public function fooBarBaz($arg1, $arg2) { // method body }4.7. Method ArgumentsIn the argument list, there MUST NOT be a space before each comma, and there MUST be one space after each comma.Method arguments with default values MUST go at the end of the argument list.public function foo($arg1, &$arg2, $arg3 = true) { // method body }Argument lists MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list MUST be on the next line, and there MUST be only one argument per line.When the argument list is split across multiple lines, the closing parenthesis and opening brace SHOULD be placed together on the last argument line, and the method body SHOULD begin with a blank line.public function aVeryLongMethodName( ClassTypeHint $arg1, &$arg2, array $arg3 = array()) { // method body }4.8. Hookable Methods and Arguments (ProcessWire only)Hookable methods MUST be declared in a class that descends from Wire or any class that implements the WireHookable interface (this includes almost all ProcessWire classes).Hookable method names MUST be declared with 3-leading underscores \"___\".Hookable methods MUST use either public or protected visibility.Hookable methods MUST NOT force arguments to be passed by reference (i.e. avoid &$arg2).Hookable methods SHOULD be documented with PHPDoc accompanying the method, as well as a PHPDoc @method statement in the class PHPDoc that documents the hookable method call, without the three leading underscores./** * Class SampleClass * * Description of SampleClass * * @method int fooBarBaz(int $arg1, int $arg2) Add two integers * */ class SampleClass extends Wire { /** * Description of fooBarBaz * * @param int $arg1 Description of arg1 * @param int $arg2 Description of arg2 * @return int * */ public function ___fooBarBaz($arg1, $arg2) { return $arg1 + $arg2; } }4.9. abstract, final, and staticWhen present, the abstract and final declarations SHOULD precede the visibility declaration.When present, the static declaration SHOULD come after the visibility declaration.abstract class ClassName { protected static $foo = null; abstract protected function zim(); final public static function bar() { // method body } }4.10. Method and Function CallsWhen making a method or function call, there MUST NOT be a space between the method or function name and the opening parenthesis, there MUST NOT be a space after the opening parenthesis, and there MUST NOT be a space before the closing parenthesis. In the argument list, there MUST NOT be a space before each comma, and there MUST be one space after each comma.bar(); $foo->bar($arg1); Foo::bar($arg2, $arg3);Argument lists MAY be split across multiple lines, where each subsequent line is indented once. When doing so, the first item in the list MUST be on the next line, and there MUST be only one argument per line.$foo->bar( $longArgument, $longerArgument, $muchLongerArgument );5. Control StructuresThe general style rules for control structures are as follows:There MUST NOT be whitespace after the control structure keywordThere MUST NOT be a space after the opening parenthesisThere MUST NOT be a space before the closing parenthesisThere MUST be one space between the closing parenthesis and the opening braceThe structure body MUST be indented onceThe closing brace MUST be on the next line after the bodyThe body of each structure SHOULD be enclosed by braces. The braces MAY be omitted if the structure exists on a single line of 80 characters or less.5.1. if, elseif, elseAn if structure looks like the following. Note the placement of parentheses, spaces, and braces.if($expr1) { // if body } else if($expr2) { // else if body } else { // else body }The keywords else if SHOULD be used instead of elseif so that all control keywords are as readable as possible and remain in consistent English.5.2. switch, caseA switch structure looks like the following. Note the placement of parentheses, spaces, and braces. The case statement MUST be indented once from switch, and the break keyword (or other terminating keyword) MUST be indented at the same level as the case body. There SHOULD be a comment such as // no break intentional when fall-through is intentional in a non-empty case body.switch($expr) { case 0: echo 'First case, with a break'; break; case 1: echo 'Second case, which falls through'; // no break intentional case 2: case 3: case 4: echo 'Third case, return instead of break'; return; default: echo 'Default case'; break; }5.3. while, do whileA while statement looks like the following. Note the placement of parentheses, spaces, and braces.while($expr) { // structure body }Similarly, a do while statement looks like the following. Note the placement of parentheses, spaces, and braces.do { // structure body } while($expr);5.4. forA for statement looks like the following. Note the placement of parentheses, spaces, and braces.for($i = 0; $i < 10; $i++) { // for body }4.5. foreachA foreach statement looks like the following. Note the placement of parentheses, spaces, and braces.foreach($iterable as $key => $value) { // foreach body }4.6. try, catchA try catch block looks like the following. Note the placement of parentheses, spaces, and braces.try { // try body } catch(FirstExceptionType $e) { // catch body } catch(OtherExceptionType $e) { // catch body }6. Closures6.1. Using ClosuresClosures MUST follow the same rules as defined above for method and function declarations. When use is present, it MUST be preceded by a single space and SHOULD NOT have whitespace after it.// closure with arguments $foo = function($arg1, $arg2) { // body }; // closure with arguments and use vars $bar = function($arg1, $arg2) use($var1, $var2) { // body }; // closure in argument list $foo->bar($arg1, function($arg2) use($var1) { // body }); // closure in multi-line argument list $foo->bar( $arg1, function($arg2) use($var1) { // body }, $arg3 );7. Operators7.1. Operators and spacingPHP comparison, arithmetic, string concatenation and ternary operators SHOULD have a single space before and after them:$a == $b; // do this $a==$b; // not this $a + $b; // do this $a+b; // not this $a += $b; // do this $a+=$b; // not this $a . $b; // do this $a.$b; // not this $a ? $a : $b; // do this $a?$a:$b; // not thisPHP logical operators MAY have a single space before them but MUST NOT have a space after them:$a && !$b; // do this $a && ! $b; // not thisIncrement and decrement operators MUST NOT have space between them and the value that they affect:$a++; // do this $a ++; // not this7.2. Operators in ProcessWire Selector StringsOperators in ProcessWire selector strings MUST NOT have whitespace before or after them. This is not just a matter of style, but a requirement of statements in selector strings. We mention it here to call attention to the difference between operators usage in selector strings and operators in PHP code.Do this: name=some_page, qty>10Not this: name = some_page, qty > 108. Strings and Quotes8.1. Single vs. Double QuotesFor strings, it is RECOMMENDED that you use double \"quotes\" if the string value may have (or may ever have) a PHP variable inserted into it. PHP variables are resolved in double quoted strings, but not in single quoted strings.Otherwise it is RECOMMENDED that you use whatever quote style reduces or prevents the need to escape characters within the string. For example, use double \"quotes\" if your string contains an apostrophe like \"it's\", or use single 'quotes' if your string contains embedded double quotes like 'click \"submit\" to continue'.When outputting strings with HTML markup, it is RECOMMENDED that you use double quotes for the string, and single quotes for HTML attribute values within the string. For example:$q = htmlentities($searchValue, ENT_QUOTES, 'UTF-8'); echo \"<input type='search' name='q' placeholder='Search' value='$q'>\";8.2. Variables in stringsIt is RECOMMENDED that you use variables embedded in strings, when possible, rather than concatenating multiple strings. Double quotes must be used to embed variables in strings.echo \"Welcome $firstName $lastName!\"; // do this echo \"Welcome \" . $firstName . \" \" . $lastName . \"!\"; // not thisIf the embedded variable is an object property, of an object property, then you MUST surround the variable access in {brackets}. Likewise, if the variable is adjacent to text in the string that might be confused with the variable name, it must also be surrounded in {brackets}. These are PHP requirements, not stylistic.// brackets required echo \"Welcome {$user->info->fullName}!\"; // brackets NOT required echo \"You have logged in $user->logins times.\"; // brackets required echo \"<input name='{$id}_sort'>\";For the cases where it's not required to use {brackets} it is RECOMMENDED that you don't use them, unless they aid readability in a specific case.8.4. Multi-language Translatable StringsIn order for a string to be translatable by ProcessWire's language translation parser, it MUST be wrapped in a $this->_('phrase') method or __('phrase') function call.There MUST NOT be more than one translatable phrase per line.Line length MAY exceed the 120 character recommended length as needed in order to avoid splitting phrases.Translatable strings MUST be a single string that starts and ends with the same quote. They MUST NOT contain any concatenation, expressions, function calls or variable insertions.Translatable phrases within a non-static method of a Wire derived class MUST use $this->_('phrase') Outside of that context, translatable phrases MUST use __('phrase').$this->_x('phrase', 'context') or _x('phrase', 'context') SHOULD be used when the phrase might duplicate another in the same file, with a different context.$this->_n('singular', 'plural', $number) or _n('singular', 'plural', $number) SHOULD be used when translating a phrase that may have different singular and plural translations depending on the value of $number.PHP variables MUST NOT be directly inserted into translation strings, as variable values that change cannot be directly translated. However, variables MAY be inserted by using placeholder strings in combination with the PHP sprintf function.echo sprintf(__('Thank you for visiting %s'), $user->fullname); // do this echo __(\"Thank you for visiting $user->fullname\"); // not this!Considering the above, it is RECOMMENDED that you use single 'quotes' when possible for translation strings, as it serves as a good reminder that variables may not be inserted in translation strings. However, you MAY use either quote style, so long as you remember variables should not be inserted in double quoted translatable strings.Additional comments to the person performing translation of phrases MAY be provided by appending a PHP // comment to the end of the line that the phrase exists on. For example:echo __('Thank you for visiting'); // Thank you message shown at logout9. Using ProcessWire API Variables9.1. Accessing API VariablesYou SHOULD access ProcessWire API variables via $this->wire('var') within Wire derived classes. You MAY also use $this->var when supported by the class. When in doubt, use $this->wire('var').You SHOULD access ProcessWire API variables via wire('var') outside of Wire derived classes. You MAY also use $var when API variables are locally scoped (as in template files, outside of function or class declarations).Within hook functions that are procedural functions or closures, you SHOULD access API variables from the given HookEvent argument. For example:$wire->addHookAfter('Pages::saved', function(HookEvent $event) { $user = $event->user; // access current user API variable (or any other) // ... });9.2. Creating API VariablesWithin a Wire-derived class, you MUST create a new ProcessWire API variable by calling:$this->wire('varName', $varValue);Outside of a Wire-derived class, you MUST create a new ProcessWire API variable by calling:$wire->wire('varName', $varValue); // if $wire is in scope wire()-wire('varName', $varValue); // if $wire is not in scopeYou MUST NOT overwrite existing API variables (many will throw exceptions if you attempt to).10. ProcessWire 3.x10.1. Dependency InjectionAll newly-created objects that are derived from Wire SHOULD have their dependencies injected. In order to do this, pass the new object through the wire() method.$item = $this->wire(new SampleClass()); // do this $item = new SampleClass(); // not thisWithin template files (outside of Wire-derived class scope) you may use the $wire API variable to perform the same thing:$item = $wire->wire(new SampleClass());Any objects returned from ProcessWire API functions/methods will already have their dependencies injected. You only need to inject dependencies to objects that you are creating yourself with new ClassName().10.2. ProcessWire 3.x NamespaceFor new projects in ProcessWire 3.x, it is RECOMMENDED that you use the ProcessWire namespace, or declare your own. To use the ProcessWire namespace, the following MUST be placed at the top of your PHP file:<?php namespace ProcessWire;To declare your own namespace, replace ProcessWire above with the path/name of your namespace. However, unless you have a reason to use a separate namespace it is RECOMMENDED that you use the ProcessWire namespace for simplicity.Please note that if you do not declare a namespace in your PHP file (reverting to the root namespace), ProcessWire may maintain a separate compiled copy of the file in order to ensure compatibility with 3.x.11. Other11.1. Procedural functionsProcedural functions SHOULD follow the same syntax and documentation rules as class methods.11.2. define()PHP define() statements SHOULD use UPPERCASE rather than camelCase. Words should be split by underscores. For example:define(\"SAMPLE_DEFINE\", \"This is a sample define\");11.3. PHPDoc Style RecommendationsThere SHOULD NOT be blank lines between the PHPDoc comment and the method or variable it describes.There SHOULD be at least one blank line between the PHPDoc description and any @ keywords.There SHOULD NOT be any blank lines between @ keyword lines (they should stay together as a group).There SHOULD be at least one blank line between the @ keywords and the closing comment./** * Description of method * * @param int $arg1 * @param int $arg2 * */ public function someMethod($arg1, $arg2) { // method body }",
      "kind": "page"
    },
    {
      "title": "ProcessWire CRON module (LazyCron)",
      "url": "https://processwire.com/docs/more/lazy-cron/",
      "category": "More Topics",
      "file": "docs/more/lazy-cron.md",
      "summary": "This core module provides hooks that are automatically executed at various intervals.It is called 'lazy' because it's triggered by a pageview, so the interval is guaranteed to be at least the time requested (and maybe more) rather than exactly the time requested. The more pageviews your site gets, the closer it is. This is fine for most cases, but if you need it to be fully accurate I'll describe how you can make it not-lazy a little further down.How to installThis is a core module included with ProcessWire 2.1+. Go to Admin > Modules and click \"check for new modules\". Then click the \"install\" button for the LazyCron module. LazyCron is now installed and ready to be used by other modules or via the API.Hookable time intervalsThese are the function names you can hook from LazyCron. The function names describe the time intervals they provide. If you think I'm missing any important time intervals, please let us know and we can add more.every30SecondseveryMinuteevery2Minutesevery3Minutesevery4Minutesevery5Minutesevery10Minutesevery15Minutesevery30Minutesevery45MinuteseveryHourevery2Hoursevery4Hoursevery6Hoursevery12HourseveryDayevery2Daysevery4DayseveryWeekevery2Weeksevery4WeeksHow to use Lazy CronThis module is mainly of use inside the API and to other modules. You hook one of the named intervals mentioned in the list above, and the function you provide will be executed at approximately that time interval. Here's how you do it, both from a class (module) and outside of one:Usage in a class/module// initialize the hook in your AutoLoad module public function init() { $this->addHook('LazyCron::every30Minutes', $this, 'myHook'); } // the function you want executed every 30 minutes public function myHook(HookEvent $e) { echo \"30 Minutes have passed!\"; }Procedural usage (like in a template or elsewhere in the API):// create your hook function function myHook(HookEvent $e) { echo \"30 Minutes have passed!\"; } // add a hook to your function: wire()->addHook('LazyCron::every30Minutes', null, 'myHook');Arguments provided to the hooksIf desired, you can retrieve the number of seconds that have actually elapsed since your hooked function was last called:function myHook(HookEvent $e) { $seconds = $e->arguments[0]; echo \"30 Minutes have passed! (actual seconds were: $seconds)\"; }Note that in production usage, you probably wouldn't want to echo anything from these hooks because they are executed after the pageview was already delivered. So while you can directly echo output from these, it's probably not that useful (other than for demonstration purposes, like this).How Lazy Cron worksWhen installed, LazyCron hooks into ProcessWire's ProcessPageView::finished() method. This ensures that the scheduled tasks are executed after the pageview has already been delivered rather than before or during it. This hopefully avoids any perceived slowdown if the scheduled tasks take time.LazyCron provides a bunch of hooks that anything else can hook into. These functions are outlined in the section above titled \"Hookable time intervals.\" These functions are called at the interval specified in their name. LazyCron simply uses ProcessWire's existing hook system. So when you hook into any one of these functions, your hook will also be executed at that same time interval.LazyCron hooks are only executed during pageviews that are delivered by ProcessWire. They are not executed when using ProcessWire's API from other scripts.How to make it not-lazyIn most cases, the way that LazyCron works out of the box is just fine. But if your need requires assurance that the module will always execute at exactly the interval you need (rather than possibly later), you need to setup a real cron job to trigger a pageview in your site. So if you needed accuracy to 1 minute, you'd setup a cron job to execute every one minute, and pull a page from the site. There are any number of ways you could pull a page from your site, but here is one using wget:wget --quiet --no-cache -O - http://www.your-site.com > /dev/nullThat command basically says to pull a page from the site, don't tell us anything, don't cache the request, and discard any output.",
      "kind": "page"
    },
    {
      "title": "ProcessWire tutorials",
      "url": "https://processwire.com/docs/tutorials/",
      "category": "Tutorials",
      "file": "docs/tutorials.md",
      "summary": "If you like to learn by doing or by example, these tutorials will help you get up to speed with ProcessWire quickly.A Beginner’s Guide To ProcessWireThe Aesthetic Of Non-Opinionated Content Management. Published at Smashing Magazine. By Francesco Schwarz.Learn more →Hello WorldsIn this tutorial you will learn how to create and work with templates, fields, pages, and how to output dynamic data via your…Learn more →How to Create an AJAX Driven Theme for ProcessWireIn this tutorial we will look at setting up a simple theme in ProcessWire, we’ll investigate delayed output (now the default…Learn more →How to Develop a Processwire ThemeIntroduction to theming via template files, external tutorial at Envato Tuts+. By Ben Byford.Learn more →Default site profileIf you've installed ProcessWire's default site profile and want a guide on how the template files work, this is for…Learn more →How to structure your template filesHow to use some of the more common strategies used by developers in structuring template files. Includes pros and cons as well as…Learn more →Using custom page types in ProcessWireA look at some lesser known advanced techniques that enable you to introduce new conveniences by creating custom page types. An…Learn more →More tutorialsThis link takes you to an external website (pwtuts.com) that hosts several useful ProcessWire tutorials.Learn more →",
      "kind": "page"
    },
    {
      "title": "ProcessWire tutorial: how to structure template files",
      "url": "https://processwire.com/docs/tutorials/how-to-structure-your-template-files/",
      "category": "https://processwire.com/docs/tutorials/default-site-profile/",
      "file": "docs/tutorials/how-to-structure-your-template-files.md",
      "summary": "How to use some of the more common strategies used by developers in structuring template files. Includes pros and cons as well as extensive examples.When ProcessWire loads a template file, it hands it a copy of the current $page, along with all of the other ProcessWire API variables. Beyond that, it is just a regular PHP file. What happens within that file is entirely to the developer.ProcessWire knows nothing about the type of output you intend to produce with that template file. In fact, you can produce any kind of output with your template file, which is one of the reasons why ProcessWire is so flexible. But with flexibility comes some ambiguity, especially for developers new to ProcessWire. Such developers may be asking themselves \"what exactly should I put in this template file?\" or \"what are the best practices?\".With this tutorial, we hope to outline some of the more common strategies used by developers in structuring template files. So as not to extend the scope too broadly, we'll limit this tutorial to output of HTML documents and the different methodologies one might use.Note: This tutorial does not yet cover Markup Regions, something new to ProcessWire 3.x, which is a nice mashup between direct and delayed output.Remember to enable debug modeRegardless of what template file strategy you use, you will almost always want debug mode ON when you are working with template files. This ensures that you see error messages and notices as they occur. On a production site you would of course want error messages suppressed so that they do not interfere with the user–or worse–reveal sensitive details that might affect security. But when developing a site and making edits to template files, you most certainly want to see error messages and notices, otherwise it would be very difficult to make progress! Edit your /site/config.php file, locate the line referring to $config->debug and change it from false to true.file:/site/config.php$config->debug = true;Remember to change it back to false before your site is live.Direct OutputThe first strategy is the easiest to understand (though also likely the least flexible). But even if you don't intend to use this strategy, read on, as it does help to establish the context that template files operate in. When a template file is used as direct output, the only difference between a template file and an HTML file is that you can use some PHP in there when you want to. Here is an example of a template file using direct output:file:/site/templates/basic-page.php<html> <head> <title>Hello World</title> </head> <body> <h1>Hello World</h1> <p>How do you like my HTML document?</p> </body> </html>There literally isn't any difference between that and a regular old HTML document. Lets go a little further and throw in some PHP so that the output of the <title> tag, <h1> tag and body copy are dynamic, coming from the $page being viewed:file:/site/templates/basic-page.php<html> <head> <title><?php echo $page->title; ?></title> </head> <body> <h1><?php echo $page->title; ?></h1> <?php echo $page->body; ?> </body> </html>Simply by adding <?php echo $page->title; ?> where we want to output the page's title, and <?php echo $page->body; ?> where we want to output the page's body, are all that is necessary to have a template file that we could use for dynamic output of any page in our site. Note that you may also shorten that to just <?=$page->title?> and <?=$page->body?> if you prefer (and the same goes for the rest of this tutorial), but we will stick to the longer syntax since there are still a few (rare) web servers out there that may not support these PHP short open/close tags.Getting back to the real world, it's not likely our site will only need one template (and template file). And chances are our document markup will consist of a lot more than what this simple example shows. That leads us nicely into our next template file strategy…Direct Output with IncludesWhen we want to utilize the convenience of direct output, but don't want to repeat the same markup in every template file, we move the code that we want to re-use into separate files. That way we can have multiple template files that pull in the same bits of code without us having to repeat ourselves. The benefit is that if we need to change something, we only need to change it in one place rather than in all of our template files.To get started, lets figure out the parts of our basic-page.php template file that we want to re-use in other template files. In this case, we know that the markup at the top of all our template files will be the same, so lets move that to a head.inc file (or whatever you want to name it). We'll use the .inc extension for the file just to clarify that it is a file meant to be included in others, rather than a dedicated template file of it's own (though this naming convention is optional).file:/site/templates/head.inc<html> <head> <title><?php echo $page->title; ?></title> </head> <body> <h1><?php echo $page->title; ?></h1>We also know that the markup at the end of all our template files will be the same, so we'll move that markup into a foot.inc file.file:/site/templates/foot.inc</body> </html>Where the template files will vary is what's in-between head.inc and foot.inc. So we'll use our basic-page.php template file to do the following, in this order:include the head.inc fileoutput contentinclude the foot.inc fileHere's how we might do that:file:/site/templates/basic-page.php<?php include(\"./head.inc\"); echo $page->body; include(\"./foot.inc\");The output is identical to when basic-page.php was an entire HTML document. But our template file has become a lot smaller, and we can re-use our head.inc and foot.inc in any other template files that we want to. For instance, we might have another template called sidebar-page (with file sidebar-page.php) that produces output similar to basic-page.php while being able to support separate bodycopy and sidebar columns:file:/site/templates/sidebar-page.php<?php include(\"./head.inc\"); ?> <div id='bodycopy'> <?php echo $page->body; ?> </div> <div id='sidebar'> <?php echo $page->sidebar; ?> </div> <?php include(\"./foot.inc\"); ?>Using includes for head.inc and foot.inc is just for starters. You can use includes for literally anything. Many people refer to these types of includes as partials. You can extend their use to anything that you might want to repeat or reuse in any template file.Direct output with automatic inclusionsIt's not actually necessary to manually include(\"./head.inc\") and include(\"./foot.inc\") in each of your template files. You can make this happen automatically by editing your /site/config.php file and populating these two lines like so:$config->prependTemplateFile = 'head.inc'; $config->appendTemplateFile = 'foot.inc';What the above essentially says is to automatically load the contents of head.inc file before your template file (prepend), and load the contents of foot.inc after your template file (append). The result is that it's no longer necessary to manually include those in each of your template files. These automatic inclusions actually come in handy in other template file strategies too, so keep them in mind!Disadvantages of direct outputWhere direct output starts to fall apart is when you want to affect the output in multiple regions on a page. In our examples above, our template files only control the output for what comes between head.inc and foot.inc. While we could accommodate more regions with additional includes, it starts to get a little cumbersome. What if any of our template files could populate any region in our markup without us having to know exactly where it will go ahead of time? That leads into our next strategy…Delayed OutputAlso known as the main.inc strategyThis strategy focuses on generating the output for all the various regions of our final document ahead of time, and temporarily storing them in placeholders (called variables). Rather than including a head.inc and foot.inc file, we instead just include a main.inc file at the end. That main.inc file knows where to output all the placeholders.The placement of content matters little to our template files, which can focus purely on populating those placeholders. Should the site later be re-designed and have everything get moved around, our template files don't need to change. Only our main.inc file and CSS files are likely to need adjustment to support the new design.What does this strategy look like?When using delayed output with variables, your template files focus on populating variables rather than outputting them. This leads to template files that are quite a bit simpler, and occasionally even blank! Here's an example of what our template file might look like:file:/site/templates/basic-page.php<?php $headline = $page->get(\"headline|title\"); $bodycopy = $page->body; $sidebar = $page->sidebar; include(\"./main.inc\");As you can see above, our template file is simply populating 3 predefined regions by using placeholder variables: $headline, $bodycopy, and $sidebar. These variables are populated with values that we want to be output in main.inc. Then we end by just including the main.inc file. What does this mysteries main.inc file look like?file:/site/templates/main.inc<html> <head> <title><?php echo $headline; ?></title> </head> <body> <div id='bodycopy'> <h1><?php echo $headline; ?></h1> <?php echo $bodycopy; ?> </div> <div id='sidebar'> <?php echo $sidebar; ?> </div> </body> </html>What this example isn't showing is that your $bodycopy and $sidebar may consist of a lot more than just $page->body and $page->sidebar. Which leads us to…Populating placeholders (variables) with moreLets say that you want your $bodycopy to include a list of comments at the end, and you want your $sidebar to include sub-navigation to child pages. Here's how that might look:file:/site/templates/basic-page.php<?php $headline = $page->get(\"headline|title\"); // bodycopy is body text plus comments $bodycopy = $page->body . $page->comments->render(); $sidebar = $page->sidebar; // check if this page has any children if(count($page->children)) { // render sub-navigation in sidebar $sidebar .= \"<ul class='nav'>\"; foreach($page->children as $child) { $sidebar .= \"<li><a href='$child->url'>$child->title</a></li>\"; } $sidebar .= \"</ul>\"; } include(\"./main.inc\");As you can see, we can put whatever we want into our predefined placeholders/variables very easily. We've got a lot of flexibility here.Defining new placeholders to represent new regionsLets say that we wanted to let our main.inc file decide where the sub-navigation should appear, rather than us appending it to the sidebar. Whether you need that or not depends, but lets look at how we might approach it. We will give our main.inc full control over where that <ul class='nav'>…</ul> sub-navigation lives. We could do that by setting up another placeholder variable, which we will name $subnav. Rather than populating $sidebar, we would populate $subnav. Then our main.inc file would determine where that $subnav gets displayed.Using the placeholder to hold pages rather than markupIn this particular case, we would have to repeat ourselves with writing the foreach() code to generate the <ul class='nav'>…</ul> in every template file where we wanted sub-navigation. It would make more sense to let our main.inc file handle that markup generation, and let our template file just pass it the list of pages that should appear in that sub-navigation. So we will use our $subnav placeholder variable to hold a group of pages rather than a string of markup. Here's how that might look:file:/site/templates/basic-page.php<?php $headline = $page->get(\"headline|title\"); $bodycopy = $page->body . $page->comments->render(); $sidebar = $page->sidebar; $subnav = $page->children; include(\"./main.inc\");And here's how the main.inc file might look:file:/site/templates/main.inc<html> <head> <title><?php echo $headline; ?></title> </head> <body> <div id='bodycopy'> <h1><?php echo $headline; ?></h1> <?php echo $bodycopy; ?> </div> <div id='sidebar'> <?php echo $sidebar if(count($subnav)) { echo \"<ul class='nav'>\"; foreach($subnav as $child) { echo \"<li><a href='$child->url'>$child->title</a></li>\"; } echo \"</ul>\"; } ?> </div> </body> </html>Adding an init.inc file to the mix (a best practice)One of the problems with the above examples is that each template file must populate every single placeholder variable output by the main.inc file. If you decide to add a new placeholder for a new region, you'd have to go back and edit all your template files to account for it. Otherwise you'd end up with \"undefined variable\" notices. In addition, maybe a lot of our template files simply don't need $bodycopy to be anything more than $page->body and don't need $sidebar to be anything more than $page->sidebar. We could think of those as our default values. Wouldn't it be nice if we didn't have to even mention them in our template files when we didn't need them to be different from the default?This is an easy task to accomplish. Simply include an init.inc file at the top of each template file. Like the name implies, the init.inc file initializes all the placeholder variables that will get output in main.inc by establishing default values to them. Here's how our init.inc file might look:file:/site/templates/init.inc<?php $headline = $page->get(\"headline|title\"); $bodycopy = $page->body; $sidebar = $page->sidebar; $subnav = $page->children;Now all of our placeholders in main.inc are accounted for with default values. Our template files can focus only on modifying the placeholders that they want to be different from the defaults. Our basic-page.php only needs to append comments to the $bodycopy, so it now looks like this:file:/site/templates/basic-page.php<?php include(\"./init.inc\"); $bodycopy .= $page->comments->render(); include(\"./main.inc\");Automatic inclusionsWe now have a scalable and sustainable strategy for our template files, but it's a little annoying to have to repeat the include(\"./init.inc\"); and include(\"./main.inc\"); in every single one of our template files. Thankfully, there are two $config options that can solve this for us:file:/site/config.php$config->prependTemplateFile = 'init.inc'; $config->appendTemplateFile = 'main.inc';The $config->prependTemplateFile specifies the file that you want ProcessWire to load before your template file, and the $config->appendTemplateFile specifies the file you want ProcessWire to load after your template file. These files are assumed to live in /site/templates/. They act as if they had literally been prepended or appended to your template file, sharing the same variable space as your main template file. This is what enables you to share variables between them. Meaning, a variable set in your init.inc file (like $bodycopy) will still be present (\"in scope\") in your template file, and will still be present in the main.inc file as well.After editing our /site/config.php file to add those two options, our basic-page.php template file may be reduced to just this:file:/site/templates/basic-page.php<?php $bodycopy .= $page->comments->render();When to use automatic inclusionsWhether or not you should use automatic inclusions kind of depends on the situation. If you are working with a site that has various output needs, some direct and some delayed, then automatic inclusions may get in the way. Likewise, if you have more than one main.inc file (perhaps representing different layouts) then it might be preferable to include() whatever output file you desire at the end of each template file. You may find in some cases that you'll use $config->prependTemplateFile, but not $config->appendTemplateFile. Again, it really just depends on the situation. However, now that you know about automatic inclusions, we think you'll find them very useful in many instances.",
      "kind": "page"
    },
    {
      "title": "ProcessWire tutorial: using custom page types",
      "url": "https://processwire.com/docs/tutorials/using-custom-page-types-in-processwire/",
      "category": "https://processwire.com/docs/tutorials/default-site-profile/",
      "file": "docs/tutorials/using-custom-page-types-in-processwire.md",
      "summary": "A look at some lesser known advanced techniques that enable you to introduce new conveniences by creating custom page types.An advanced tutorial by Benjamin MildeAs ProcessWire users you're probably aware of the fact that core objects like users, roles or languages are just pages. But that fact can actually be missed out quite easily as ProcessWire's api does offer lot's of conveniencies, which are specific to those objects.// Standard Pages $page = $pages->get(\"template=basic_page, title*=Boston\"); $page->is(\"hasRailstation=1\"); // Users $user = $users->get(\"name=superuser\"); // Custom repository $user->isSuperuser(); // Custom methodNow it wouldn't be ProcessWire and its extendable nature, if you couldn't add such conveniences for yourself. In the following I'll show you exactly how to do that, just be aware, that I'll expect a basic understanding of OOP and class inheritance going forward.First we'll look at how to create a custom repository api variable and after that we'll go an see how we can add custom methods to those pages, that our new repository as well as the $pages api variable will return.When to use this approachBefore we start I want to mention, that this approach is not really beneficial if you just want to add a single method here and there. Also it's not recommended to create a new repository classes for any small group of 3-5 pages. These classes, that we'll be creating here, are most useful if you know you'll be working with the type of data extensively throughout your site. Otherwise it may not be worth the effort.Custom repository API variableNow let's get onto the topic. When looking into the source files of those existing api variables there's one important similarity. They do all extend the same class, which is PagesType. This class is a baseline implementation of what we're trying to create – just flexible enough, so it just needs some setup to be ready to use.As an example scenario, which will make it easier for me to explain all the settings, we'll imagine we're building a website, which besides some static content does feature an not so small events section. Now we can already guess that we'll often need to work with event pages. Maybe there will be various places, where we need to select events happening in specified timeframes. We don't want to repeat the selector for such a specific selection in all those places, but rather handle them once and reuse the logic later.To do so we'll first add an events.php file somewhere in the site/ folder. We'll use site/api/events.php for this tutorial. If you're using an class autoloader like composer (or ProcessWire 3) than you can use that to load the file, but we'll just simply include the file via the site/config.php.// site/config.php … include_once( __DIR__ . \"api/events.php\");And on to the new class file we just created.<?php // site/api/events.php class Events extends PagesType { /** * Construct the Events manager for the given parent and template * * @param Template|int|string|array $templates Template object or array of template objects, names or IDs * @param int|Page|array $parents Parent ID or array of parent IDs (may also be Page or array of Page objects) */ public function __construct($templates = array(), $parents = array()) { parent::__construct($templates, $parents); // Make sure we always include the event template and /events/ parent page $this->addTemplates(\"event\"); $this->addParents($this->pages->get(\"/events/\")->id); } /** * Custom method to find by date range * * @param int $start timestamp * @param int $end timestamp * @param string|null $additionalSelector (optional) * @return PageArray */ public function findInDateRange($start, $end, $additionalSelector = null){ // Build selector $selector = \"enddate>=$start, (enddate<=$end), (startdate<=$end)\"; if($additionalSelector) $selector .= \", \" . $additionalSelector; // Search only the available events with the selector return $this->find($selector); } }That all there is to it for now. With the strong base implementation of PagesType we just need to set our new class to always use our custom template and its parent page and we're done. This new class will from now on only search the pages, which fit our specified criteria (and optionally the ones passed into the constructor).The second method is for our custom need to search by a timeframe. It's only building up a selector and then query its pages for that selector. Notice, that we don't need to specify the template or parent page here anymore. That's already been taken care of.Now we've a class that does handle all the event management, but we still need another step to actually use it in our templates. We need to instanciate the class and create an api variable to hold it. For that we'll create a site/init.php file – if not already existing – and add the following.<?php // site/init.php $events = new Events(); $this->wire('events', $events, true);Now everywhere, where the ProcessWire api variables are present, there will additionally be a $events or wire('events') variable present and we can simply call our custom find method to retrieve some christmas events.<?php // site/templates/someTemplate.php $from = strtotime('2015-12-01'); $to = strtotime('2015-12-24'); $christmasEvents = $events->findInDateRange($from, $to, \"christmas=1\"); echo \"<ul>\"; echo $christmasEvents->implode(\"<li><a href='{url}'>{title}</a></li>\"); echo \"</ul>\";Custom methods for eventsIn this second part of the tutorial we'll add custom methods to the event instances we'll be getting from our new $events api variable. For our example we'll be implementing a check if an event does start at the current day, which might be something often required throughout the site.There are two ways of extending ProcessWire objects – Hooks and inheritance. Technically we could've used hooks for the above setup as well, but I'd not recommend that for reasons I'll explain at the end of the tutorial. But for adding few methods to pages hooking is actually a plausable alternative to inheritance. Therefore I'll include a short example on how to hook methods in here as well.Hooking// site/init.php … $wire->addHook(\"Page(template=event)::startsToday\", function(HookEvent $event){ $page = $event->object; return $event->return = date(\"Y-m-d\", $page->getUnformatted(\"startdate\")) == date(\"Y-m-d\"); });We're using a conditional hook here. This means ProcessWire will make it look like the method does not exist on a page, which isn't an event, and return a result just in the case it is one. This is the way I'd recommend for one-of additions.InheritanceThe second option we have is extending the Page class like we did it above with the PagesType class. For that we'll create another file site/api/event.php and include it like the one previously.<?php // site/api/event.php class Event extends Page{ /** * Create a new Event page in memory. * * @param Template $tpl Template object this page should use. */ public function __construct(Template $tpl = null) { if(is_null($tpl)) $tpl = $this->templates->get('event'); if(!$this->parent_id) $this->set('parent_id', $this->pages->get(\"/events/\")->id); parent::__construct($tpl); } /** * Does the event start today * * @return bool */ public function startsToday(){ return date(\"Y-m-d\", $this->getUnformatted(\"startdate\")) == date(\"Y-m-d\"); } }As you can see, this is quite similar to the other class above. We make sure, that even without the constructor parameter we'll instanciate the class for the correct parent page and template and we've added the same method we added by the hook before, just in a much more readable fashion.With that class we can now do things like that:$event = new Event(); $event->startdate = time(); $event->startsToday();Notice, that we again don't need to care about any template or parent setting. It's already specified in the class itself. But by now the class will only be used if we instanciate a new event. To make ProcessWire use this class we'll need to go and enable the advanced mode in the site/config.php and then edit the event template in the backend. Under the system tab we set Event as the class to be used for that template, so all event pages we'll receive from any api variable are actually of our new Event class.Additionally we'll add the following line in the constructor of our Events class, which is just an extra enforcement, but it also makes our custom repository class more predictable by specifically stating that it should return objects of that class.// site/api/events.php … public function __construct($templates = array(), $parents = array()) { […] $this->setPageClass('Event'); } …Why not use hooksBefore I end here I want to cover the reasons why I sometimes favor inheritance over hooks. Hooks are great, but have some backdraws especially for more complex systems, which benefit most from those classes we've created.The syntax of hooks, while being quite easy to use, is still harder to reason about when glancing over it and even more if you're not familiar with the codebase. Imagine a method with three or even more parameters and you need to first retrieve all of them from the injected HookEvent object and test them against null to be sure they're even provided. If you need default values, you need to create the logic manually as well.Also as hooks are just runtime replacements for real methods they don't have features like visibility properties (public, protected and private) or type hinting. While really a lot of functions can already be hooked for example the constructors cannot and we did change the constructor logic in both of our classes.Finish upI hope you enjoyed this excursion into some more advanced ProcessWire usage and you learned something new. Maybe this can encourage you to explore the core files of ProcessWire on your own. It can be exciting to not use a magic box anymore, but understand a bit about what's actually happening.",
      "kind": "page"
    },
    {
      "title": "Selector Cheatsheet",
      "url": "https://processwire.com/docs/selectors/operators/",
      "category": "Cheatsheets",
      "file": "cheatsheets/selectors.md",
      "summary": "Selectors are simple strings of text that specify fields and values. These selectors are used throughout ProcessWire to find pages (and other types of data).For example, name=karena is a simple selector that says: “find items that have the name karena.” Selectors in ProcessWire are loosely based around the idea and syntax of attribute selectors in jQuery.The components of a selectorWhere do you use selectors?Selector fieldsSelector operatorsSelector valuesSpecifying multiple selectorsOR selectors: matching one value or anotherOR selectors, matching one field or anotherAND selectors: matching more than one value in the same fieldOR-groups: matching one group of selectors or anotherSub-selectors: selectors within selectorsSorting the results of a selectorLimiting the number of results returned by a selectorCount selectors – finding matches by quantitySubfield selectorsOwner selectorsFinding pages that use specific templatesFinding pages that have specific parents or ancestorsMatching different subfields from the same (1) row in a multi-value fieldAccess control in selectorsAPI variables in stored selectorsSanitizing user input in selectorsExamples of selectors as used in page templatesThe components of a selectorAn individual selector consists of three parts: the field you are looking for, an operator (like an equals '=' sign), and the value you want to match. For example, a basic selector might be:title=productsIn this example, \"title\" is the field, the equals sign \"=\" is the operator, and \"products\" is the value you want to match. This basic selector would match all pages having a title field of \"products\", regardless of where they exist in the site. You may also specify multiple selectors by separating each with a comma.Where do you use selectors?Selectors are used throughout ProcessWire, typically for getting and finding pages with the $page and $pages variables. Below is a list of the most common functions where selectors are used:$pages->find(\"selector\"); $pages->get(\"selector, path or ID\"); $page->children(\"selector\"); $page->siblings(\"selector\"); $page->find(\"selector\");Any function that accepts a selector will accept multiple selectors split by a comma.While you are less likely to use them, most of the other utility objects in ProcessWire, all of the array types, and several field types also accept selectors:$matches = $templates->find(\"selector\"); $matches = $users->find(\"selector\"); $matches = $fields->find(\"selector\"); $matches = $page->images->find(\"selector\")->not(\"selector\"); // ...and so on...Below we examine the 3 parts of a selector in more detail: fields, operators and values.Selector fieldsThe field portion of a selector may refer to any field of a page. If you want to know what fields you can use for matching, see \"Setup > Fields\" in your ProcessWire admin. All custom fields are typically optimized for fast matches.If you want to match a value in one field or another, you may specify multiple fields separated by a pipe \"|\" symbol, i.e.title|name|headline=productsUsing the above syntax, the selector will match any pages that have a title, name, or headline field of \"products\" or \"Products\". Selector values are not case sensitive unless you configure your MySQL with a case sensitive collation.Selector operatorsThe operator portion of a selector may be one of the following:=Equal toGiven value is the same as value compared to.!=Not equal toGiven value is not the same as value compared to.<Less thanCompared value is less than given value.>Greater thanCompared value is greater than given value.<=Less than or equal toCompared value is less than or equal to given value.>=Greater than or equal toCompared value is greater than or equal to given value.*=Contains phrase/textGiven phrase or word appears in value compared to.~=Contains all wordsAll given whole words appear in compared value, in any order.%=Contains phrase/text likePhrase or word appears in value compared to, using like.^=Starts with phrase/textWord or phrase appears at start of compared value.$=Ends with phrase/textWord or phrase appears at end of compared value.%^=Starts likeWord or phrase appears at beginning of compared value, using like.%$=Ends likeWord or phrase appears at end of compared value, using like.#=Advanced text searchMatch full or partial words and phrases with commands.**+=Contains phrase expandPhrase or word appears in value compared to and expand results.*~*=Contains all partial wordsAll whole or partial words appear in value, in any order.*~~=Contains all words liveAll whole words and last partial word appear in any order.*~%=Contain all words likeAll whole or partial words appear in value using like, in any order.*~+=Contains all words expandAll whole words appear in value and expand results.*~|=Contains any wordsAny given whole words appear in value, in any order.*~|*=Contains any partial wordsAny given whole or partial words appear in value, in any order.*~|%=Contains any words likeAny given whole or partial words appear in value using like, in any order.*~|+=Contains any words expandAny given whole words appear in value and expand results.***=Contains matchAny given whole words match against value.***+=Contains match expandAny given whole words match against value and expand results.*&Bitwise ANDGiven integer results in positive AND against compared value.* Operators with asterisk require ProcessWire 3.0.160 or newer.For more details see, general operators, phrase matching operators and word matching operators. Also note that in ProcessWire 3.0.161 and newer, you can specify more than one operator at a time.Let's take a closer look at the word and phrase matching operators by starting with an example:title|body~=sushi tobikoThe above example would match all pages that have the words \"sushi\" and \"tobiko\" somewhere in either their title or body fields. The words don't need to be next to one another in order to match. Whereas this selector…title|body*=sushi tobiko...would match only those pages that had the exact phrase \"sushi tobiko\" present in either their title or body fields. As it's a phrase match, the words must be next to each other in that order. Here's an alternate method to do the same thing, but with some compromises and benefits:title|body%=sushi tobikoThis works exactly the same way as the *= except that it uses a different method with the database engine. This operator has an advantage over the *= operator when you may need to match very short words or stopwords. As a result, it can match some things that *= and ~= can't.The *= and ~= rely upon MySQL fulltext indexes, which only index words of at least a certain length (configurable, but typically 4 characters). They also don't index common English words called stopwords. So while it's potentially preferable to use *= and ~= for their index, if you aren't getting the results you need, you should consider using %= instead. Interestingly, there are cases where %= can be faster, and there are cases where it can be slower. Though in our experience the difference is often not measurable. Nevertheless, when doing optimization, you may want to test both to find what performs best for your case.The ^= and $= operators use a method similar to the %= operator, and can have potentially more overhead, but can also do something unique. They can match text at the beginning (^=) or end ($=) of a field.Negative operatorsYou'll notice we have a != \"not equal to\" operator. That's great for numbers and fields where we know the entire value, but not particularly handy for large text fields. For example, this would not be useful:body!=sushi tobikoThat would likely match all the pages in the site, unless you had a page that contained only the phrase \"sushi tobiko\" as the entire body field with nothing else in it. So that selector isn't useful, whereas, we can take a different approach to negate the result of any selector by simply preceding the field with an exclamation point \"!\", i.e.!body*=sushi tobikoThis would match all pages that didn't contain the phrase \"sushi tobiko\" somewhere in their body field. Now that is useful.Selector valuesAfter the operator comes the selector value that we want to match. At the basic level, little explanation is needed and the examples in the above section (operators) make that clear. But because selector values can contain nearly anything (including text submitted from user input, like a search for example), we need to take some special care with string-based selector values. If your selector value needs to contain a comma, you should surround your selector value in quotes, i.e.body*=\"sushi, tobiko\"If you don't surround such a selector in quotes, then ProcessWire will assume the comma is starting another selector (see specifying multiple selectors, below). Selector values may not contain double quotes as part of the value to match, unless you escape them with a backslash character \"\\\". Because the need to match double quotes is rare, a simpler approach is just to disallow double quotes from appearing in your selector values by filtering them out of user input. See the $sanitizer->selectorValue() method for a simple way to sanitize strings going into a selector.Selector values may contain single quotes or apostrophes. For that reason, single quotes aren't interchangeable with double quotes for surrounding selector values.You may also specify an either/or value, by separating each of the values that may match with a pipe character \"|\". More details and examples can be found in the \"OR selectors\" section below.Specifying multiple selectorsA selector string can match more than one field. You may specify multiple selectors together by separating each with a comma. For example, the following selector would match all pages with a year of 2010 and the word \"Hanna\" appearing somewhere in the body:year=2010, body*=HannaYou may specify as many selectors as you want as long as each is separated by a comma.OR selectors: matching one value or anotherIn instances where you need to match values in a single field with an either-or expression, the values should be split with the \"or\" operator, which is the pipe character \"|\". The following examples demonstrates its usage:firstname=Mike|Steve id=123|124|125 title*=Red|Blue|GreenEach of the above selectors matches pages that have either of the values specified between the pipe \"|\".OR selectors, matching one field or anotherThis was already described in the selector fields section above, but is repeated here for reference. Field names may be separated by a pipe \"|\" to indicate an OR condition:body|sidebar*=carbonatedThe above selector matches pages that have the word \"carbonated\" in either the body or sidebar fields.AND selectors: matching more than one value in the same fieldThere will be instances where you need to say that a specific field matches more than one selector. This is simple, just specify all the conditions you need to match as separate selectors in the same string. For example:height>500, height<=1000This AND selector matches all pages that have a \"height\" field greater than 500, and less than or equal to 1000.OR-groups: matching one group of selectors or anotherOR-group selectors let you specify multiple expressions and only one of them has to match in order for the selector to match. It's a way of saying \"either this has to match OR that has to match\". This is useful because selectors by default assume AND – meaning everything has to match. While you can use the pipe \"|\" to specify ORs for fields or values or both, the scope of it was just that field=value statement only. ProcessWire 2.5 added OR-groups where you can create multiple selector groups and only one of them has to match. You can specify OR-groups by surrounding selectors in parenthesis.An example demonstrates it best. Lets say that we wanted to find all \"product\" pages that were in stock, and either in a featured date range, or had a highlighted checkbox checked. Previously we would do like this with two separate find operations:$items = $pages->find(\"template=product, stock>0, featured_from<=today, featured_to>=today\"); $items->add($pages->find(\"template=product, stock>0, highlighted=1\"));With OR-groups, we can do it in one find operation:$items = $pages->find(\"template=product, stock>0, (featured_from<=today, featured_to>=today), (highlighted=1)\");Above are two selectors surrounded in parenthesis. Only one of them has to match. You can specify as many of them as you want. This type of OR expression is supported by ProcessWire 2.5 and newer. Think of the parenthesis as a way of saying \"this is optional\". But of course, at least one of your parenthesized selectors has to match in order for the full selector to match.The above usage probably covers 99% of the situations where you might need it. But lets say that you want to have different combinations of OR expressions. You can create named groups that OR with each-other by specifying:foo=(selector1), bar=(selector2), foo=(selector3), bar=(selector4)In the above you'd replace \"foo\" and \"bar\" with names of your choice. And you'd replace the \"selector\" with any selector strings. Those foo/bar names aren't referring to fields, instead they are just named groups that you can name however you want. In that selector, at least one of the \"foo\" named selectors would have to match, and at least one of the \"bar\" named selectors would have to match. If you didn't use the foo/bar named groups here (but still used the parenthesis), then only one of the 4 selectors would be required to match.Please note: OR-groups work with database-driven find operations, but not with in-memory filtering (where they are less useful).Sub-selectors: selectors within selectorsSub-selectors let you put a selector within a selector, enabling you to perform more complex matches that you might have assumed would require separate API calls. These can be used on the 'id' property of any field that maps to a page. The 'id' property is assumed when referring to a page reference or a parent, so it's not necessary to specify it unless you want to, i.e. \"field\" and \"field.id\" mean the same thing in this case.Sub-selectors are specified between [square brackets]. For example, lets say we are matching products and our product template has a \"company\" page field. Each company also has its own page field where all the company locations are identified. Lets say we want to find all products that are made by a company that has more than 5 locations and at least one of those locations has \"Finland\" in the title. Without sub-selectors we would have had to do it like this:$companies = $pages->find(\"template=company, locations>5, locations.title%=Finland\"); $items = $pages->find(\"template=product, company=$companies\");That's easy enough. But with sub-selectors it's even simpler, requiring only one operation:$items = $pages->find(\"template=product, company=[locations>5, locations.title%=Finland]\");When you've got a field=[value] selector, any properties you refer to in \"[value]\" assume the \"field\"; so \"locations\" above is referring to a property of the \"company\" field.Please note: Sub-selectors work with database-driven find operations, but not with in-memory filtering (where they are less useful). Nested sub-selectorsIn ProcessWire 3.x, you can use nested subselectors:template=member, invoice=[status=paid, invoice_row!=[product.color=Red]]Sorting the results of a selectorThere is a reserved-word for selectors called \"sort\" and it may be used to specify what order should be returned by the matches. Here is an example of it's usage:sort=titleThat essentially says to sort the results by their \"title\" field, A-Z. If we want to reverse the sort, we just precede \"title\" with a minus sign, like this:sort=-titleThat would return results sorted by the \"title\" field, Z-A.You may specify multiple fields to sort by. For example, lets say that you wanted to sort first by date descending (newest to oldest) and then by title ascending, you would do this:sort=-date, sort=titleThat way if two results had the same date, the secondary sort would be alphabetical.In newer versions of ProcessWire, you can also specify multiple sorts with one single selector having a value with an OR condition, i.e. sort=date|title. In this case, \"date\" is the first sort and \"title\" is the second. You may add additional levels as needed, i.e. sort=date|title|priceHow results are sorted if you don't specify a \"sort\" in your selectorIn $page->children() and $page->siblings() the results are automatically sorted by the page's default sort field that you specify in the admin. If not specified in the admin, the pages will be sorted by the order they are placed in the admin. This behavior can be overridden by specifying your own sort=property (where property is any property or field name). With $pages->find() and $page->find(), if you don't specify your own sort=property, the results are sorted according to MySQL's text searching relevance. If no text searches are performed in your find(), the results are unsorted. As a result, it is generally a good idea to include a sort=property when using $pages->find(), especially if you care about the order and your find() operation is not text/relevance related.How to force pages to sort by their admin order with $pages->find()Unlike $page->children(), the $pages->find() method does not automatically sort by the order they appear in the site tree. This is because $pages->find() is not limited to finding pages specific to one parent, so it may be pulling pages from multiple places (according to your selector). If your parent page(s) are not already sorting by a specific field, you may still tell the find() to sort by the parent's order by literally specifying sort=sort in your selector. This is the same as saying \"sort by whatever order I dragged the pages to in the admin.\" But note that if the results have multiple parents, the resulting order isn't likely to be that useful.Limiting the number of results returned by a selectorIf you are dealing with a lot of potential results, you may want to limit the number of returned results for pagination or other reasons. In order to specify a limit, use the reserved word \"limit\" as a selector, i.e.limit=50 That selector tells ProcessWire to return 50 (or fewer) results. The starting result is always the first, unless you use the \"start\" reserved word, i.e.start=50, limit=50This tells ProcessWire to return 50 (or less) results starting at the 51st (results 51–100).If you are using a limit selector with pages, and your template has page-numbers (pagination) turned on, ProcessWire will automatically set the \"start\" selector according to the current page/pagination number. So when it comes to pagination, you don't usually have to think about anything other than the \"limit\" selector.Count selectors – finding matches by quantityYou can match pages with multiple-value fields based on the number of values they contain. For instance, you can find all pages with a given number of children, images, page references, files, comments, etc. You do this by appending .count to the field name. This is best demonstrated by an example. The following example would find pages that have at least 1 child and between 3 and 5 images:children.count>0, images.count>=3, images.count<=5 In this next example, we'll assume you have a page reference field called 'categories', and you want to match all pages that have zero (0) categories:categories.count=0Note that a selector like the above will literally match all pages that have a 'categories' field without any selected. It will not match pages that don't have a 'categories' field.The 'children' field is automatically built-in to all ProcessWire pages. It is also the only countable field where you can only specify one count operation per query. To clarify, the first example above demonstrates matching 3 to 5 'images'. You can't do this with children.count since it can only be specified once per query. This limitation may be changed at some point in the future. Subfield selectorsSome field types support selection by subfield, where a subfield holds a value independent of the field's regular value. This is only used with field types that contain more complex data types. Examples include Page fields, Repeaters, Files, Images, Comments and Map Markers, among others. Usage in a selector is quite simple and very similar to the count selectors, mentioned in the previous section. The format goes like this:field.subfield=valueOther than the specification of the \".subfield\", the selector is no different from any other. You may use any operators or selector features that you would use elsewhere. For our first example, lets say we have a field called \"images\" and that you want to find all pages that have at least one image containing the word \"atrium\" in the image description:images.description*=atriumHere is an example of using a subfield selector with a repeater field (or a Page or PageTable field) called buildings that contains various subfields describing the building. Lets say we want to locate all pages that have at least one building greater than 1000 feet, and at least one building built before 1980:buildings.feet_high>1000, buildings.year_built<1980If you instead want to find all pages that have at least one building greater than 1000 feet that also happens to be built before 1980 (matching the same exact building, even if the page has multiple buildings) then you can specify that in the selector by preceding the field name with a \"@\", i.e.@buildings.feet_high>1000, @buildings.year_built<1980For more about this feature see matching the same row from a multi-value field. Owner selectorsOwner selectors let you match aspects of whatever Page reverse references another (whether from a Page field, Repeater field or PageTable field), and make it part of the find() criteria. There is a full dedicated post about about these, including several examples, see: Owner Selectors.Finding pages that use specific templatesYou can specify that your matches should be using a specific template like this (replacing 'name' with the name of your template):template=name…or specify that it can have any one of these templates:template=name1|name2|name3Finding pages that have specific parents or ancestorsTo specify that matches should have a specific parent, specify the parent's path, object or ID. First is an example of using the parent's path:parent=/path/to/parent/An example of using the parent's object (where $parent is an instance of a Page object):parent=$parentAn example of using the parent's ID (where 123 is the ID of the parent):parent=123Of course, you can also do this with any of the above syntaxes if it can be any one of multiple parents:parent=$parent1|$parent2|$parent3Now lets say that you want to find pages that include a particular parent as an ancestor. Meaning, the found pages must include the given parent at some point in the hierarchy between them at the homepage, whether as a parent, grandparent, great-great-grandparent, etc. To do this, use has_parent.has_parent=$parent has_parent=123 has_parent=/path/to/parent/You can specify a Page object, Page ID, or path, like shown above.Lastly, you can always replace the equals sign \"=\" in any of the above examples with \"!=\" to reverse the behavior. You might find it useful to find pages that don't have a given parent or ancestor:parent!=123 has_parent!=/path/to/parent/Matching different subfields from the same (1) row in a multi-value fieldWhile it’s not something you are likely to need on every project, it’s good to know about this advanced feature which lets you match the same (1) row in a multi-value field, just in case you need it sometime.Multi-value fields (such as Page, Repeater, Table, etc.) can have multiple rows of values, like a spreadsheet. A selector typically matches any of them, which is most often exactly what we need. But there may be times where we need to know that we are matching two or more subfields from the same exact row in a multi-value field.Consider this example selector below, which finds pages using the template “house” that matches values from a multi-value Page field named “categories”.template=house, categories.name=modern, categories.featured=1At first glance, we might assume this will match “house” pages that have the “modern” category, and with that category having a “featured” checkbox checked. But our “categories” field can hold more than one category. So a given “house” page might have multiple categories like: modern, multi-level, garage, etc. So are we matching a “modern” category that is “featured”, or are we matching a “modern” category, plus some other category that is featured?What the selector really says is this: find “house” pages that have a “modern” category, and also a category that has the “featured” checkbox checked. It does not say that they both have to be the same category. It only requires that one of the house’s categories is “featured”. And it may or may not be the “modern” category that is featured.What if we only want it to match the “modern” category if it is also “featured”? To do this, we use the “match same item” prefix @ in our field name, like this:template=house, @categories.name=modern, @categories.featured=1Now this selector will only match if the “house” has the category “modern” selected and “modern” has the “featured” checkbox checked.While rare, if you need to do this with more then one row (whether from the same field or a different field), then you’ll want to group your matches by giving them a name, i.e. foo@categories…. I usually just use a letter, like “a” or “b”, but you may use whatever makes the most sense to you. Below is an example:a@categories=modern, a@categories.featured=1, b@architects.locations.name=atlanta, b@architects.locations.showrooms>0Currently matching the same (1) row is known to be supported by multi-value Page, Repeater, and Table fields, and potentially others.Access control in selectorsPages with hidden or unpublished status will not appear in the results from database-querying selectors that can return multiple pages (i.e. functions that return the PageArray type). For instance $pages->find(), $page->children(), etc. In addition, pages that the user does not have access to view (via access control in template settings) will also not appear in the results. All of this is usually expected and desirable behavior. However, there may be instances where you actually want to include hidden, unpublished or non-viewable pages in results. To do this, you can use the \"include\" or \"check_access\" properties in your selectors.include=hidden indicates that you will allow hidden pages to be included in the results.include=unpublished indicates that you will allow both hidden and unpublished pages to be included in the results.include=all indicates that you don't want any exclusions and results may include hidden pages, unpublished pages, or pages that aren't viewable to the user via access control.check_access=0 indicates that you don't want access control to be a factor in the results returned. Results may include pages that the user can't view as a result of template access control settings. Pages that the user can't view only because they are unpublished will not be included. Hidden pages won't be included unless you've also used the include=hidden selector as well. Note that if you are using include=all then there is no reason to use check_access=0 since it is assumed.These are best demonstrated by examples:// results exclude hidden, unpublished or non-viewable pages $pages->find(\"template=skyscraper\"); // results may include hidden pages $pages->find(\"template=skyscraper, include=hidden\"); // results have no exclusions $pages->find(\"template=skyscraper, include=all\"); // results may include pages user can't view $pages->find(\"template=skyscraper, check_access=0\");Note that $pages->get(…); is not subject to this behavior (or access control) and include=all is assumed. This is because requesting a single page is a very specific request, and not typically used for generating navigation. To put it another way, if you are asking for a single specific page, we assume you mean it. If you want to retrieve a single page where include=all is not assumed, then use $pages->findOne(…) instead.The examples above are all focused on including pages in results that wouldn't usually be included, among other pages. But lets say that you want to find only pages that have a hidden, unpublished or locked status. This is a fairly uncommon need, so no need to commit this to memory, but we'll include it for completeness. You can do it by querying the \"status\" property:status=hidden indicates that you only want pages with hidden status to be included in the results.status=unpublished indicates that you only want pages with unpublished status to be included in the results.status=locked indicates that you only want pages with locked status to be included in the results.API variables in stored selectorsWhen used in a selector string, you can dynamically refer to a property/field from the current $page, $user or $session API variables like this: field=[page.id] (including the square brackets) where the field part is the field you want to match, the page part is one of \"page\", \"user\" or \"session\", and the id part can be any field or property available on the $page, $user or $session API variables. For $user and $page, the id part is assumed, so if you want to use [page.id] or [user.id] you can also just use [page] or [user]. Below are a few examples of using this feature in a selector string, through please also read the text the follows.// find pages created by current user $pages->find(\"created_users_id=[user.id]\"); // find pages with current page selected in related_pages field $pages->find(\"related_pages=[page]\"); // find pages matching some field you previously set in $session $pages->find(\"id=[session.last_viewed]\"); // find pages with categories field similar to current page $pages->find(\"categories=[page.categories]\");From the context of PHP code (like above), there's actually little reason to use this feature since you can already directly refer to PHP and API variables in double-quoted selector strings, for example $pages->find(\"related_pages=$page\"); Instead, where this feature becomes useful is when the selector needs to be stored for later processing. This would be the case for anything that needs to be configured, such as a module or field, or any other configuration need that might arise. For these cases, the values in [page], [user] or [session] can indeed be different from $page, $user or $session, because they represent the current values at runtime (when they are processed) rather than the values at the time they were stored.Sanitizing user input in selectorsIf you are supplying user input in selector values (like from a submitted form), you should sanitize the input before placing it in a selector. If you are expecting an integer for example, then type cast it as an int before using it in your selector, i.e.$year = (int) $input->post->year; $matches = $pages->find(\"year=$year\");If your selector value needs to contain more arbitrary strings, like for text matching, you must sanitize the value before sending it to a selector. You may want to use ProcessWire's built in $sanitizer for that purpose, specifically $sanitizer->selectorValue(). The sanitizer will remove any characters from the selector that could be problematic. Here is how to use it from your templates:$keywords = $sanitizer->selectorValue($input->get->keywords); $matches = $pages->find(\"keywords~=$keywords\");Though less common, if you are using a field name provided by user input, you should sanitize it like this with $sanitizer->selectorField():$field = $sanitizer->selectorField($input->get->field); $matches = $pages->find(\"$field=the value you want to match\");Examples of selectors as used in page templatesFind all pages using the skyscraper template$pages->find(\"template=skyscraper\");Find all skyscrapers with a height greater than 500 ft, and less than or equal to 1000 ft.$pages->find(\"template=skyscraper, height>500, height<=1000\");Find all skyscrapers in Chicago with 60+ floors, sorted by floors ascending$pages->get(\"/cities/chicago/\")->find(\"floors>=60, sort=floors\");Find all skyscrapers built before 1950 with 10+ floors, sorted by year descending, then floors descending$pages->find(\"template=skyscraper, year<1950, floors>=10, sort=-year, sort=-floors\");Find all skyscrapers by architects David Childs or Renzo Piano, and sort by height descending$david = $pages->get(\"/architects/david-childs/\"); $renzo = $pages->get(\"/architects/renzo-piano/\"); $pages->find(\"architect=$david|$renzo, sort=-height\");Find all skyscrapers that mention the words \"limestone\" and \"granite\" somewhere in their body copy.$pages->get(\"/cities/\")->find(\"template=skyscraper, body~=limestone granite\");Find all skyscrapers that mention the phrase \"empire state building\" in their body copy.$pages->get(\"/cities/\")->find(\"template=skyscraper, body*=empire state building\");OperatorsA selector like “field=value” consists of three parts—the field (or fields) you are looking for, an operator (like an equals “=”…Learn more →",
      "kind": "cheatsheet"
    },
    {
      "title": "Templates, Fields & Output Primer",
      "url": "https://processwire.com/docs/front-end/output/",
      "category": "Cheatsheets",
      "file": "cheatsheets/templates-output.md",
      "summary": "Template files receive content and how they deliver it to the user is what we call the output strategy. There are a few different options and this section covers each in detail.Direct outputYou already know direct output because it simply means printing output directly, as you might do in any other PHP script.Learn more →Delayed outputDelayed output focuses on rendering the content/markup for all the various regions of our final document ahead of time, but…Learn more →Markup regionsMarkup regions give you the best of both worlds—the simplicity of direct output with the power of delayed output, just using HTML.Learn more →",
      "kind": "cheatsheet"
    },
    {
      "title": "API Variables Map",
      "url": "https://processwire.com/docs/start/variables/",
      "category": "Cheatsheets",
      "file": "cheatsheets/api-variables.md",
      "summary": "ProcessWire provides various API variables to every template file. These variables provide full access to all site content. This page provides an introduction on how to use them.API variables can be accessed in a few different ways. The most common way is as a variable. Here are a few different ways you might access the same $page API variable (as an example):$page the most common access as a variable.page() accessing as a function can be very convenient, when available.wire('page') This works anywhere, and with any version of ProcessWire.wire()->page This works anywhere too, and is more IDE friendly.$this->page This is how you might access it from within a Wire-derived class.$this->wire('page') A slightly more efficient way you can access from within a Wire-derived class.$this->wire()->page Like the above, but more IDE friendly.$pages->wire()->page API variables can also access all other API variables, by way of their wire() method. In this example, we are accessing the $page API variable from the $pages API variable. So if you have any one API variable, then you actually have them all.Accessing API variables as a function rather than a variable can be more convenient when the variable version may be out of scope, or if your IDE highlights API variables as undefined. So whenever we refer to an API variable, make note that access it however you'd like.This is just an introduction to some of ProcessWire's API variables. Once you are familiar with these, you'll want to use ProcessWire's full API reference instead.Some of ProcessWire’s most common API variables$pageThe $page variable is provided to every template, and it contains all the fields specific to the page being viewed. This includes…Learn more →$pagesWhile the $page variable holds the current page, the $pages variable is where you can get at all the other pages in your site. It…Learn more →$inputThe $input variable is your connection to GET, POST and COOKIE variables, URL segments, page (pagination) numbers, and more.Learn more →$sanitizerThe $sanitizer functions are provided to fill the most common data sanitization needs with sites developed in ProcessWire. Always…Learn more →$sessionThis API variable provides access to read/write of session variables, login and logout of users, redirects, and more.Learn more →$fields$fields is an API variable that contains all the custom page fields in your site. It provides the API functions available in the…Learn more →$userThe $user API variable is your connection to the current user viewing the page.Learn more →$logThe $log API variable enables you to create, manage and filter log entries. Log files are stored in /site/assets/logs/.Learn more →$templatesThe $templates API variable provides access to all of your site’s templates. Use the $templates API variable to retrieve, modify…Learn more →$configThe $config API variable contains all the settings specific to your site configuration. This includes URLs and paths, database…Learn more →",
      "kind": "cheatsheet"
    },
    {
      "title": "Security Checklist",
      "url": "https://processwire.com/docs/security/file-permissions/",
      "category": "Cheatsheets",
      "file": "cheatsheets/security.md",
      "summary": "Getting your file permissions right is one of the most important factors in maintaining the security of your ProcessWire installation, particularly in non-dedicated/shared environments.Yet it's also one of the most difficult to get right, because there is no single correct answer that applies across all hosting environments. It is most definitely worth taking the time to make sure your file permissions are optimal for your environment.One of the first questions in determining what file permissions should be is whether Apache runs as your user account, or whether it runs as the same user for all accounts (like \"nobody\", \"www\" or \"apache\", for example). This is a question for your web host, as it depends entirely on their server configuration. Though if you want to do it yourself, there are a couple things you can do to make a reasonable determination yourself.Securing writable directories and filesPotential permissions for writable directories and filesPermission 755 for directories and 644 for filesWorst case: 777 for directories and 666 for filesWhere to modify ProcessWire's writable directory/file settingsHow to change permissions of existing filesSecuring your /site/config.php filePotential permissions for /site/config.phpDetermining what user apache runs asShould /site/modules/ be writable?Securing writable directories and filesWhen you install ProcessWire, it performs a check to see if the install.php file is writable. If it is, then there's a good chance (though not a guarantee) that Apache runs as your user account. If it detects this, it will recommend the 755 permission for writable directories and 644 permission for writable files, as a starting point. This translates to directories and files that are writable only to you, but readable to everyone else.If the installer populates 777 and 666 permissions, this translates to directories and files that are readable and writable to everyone, which is not a good scenario in shared environments. But without knowing more about the hosting environment, they may be the only permissions that we know for certain will enable ProcessWire to run. In either case, please read on for more details. In most cases you can further lock down these permissions with a little more information.Potential permissions for writable directories and filesPermissions below are organized in order of most secure to least secure. If Apache runs as you, chances are you can use the most secure permission options. When possible, inquire with your web host as to which permissions are best to use in your environment.Potential permissions for writable directories700 [rwx------] writable by owner, readable by owner (most secure, if it works)750 [rwxr-x---] writable by owner, readable by owner and group755 [rwxr-xr-x] writable by owner, readable by all (details)770 [rwxrwx---] writable by owner and group, readable by owner and group775 [rwxrwxr-x] writable by owner and group, readable by all777 [rwxrwxrwx] writable by all, readable by all (not secure, details)Potential permissions for writable files600 [rw-------] writable by owner, readable by owner (most secure, if it works)640 [rw-r-----] writable by owner, readable by group644 [rw-r--r--] writable by owner, readable by all (details)660 [rw-rw----] writable by owner and group, readable by owner and group664 [rw-rw-r--] writable by owner and group, readable by all666 [rw-rw-rw-] writable by all, readable by all (not secure, details)Is \"writable by group\" safe in a shared hosting environment?It depends who group implies. If group is the same as owner then it's just as safe as without any group permissions, though also not much point to it. But if group is instead the same group that other users on the system belong to, then it's not any safer than \"writable by all\".A common situation in web hosting is for group to be the same group belonged to by Apache (but not by other users), so that one could use a 770 for directories or 660 for files to give write permission to Apache without giving it to other users on the system.There's still a significant danger here though: other users on the system may still be able to create a PHP (or other language) script that runs as Apache, and thereby has all the group permissions that Apache does. In such a case, that user can still gain access to your files, if they are motivated enough and know what they are doing. That's assuming the hosting environment permits it. But last we tested, many still do. For these reasons, it's important to consult with your web host on what are the ideal permissions for your environment. For these same reasons, we recommend hosting in a dedicated environment whenever possible (regardless of CMS).Is \"writable by all\" safe in a dedicated hosting environment?If there aren't other users/accounts on the same server, then potentially yes, for the moment anyway. If there's nobody else on the server to consider, then \"all\" isn't anyone except you and your site. But we still recommend avoiding \"writable by all\" when possible because of what lies in the future. We simply don't know. Perhaps more accounts will be added to the server, perhaps the site will move to another server at some point, or perhaps some other part of the server or will get exploited. If you can avoid \"writable by all\" in your dedicated environment–even if it isn't technically necessary–you are buying some potential insurance for the future… though hopefully insurance that you'll never need.Permission 755 for directories and 644 for filesIf you see the installer identify these permissions (755 and 644), they are a good place to start. Though we recommend you confirm with your host, as well as check if the permissions can be locked down further. For instance your host may recommend 700 for directories and 600 for files, which would make files writable only to you and readable only to you (which is great, if it will work). Or they may recommend 750 and 640 which would make files writable and readable to you, and readable to a group. Alternatively, your host may recommend something entirely different, so take the time to find out what's right for your environment. In the end, if 755 and 644 work for your environment, further potential tweaks could worthwhile but may not be urgent.Worst case: 777 for directories and 666 for filesIf the installer populates permissions 777 for directories and 666 for files that means that it was unable to determine what the writable permissions should be, and 777/666 are the only permissions that we know for certain will work. However, these permissions are a worst-case scenario in terms of security, and you should not consider them unless in a dedicated environment. Those permissions effectively make the files readable and writable to all accounts on the server. That's not necessarily a problem if you are the only account on the server, but potentially a big problem if there are others. Particularly if you are in a shared environment, take the time to consult with your web host on what permissions to use for Apache-writable directories and files.Where to modify ProcessWire's writable directory/file settingsYour /site/config.php file contains two settings that control the writable directory and file settings:// permission for directories created by ProcessWire $config->chmodDir = '0755';// permission for files created by ProcessWire $config->chmodFile = '0644';Note that these permissions should be provided like above, as a string preceded with a 0. In other contexts (like with chmod, or perhaps your FTP client) you typically would omit the leading 0 that you see above.When you change the values of these two $config properties, it only affects directories and files created from that point forward. Any existing directories and files continue to have the existing permissions they already had. As a result, any time you make changes to these settings, you should also perform a recursive change to the permissions of all files in ProcessWire's writable directories. This includes /site/assets/ and everything within it, as well as /site/modules/ and everything in it (if you want to have a writable modules file system). Read the next section for details on how to do this.How to change permissions of existing filesIf you have SSH access to your account, a recursive permission can be performed with chmod. If you have FTP access to your account, most FTP clients support recursive permission changes, but usage will vary. We'll cover use of chmod here, since usage will always be the same. The following examples all assume you are executing chmod from the root installation of your ProcessWire site (the same directory where index.php is located).Change the permission of just one fileReplace /site/config.php with name of file you want to change, and replace 600 with permission you want to use. chmod 600 site/config.phpChange the permission of just one directoryReplace site/assets with the name of the directory you want to change, and replace 755 with the permission you want to use. chmod 755 site/assetsThe above would only change the permission for the site/assets directory, and not any directories within it. To change the permission of the site/assets directory and all directories within it recursively, see below. Change the permission of ALL directories (recursively)Replace site/assets with the name of the starting directory you want to change, and replace 755 with the permission you want to use. find site/assets -type d -exec chmod 755 {} \\;Change the permission of ALL files (recursively)Replace site/assets/ with the name of the directory where files are located, and replace 644 with the permission you want to use. find site/assets/ -type f -exec chmod 644 {} \\;Securing your /site/config.php fileIn a typical ProcessWire installation, your /site/config.php file is the one file that you need to make sure is not readable to any other user on the system (other than yourself and Apache). This file contains your database login and password information (and potentially other confidential information), so it's particularly important to lock this one down.In addition, the /site/config.php file needs to be writable by the installer (so it can record your settings), but it doesn't need to be writable afterwards. So it's a good idea to make adjusting the permissions of this file part of your regular installation process.As with other file permission settings, your /site/config.php permissions are primarily a consideration if you are in a shared (non-dedicated) hosting environment. In a dedicated environment, there aren't other potential users to worry about.While you can consult with your web host on what the best permissions for this file might be, you can also test things out yourself fairly easily. You can experiment with most restrictive permissions to least restrictive, until you find one that works.To change the permissions of this file, use chmod (if connected to your account via SSH) or use the permission settings in your FTP client. Usage will vary by FTP client. If using chmod from SSH, usage is as follows (replace \"400\" with whatever permission you want to apply): chmod 400 site/config.phpPotential permissions for /site/config.phpBelow are potential settings, ordered from most secure to least secure. Find the setting that works with your server, that balances your needs and security the best.How can you tell if the setting works with your server? Simply change the permission and load your site in a web browser. If you get your site, the setting worked. If you get an error message, 404 or nothing at all, the setting didn't work. Thats all there is to it.Recommend settings if you don't need write access: 400 [r--------] readable by owner (most secure, if it works)440 [r--r-----] readable by owner and group (if 400 doesn't work)Recommended settings if you need write access: 600 [rw-------] readable and writable by owner (most secure, if it works)640 [rw-r-----] readable and writable by owner, readable to group660 [rw-rw----] readable and writable by owner and groupNot recommended unless nothing else will work:*444 [r--r--r--] readable by all644 [rw-r--r--] readable by all, writable to owner664 [rw-rw-r--] readable by all, writable to owner and group* Should be okay in a dedicated environment. Determining what user apache runs asThis is a question for your web host, but if you are the DIY type, there's a way to find out yourself. Paste the following into a test.php file on your server and then load it in your browser:<?php echo exec('whoami');If the result is your account name, then Apache is running as you. This means you can most likely use more restricted permissions like 700, 750 or 755 for writable directories and 600, 640 or 644 for writable files.If the result is something else, like \"nobody\" or \"apache\" (or another you don't recognize) then Apache is not running as you, and you'll have to open up write permissions to group (i.e. 770 and 660) or [worst case] everyone (like 777 and 666). But before you even consider using permissions like 777 and 666 in a non-dedicated environment, consult with your web host as they will hopefully have a better recommendation.If you get an error message or nothing, then chances are exec() is not enabled for your server, as a security precaution. If that's the case, use this alternative script:<?php echo file_put_contents(\"test.txt\", \"test\");If you get a positive number number and no error message then Apache is most likely running as you–read item #1 above. If you get the number 0 and/or an error message, Apache is most likely not running as you–read item #2 above.Remember to delete your test.php file (and test.txt file, if applicable).Should /site/modules/ be writable?When you install ProcessWire, if it detects that your file system is writable by default (indicating that Apache is likely running as you), then you may wish to likewise maintain a writable /site/modules/ directory. This enables you to upload, pull, install, update and delete modules from your admin, which is a nice convenience.However, that convenience comes with a compromise. Writable directories with executable PHP files is making a compromise in terms of security. If a superuser account on your system is ever hacked into, you've got problems.If your environment is non-dedicated and you have to supply any \"all\" (or even \"group\") write permissions, then don't have a writable /site/modules/ directory. You are safer just installing modules by FTP in this environment.To reiterate and put it in different terms: if your writable permissions for ProcessWire require any permission higher than 755 for directories or 644 for files, and you are not in a fully dedicated environment, then do not have a writable /site/modules/ directory under any circumstance. Manage your modules with other tools (FTP, SCP, rsync, etc.) in this scenario.",
      "kind": "cheatsheet"
    },
    {
      "title": "Multi-language Checklist",
      "url": "https://processwire.com/docs/multi-language-support/",
      "category": "Cheatsheets",
      "file": "cheatsheets/multi-language.md",
      "summary": "Multi-language page names (URLs) and multi-language text fields make developing a multilingual site as easy as developing a single language site. ProcessWire's multi-language support includes a full gettext-style translation system, but with the translation tools built into the CMS, and without actually using gettext. You can also install (or create) alternate language packs for the admin side of ProcessWire.Multi-language support is installed with core modules available in the admin: Modules > Language > Language Support. If you just want to install alternate language packs, then all you need is the base Language Support module. If you want to support multi-language fields in your own site, then you should also install the Language Support Fields module. We also recommend installing Language Support Page Names module for multi-language URLs. Code i18nThis page provides detailed documentation on everything you need to know to make your template files or modules translatable…Learn more →Multi-language fieldsHere we look in detail at multi-language fields and language-alternate fields, as well as how to use them. Also includes a video…Learn more →Multi-language URLsMulti-language URLs and page names enable you to maintain different/translated URLs for each page, based on the language. It also…Learn more →Language PacksLanguage packs for use with the ProcessWire admin.Learn more →Multi-Language Support ForumA place to get support and chat about multi-language capabilities in ProcessWire.Learn more →Hreflang tag generatorHreflang tag generator for multi-language websites. Select a language and optionally a country to generate the hreflang tag.Learn more →Creating multi-language modulesIf you are a module developer, you might want to bundle multi-language translations with your module. This page covers all the…Learn more →",
      "kind": "cheatsheet"
    }
  ]
}
