# ProcessWire 3.0.44 – Repeater and Repeater Matrix upgrades

Source: https://processwire.com/blog/posts/pw-3.0.44-repeaters/

## Sections


## ProcessWire 3.0.44 – Repeater and Repeater Matrix upgrades

9 December 2016 by Ryan Cramer [ 3 Comments](/blog/posts/pw-3.0.44-repeaters/#comments)


## ProcessWire 3.0.44


### Repeater and Repeater Matrix updates

This week I started with a small tweak to our Repeater field and ended up doing a whole bunch of upgrades. That's how it often goes. Once you start making small updates to something, the thought “wouldn't it be cool if…” appears, so you find yourself working towards that. Then “oh wait, why not make it do this too…” appears, and so that gets done, and on and on… The week is over in seemingly a day, but there's lots to share.

As you probably gathered from above, the majority of the updates this week were focused on Repeaters (and resultantly [Repeater Matrix](/api/modules/profields/repeater-matrix/)). Most of these updates were either things that people asked for, or proposed at some point. So I can't take credit for any of the ideas. Here's a list of what's been added to Repeater and Repeater Matrix fields:

Below we'll cover some more details on the first item about repeater depth.

[](//d1juguve2xwkcy.cloudfront.net/assets/files/1231/screen_shot_2016-12-09_at_2_32_27_pm.png) Screenshot demonstrating an overly basic example of using repeater depth.


### Repeater depth

One of my favorite additions this week is something that Jonathan Lahijani came up with a few months ago: repeater items with depth. We've stuck pretty closely to his [original proposal here](https://github.com/ryancramerdesign/ProcessWire/issues/1906). He even made mocked up the functionality and made a [video](https://drive.google.com/file/d/0B0x_4Nn3mU3dbFVnX2ZjUzlXQWs/view) demonstrating it.

The result that we ended up with in this week's ProcessWire version is essentially the same as what Jonathan proposed, except that rather than clicking buttons (as in the video) you set item depth the same way that you sort repeater items, by dragging them where you want them to go. We also added a depth configuration property so that you can set the maximum depth that items are allowed to have.

Once you've got repeater items with depth, you might be wondering how you work with that on the front-end. It's very simple. All Repeater Page items have a depth property that you can access as `$item->depth` or `$item->getDepth()`. It returns a number from 0 to your max-depth setting, where 0 represents the default depth of repeater items (which is no depth). Lets say you wanted to use the depth setting to output an large nested unordered list of repeater items having a "title" field:

```
$depth = -1;
foreach($page->repeater_items as $item) {
  if($item->depth > $depth) {
    echo "<ul>";
  } else if($item->depth < $depth) {
    echo "</ul>";
  }
  echo "<li>$item->title";
  $depth = $item->depth;
}
while($depth--) echo "</ul>";
```

The code above is what we used to output the Repeater shown in the screenshot earlier above. Here's the result below. Please pardon our </ul> margins–that's the site's stylesheet.

- About
- Resources
- Products

Probably the simplest use case for something like this is as a menu builder. You don't really need such a thing in ProcessWire often, since the page tree serves that purpose. But I mention it just because it's probably the simplest way to introduce the concept. See the screenshot at the beginning of this section for an example of what it looks like as a repeater.

While a menu builder is a simple way to describe the concept of depth in a repeater, it barely scratches the surface on what's possible. In fact, it boggles my mind all the things that could be made possible when you consider that repeater items can have any ProcessWire fields present, rather than just the contrived title and URL of the menu builder example. Going further, consider where you can take this with [Repeater Matrix](/api/modules/profields/repeater-matrix/) fields, where you can have different kinds of repeater items in the same list. I'm looking forward to seeing how people use this feature.

To get started with using depth in a Repeater or Repeater Matrix field, simply edit the field settings and specify the maximum depth you will allow (near the bottom of the details tab). Once a depth is specified, it is enabled for the Repeater. Go and edit any page using that Repeater field and you can now drag items to have depth in the same way that you an drag them to sort them.

Below is a screenshot from the Repeater field edit screen, showing a few of the new configuration options.

[](//d1juguve2xwkcy.cloudfront.net/assets/files/1231/screen_shot_2016-12-09_at_2_34_10_pm.png)

Hope that you all have a great weekend and enjoy reading the [ProcessWire Weekly](http://weekly.pw)!
