# Custom fields for files/images in ProcessWire

Source: https://processwire.com/blog/posts/pw-3.0.142/

## Sections


## PW 3.0.142 - Custom fields for files/images

11 October 2019 by Ryan Cramer [ 3 Comments](/blog/posts/pw-3.0.142/#comments)

ProcessWire 3.0.142 has a lot of updates but the biggest is the addition of custom fields support for file and image fields. In this post, we take a closer look and also outline all of the new features in the just-released FormBuilder v40.


## Custom fields for files/images

While ProcessWire 3.0.142 has quite a lot of updates in it, the biggest is the addition of support for custom fields within File and Image fields. No longer are you limited to just the Description and Tags inputs for your files/images. Now you can add whatever fields you need.

Rather than trying to come up with some new way of defining custom fields, you define the custom fields for your file/image field with a Template. Simply create a template having the name "field-[name]" (replacing "[name]" with the name of your file/image field), add fields to it, save, and that's it. It's okay to add fields that might duplicate those already on your regular page template, as the fields for files/images are properties of each file/image rather than properties of any page.

Once a template exists for a file/image field, when editing a page, custom fields appear in the same place that you are used to seeing the image description field. In fact, if you are using custom fields, you might want to disable the description and/or tags fields for the image, just for a more consistent appearance of inputs (though it's not required).

Custom fields on file/image fields can be accessed the same way that they can be from a $page. So if you've added a "caption" field to your images field (like in my screenshot above) you could output it in the same way that you previously would have output a description. For example, below I'm going to output my images and include all my custom fields with it:

```php
<?php foreach($page->images as $image): ?>
  <figure>
    <img src='<?=$image->url?>' alt='<?=$image->alt?>' />
    <figcaption>
      <?=$image->caption?> <br />
      <em>
        Photographer: <?=$image->photographer?>,
        License: <?=$image->license->title?>
      </em>
    </figcaption>
  </figure>
<?php endforeach; ?>
```


### Considerations in the page editor

This feature is still kind of experimental at this stage. In particular, there are some visual glitches in the page editor when using custom fields in images fields. Our image fields have a lot of JS and flexbox CSS behind them that creates and destroys each image editor (in the DOM) when you click on the thumbnail, and not all input types (Inputfield modules) like this scenario. For example, I couldn't get CKEditor to work here — CKEditor looks just fine, but just doesn't work. Though I have a feeling we'll be able to get CKEditor working at some point. Regardless of the type, just be aware that the placement context is a little more tricky here than with other fields, so you may need to be flexible in how you accomplish a particular input need in some cases.

There are some visual glitches present, though they are pretty minor. For instance, clicking to open/collapse a field seems to briefly change the thumbnail size smaller, and then back again. I don't know why exactly, but there are some little things like that to work out still. Though I've already worked out a lot of them and don't think we have any left that will impede your ability to fully utilize these custom fields. Though do let me know if you find any showstoppers I might have missed, and I also appreciate any help in identfiying how to fix them as well.


### How to setup and use custom fields in file/image fields

*Note that the output formatting state of values accessed from your Pagefile/Pageimage will be consistent with the output formatting state of the Page they are accessed from. *


## FormBuilder v40 released

Now available for download in the FormBuilder support board is version 40 (beta), a major update to this Pro module. Some of the new features were [demonstrated](/blog/posts/pw-3.0.140-and-formbuilder-v40/) in a recent blog post with a screencast/video. Below is a list of all that is new in this version:

FormBuilder v40 is released as a beta version and is available to active subscribers in the [FormBuilder support board](/talk/forum/18-form-builder-support/) (login required).

For more details on other new additions to ProcessWire 3.0.142 be sure to check out ProcessWire Weekly [#281](https://weekly.pw/issue/281/) and [#282](https://weekly.pw/issue/282/) which has great coverage of the core updates. And if reading this on or after October 12th, be sure to read #283 as well. One other thing I wanted to mention is that after upgrading to 3.0.142, you may see a PW warning about the Image and File Fieldtype modules failing a configurable module status check — those are expected and will only appear on one or two requests after the upgrade—you can ignore them. Thanks for reading and please let me know if you have any questions on any of these updates. Have a great weekend!
